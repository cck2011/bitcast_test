{"version":3,"sources":["configuration/ion-sfu.ts","pages/LiveStream/assets/start.png","pages/LiveStream/components/Konva2.jsx","pages/LiveStream/assets/heart-with-arrow_hires.png","component/LiveStream/LiveStreamWindow.tsx","component/LiveStream/LiveStreamDescription.tsx","component/LiveStream/LiveStreamControlPanel.tsx","redux/LiveStream/actions.ts","component/LiveStream/LiveStreamChatRoom.tsx","component/LiveStream/LiveStreamRecommend.tsx","redux/user/reducer.ts","redux/createbid/reducer.ts","redux/products/reducer.ts","redux/LiveStream/reducer.ts","redux/homepage/reducer.ts","redux/searchResult/reducer.ts","redux/myLiveProducts/reducer.ts","redux/broadcastingProducts/reducer.ts","redux/utility/reducer.ts","store.ts","redux/user/actions.ts","component/common/subscribeButton.tsx","component/LiveStream/LiveStreamHeader.tsx","component/LiveStream/ErrorCannotDoubleBid.tsx","component/LiveStream/ErrorCannotSelfBid.tsx","component/LiveStream/ErrorPriceTooLow.tsx","component/LiveStream/ErrorUnknown.tsx","component/LiveStream/InputPhoneNumber.tsx","component/LiveStream/Login.tsx","component/LiveStream/LiveStreamBiddingInfo.tsx","pages/four0Four/four0Four.tsx","pages/four0Four/icon2p.png","pages/LiveStream/LiveStream.tsx","pages/loading/loading.tsx","pages/login/Form/SignupForm.tsx","pages/login/Form/LoginForm.tsx","pages/login/LoginCompoent/AnimatedSwitch.tsx","pages/login/LoginCompoent/formtitle.tsx","pages/login/LoginPage.tsx","pages/homepage/bidcast_logo.svg","redux/searchResult/action.ts","redux/products/actions.ts","redux/utility/actions.ts","pages/homepage/Navbar.tsx","pages/homepage/Footer.tsx","pages/createbids/components/Fontawsome.tsx","pages/createbids/CreateBids.tsx","component/LiveStream/LiveStreamRecommendSeller.tsx","pages/Profile-Page/component/Fontawsome.tsx","component/LiveStream/LiveStreamWindowSeller.tsx","component/LiveStream/LiveStreamControlPanelSeller.tsx","component/LiveStream/ErrorCannotStartCountdown.tsx","component/LiveStream/NotSeller.tsx","component/LiveStream/LiveStreamBiddingInfoSeller.tsx","pages/LiveStream/LiveStreamSeller.tsx","pages/homepage/SvgBorder.tsx","redux/broadcastingProducts/actions.ts","redux/homepage/action.ts","pages/homepage/ProfileDetails.tsx","pages/homepage/Broadcasting.tsx","pages/homepage/ProductDetails.tsx","pages/homepage/Incoming-auction.tsx","pages/homepage/assets/categories_green.png","pages/homepage/assets/categories_blue.png","pages/homepage/assets/categories_red.png","pages/homepage/assets/categories_yellow.png","pages/homepage/Recommendation.tsx","pages/homepage/SellWithBidcast.tsx","pages/homepage/assets/product01.png","pages/homepage/assets/arrow.png","pages/homepage/components/HomePageKonva.jsx","pages/homepage/Homepage.tsx","pages/Profile-Page/Sidebar.tsx","pages/Profile-Page/assets/bidcastQR.svg","pages/login/alert.tsx","pages/Profile-Page/AccountDetails.tsx","pages/Profile-Page/Follower.tsx","pages/Profile-Page/Following.tsx","redux/myLiveProducts/action.ts","pages/Profile-Page/MyLive.tsx","pages/Profile-Page/MyLiveProducts.tsx","pages/Profile-Page/MyBidHistory.tsx","pages/Profile-Page/Profilepage.tsx","pages/categories/SearchResult.tsx","pages/categories/CategoriesFilter.tsx","pages/categories/FilterProducts.tsx","pages/adblock/adblock.tsx","pages/adblock/icon2p.png","App.tsx","reportWebVitals.ts","index.tsx"],"names":["config","iceServers","urls","username","credential","codec","webSocketIP","Starpop","props","image","useImage","star","p3","useSpring","duration","from","x","width","y","height","rotation","opacity","scaleX","scaleY","to","Math","floor","random","_jsx","animated","Image","_objectSpread","Heartpop","Canvass","starList","setStar","useState","heartList","setHeart","starRef","useRef","heartRef","video","current","scrollWidth","scrollHeight","starAnimation","heartAnimation","useEffect","ws","on","eventListeners","click","handler","Stage","children","_jsxs","Layer","_createElement","onClick","event","length","splice","concat","key","ref","LiveStreamWindow","subVideo","client","signal","room","URLSearchParams","window","location","search","get","thumbnail","useSelector","state","liveStream","liveStreamInfo","liveId","id","IonSFUJSONRPCSignal","Client","onopen","join","timerId","setInterval","setTimeout","notify","ontrack","track","stream","onunmute","srcObject","controls","autoplay","muted","onremovetrack","clearInterval","className","poster","style","backgroundImage","process","REACT_APP_BACKEND_URL","backgroundRepeat","backgroundSize","starOnClickHandler","emit","heartOnClickHandler","LiveStreamDescription","description","LiveStreamControlPanel","carousel","products","liveStreamProducts","liveStreamProductsArr","goNextSlide","dir","goTo","productId","_carousel$current","page","slideCollection","getInfo","slideItems","undefined","Array","slideItem","parseInt","ariaLabel","split","isDesktop","maxHeight","Carousel","swipeAngle","items","nav","map","product","ind","src","productImage","alt","productName","minPrice","_Fragment","loadliveStreamInfo","type","loadLiveStreamProducts","success","loadLiveStreamProductsDynamicInfo","liveStreamProductsDynamicInfo","fetchliveStreamInfo","token","async","dispatch","getState","res","axios","data","title","seller","sellerId","sellerImage","currentViewers","e","console","log","fetchliveStreamProducts","isFull","productObj","buyPrice","bidIncrement","categoryId","productObjDynamic","currentPrice","isSelected","buyer","countdownEndTime","Date","parse","push","fetchBidIncrement","bidAmount","addCurrentPrice","localStorage","getItem","put","headers","Authorization","newPrice","isEnded","fetchInitialChatMessages","chatMessages","fetchSameCategoryLive","categoryIdSet","setIsLoading","recommendList","results","getRandomColor","letters","color","i","LiveStreamChatRoom","useDispatch","inputMessage","setInputMessage","messages","chat","setColor","colorArr","isAuthenticate","user","messagesRef","isVisible","setIsVisible","scrollToBottom","_messagesRef$current","_messagesRef$current$","_messagesRef$current$2","_messagesRef$current2","parentElement","scrollTo","top","size","setSize","dragRef","dragHandler","useCallback","_props$liveStreamRef4","_props$liveStreamRef5","_props$liveStreamRef6","_props$liveStreamRef7","onMouseMove","currentSize","movementY","liveStreamRef","addEventListener","onMouseUp","_props$liveStreamRef","_props$liveStreamRef$","_props$liveStreamRef2","_props$liveStreamRef3","removeEventListener","getWindowDimensions","innerWidth","innerHeight","windowDimensions","setWindowDimensions","handleResize","sendMessageHandler","message","arguments","post","toString","fetchChatMessages","setWs","io","initWebSocket","chatMessage","close","isTablet","minHeight","CustomScroll","keepAtBottom","onScroll","containerHeight","currentTarget","clientHeight","scrollTop","m","profile_pic","placeholder","value","onChange","target","onKeyDown","onMouseDown","LiveStreamRecommend","recommendListCopy","len","recommendation","min","item","history","pushState","REACT_APP_FRONTEND_URL","buyer_link","initialState","loadTokenInitalState","error","sellerFollowerInitalState","liveRecord","followerInitalState","userId","userDetails","followingInitalState","authReducer","action","produce","verifyOptions","maxAge","algorithms","publicKey","REACT_APP_PUBLIC_KEY","replace","payload","jwt","verify","email","created_at","login_method_id","phone_number","role_id","status_id","telegram_acct","telegram_chat_id","telegram_is_verified","updated_at","bids","categories","liveStreamProductsArrDynamic","dummy","comingAuctions","productDetails","productList","productFilter","myLive","myLiveProducts","myLiveId","broadcastingProduct","sidebarCollapse","menuCollapse","isClicking","createBrowserHistory","reducer","combineReducers","CreateBids","newState","category","router","connectRouter","sort","a","b","indSelectProduct","liveStreamProduct","indUpdateProductTime","endTime","indUpdateBidIncrement","tempMessage","comingAuction","authState","searchProduct","sortByDates","starting_time","is_ended","is_live","broadcastingProducts","utility","isCollapse","loadToken","follower","following","sellerFollower","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","routerMiddleware","thunk","login","loadFollowerDetails","loadFollowingDetails","logoutThunk","removeItem","checkPhoneNumber","checkCurrentUser","newToken","setItem","fetchSellerSubscribe","loadSellerFollower","sellerFollowerList","liveRecordList","fetchSubscribe","isGet","followingId","followerList","loadFollowing","followingList","fetchUserCardInfo","idArr","setLoadState","idString","result","loadState","fetchUserProfileCardInfo","SubscribeButton","isSubscribed","setIsSubscribed","isSelf","setIsSelf","subscribeList","useMediaQuery","query","check","targetId","LiveStreamHeader","_state$authState$user","_state$authState$user2","onlineUsers","setOnlineUsers","setTimerId","responsive","clientsInRoom","ErrorCannotDoubleBid","CToast","autohide","visible","CToastBody","CToastClose","ErrorCannotSelfBid","ErrorPriceTooLow","ErrorUnknown","InputPhoneNumber","Link","Login","LiveStreamBiddingInfo","remainingTime","setRemainingTime","Infinity","inputPrice","setInputPrice","isBidding","setIsBidding","isDisabled","setIsDisabled","phoneNumber","productsDynamic","selectedProduct","setSelectedProduct","selectedProductDynamic","setSelectedProductDynamic","toast","addToast","toaster","ceil","getTime","code","customBidIncrement","disabled","minBidIncrement","maxBidIncrement","CToaster","placement","Four0Four","LiveStream","roomForQRcode","recommendProducts","Set","add","setPage","popstaeHandler","copyState","setCopyState","ButtonGroup","Button","CopyToClipboard","onCopy","text","QRCode","LoadingDefaultStyle","ResetCss","createGlobalStyle","_templateObject","_taggedTemplateLiteral","Wrap","styled","div","_templateObject2","keyframes","_templateObject3","Loading","_templateObject4","SignupForm","register","handleSubmit","useForm","registerError","setRegisterError","onSubmit","password","msg","htmlFor","LoginForm","setError","loginEmail","loginPassword","AnimatedSwitch","withRouter","_ref","SwitchTransition","CSSTransition","classNames","timeout","addEndListener","node","done","unmountOnExit","Switch","Route","exact","path","component","FormTitle","NavLink","activeClassName","LoginPage","responseGoogle","response","profileObj","name","status","FbButton","loadStatus","setLoadStatus","Provider","ConnectedRouter","BrowserRouter","FacebookLogin","appId","REACT_APP_FACEBOOK_APP_ID","autoLoad","fields","callback","picture","url","cssClass","icon","textButton","GoogleLogin","clientId","REACT_APP_GOOGLE_APP_ID","buttonText","onSuccess","onFailure","cookiePolicy","fetchFilteredCategories","fetch","method","body","JSON","stringify","json","rows","fetchCategories","categoriesData","sidebarClick","menuIconClick","HomePageNavbar","profilePic","_state$authState$user3","menuRef","menuToggle","divRef","searchInput","setSearchInput","searchKeywords","popover","Popover","Header","as","Object","values","navbarOnClickHandler","_menuToggle$current","_menuToggle$current2","_menuToggle$current3","classList","indexOf","setCategoryId","setNavbarRef","Navbar","collapseOnSelect","expand","bidcast_logo","Toggle","Collapse","Nav","FormGroup","Input","onKeyPress","preventDefault","OverlayTrigger","trigger","overlay","rootClose","NavDropdown","Footer","Container","variant","CloseCross","FontAwesomeIcon","faTimes","userInfo","watch","control","alert","setAlert","removeAlert","AlertRequireProductsListAppend","Alert","AlertRequireProductsImageAppend","productImgConfirm","setProductImgConfirm","append","remove","useFieldArray","selectedImage","setSelectedImage","filterPassedTime","time","currentDate","selectedDate","proNum","setProNum","watchProducts","watchProduct","extname","checkProductsList","productInput","confirm","liveInput","liveFormData","FormData","liveTitle","startDate","liveRes","index","entries","productFormData","minimumBid","eachBidAmount","proRes","required","accept","files","URL","createObjectURL","match","Controller","render","field","DatePicker","selected","showTimeSelect","placeholderText","dateFormat","filterTime","accProNum","_ref2","productsPicture","defaultValue","v4","FaClipboard","faClipboard","_result$data2","pubVideo","setClient","localStream","setLocalStream","useFetch","isLoading","ClientConnection","_result$data","getTracks","forEach","stop","unpublish","_signal","start","LocalStream","getUserMedia","resolution","audio","then","media","publish","catch","getDisplayMedia","_","carouselOnClickHandler","slideIndex","info","now","fetchSelectedProduct","ErrorCannotStartCountdown","NotSeller","inputRemainingTime","setInputRemainingTime","startBid","seconds","fetchProductTime","max","LiveStreamWindowSeller","LiveStreamBiddingInfoSeller","LiveStreamControlPanelSeller","LiveStreamRecommendSeller","SvgBorder","viewBox","fill","xmlns","d","loadBroadcastingProducts","fetchBroadcastingProducts","slice","loadComingAuctions","loadProductDetails","fetchProductDetails","ProfileDetails","sellerFollowers","followingDetails","broadcasts","broadcastArr","setBroadcastArr","user_id","Modal","centered","seller_id","closeButton","Title","Body","roundedCircle","Row","Col","xs","md","desktop","breakpoint","slidesToSlide","tablet","mobile","Broadcasting","broadcastings","modalShow","setModalShow","additionalTransfrom","arrows","autoPlay","autoPlaySpeed","centerMode","containerClass","dotListClass","draggable","focusOnSelect","infinite","itemClass","keyBoardControl","minimumTouchDrag","renderButtonGroupOutside","renderDotsOutside","showDots","sliderClass","swipeable","broadcasting","Card","fluid","Text","current_price","profilePreview","show","onHide","RWebShare","faExternalLinkAlt","productResponsive","ProductDetails","lives","liveArr","setLiveArr","filter","live","live_id","product_image","product_name","min_price","moment","format","ComingAuction","auctions","modalShowProf","setModalShowProf","setNow","auction","Recommendation","sm","Img","green","ImgOverlay","red","yellow","blue","SellWithBidcast","HomepageCanvas","pro01","product01","arrow","aspectRatio","React","checkSize","scale","widthSpec","heightSpec","easing","easeCubic","shadowBlur","shadowOpacity","shadowOffset","BGTriangle1","setBGTriangle1","next","cancel","BGTriangleLoop1","setBGTriangleLoop1","timer","loop","setBGTriangleNowEffect","clearTimeout","BGTriangleNowEffect","LineAnimation","BGTriAnimation","delay","BGTriLoop","setBGTri","reverse","setBGTriNowEffect","BGTriNowEffect","proSpring01","setProSpring01","setLoop","setNowEffect","nowEffect","arrowA","setArrowA","arrowLoop","setArrowLoop","setArrowNowEffect","arrowNowEffect","TriangleA1","setTriangleA1","TLoop1","setTLoop1","setTNowEffect1","TNowEffect1","TriangleA2","setTriangleA2","TLoop2","setTLoop2","setTNowEffect2","TNowEffect2","TriangleA3","setTriangleA3","TLoop3","setTLoop3","setTNowEffect3","TNowEffect3","TriangleA4","setTriangleA4","TLoop4","setTLoop4","setTNowEffect4","TNowEffect4","Line","points","stroke","strokeWidth","closed","fontStyle","fontSize","fontWeight","offsetX","offsetY","Homepage","Sidebar","ProSidebar","collapsed","SidebarHeader","sidebarOnClickHandler","FiArrowRightCircle","FiArrowLeftCircle","SidebarContent","Menu","iconShape","SubMenu","FaList","MenuItem","AiOutlineShoppingCart","FaRegHeart","MdAccountBox","SidebarFooter","FiLogOut","ToastDemo","animation","AccountDetails","userImg","isToastExist","setIsToastExsist","isAlertChecked","setIsAlertChecked","reset","editProFormData","telegramAccount","aboutMe","editRes","readOnly","substring","href","bidcastQRcode","toUpperCase","maxLength","Follower","followerListLoaded","followerDetails","propic","telegramAcct","Following","followingListLoaded","loadMyLive","loadMyLiveProducts","loadSoldProducts","MyLive","setLiveId","loadLiveStatus","updateLiveStatus","max_viewers","loadOpenLiveStatus","seller_link","MyLiveProductsComponent","myLiveProductsSorted","item1","item2","myLiveProductsArr","fetchSoldProducts","Accordion","defaultActiveKey","flush","myLiveProductArr","Item","eventKey","Table","buyer_id","MyBidHistory","myBidHistories","fetchMyLiveProducts","myBidHistory","ProfilePage","SearchResults","searchingResults","sortingMethod","setSortingMethod","faSlidersH","DropdownButton","Dropdown","searchingResult","buy_price","CategoriesFilter","filterProducts","filterProduct","FilterProducts","orderCommand","setOrderCommand","fetchProductsForFilter","Adblock","App","appRef","navbarRef","closeMenu","clientY","getBoundingClientRect","detected","useAdBlockDetector","ScrollRestoration","LiveStreamSeller","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":";4zBAEO,MAAMA,EAAwB,CACjCC,WAAY,CACR,CACIC,KAAM,gCAOV,CACIA,KAAM,gCACNC,SAAU,QACVC,WAAY,UAGpBC,MAAO,QAGEC,EAAc,6B,mCCrBZ,MAA0B,kC,yBCSzC,SAASC,EAAQC,GACb,MAAOC,GAASC,IAASC,GACnBC,EAAKC,YAAU,CACjBb,OAAQ,CAAEc,SAAU,KACpBC,KAAM,CACFC,EAAGR,EAAMS,MAAQ,GACjBC,EAAGV,EAAMW,OAAS,IAClBC,SAAU,EACVC,QAAS,GACTC,OAAQ,EACRC,OAAQ,GAEZC,GAAI,CACAxB,OAAQ,CAAEc,SAAU,KACpBE,EAAGR,EAAMS,MAAQ,IAAMQ,KAAKC,MAAsB,IAAhBD,KAAKE,UACvCT,GAAI,IACJE,SAAUK,KAAKC,MAAsB,IAAhBD,KAAKE,UAC1BL,OAAQ,EACRC,OAAQ,KAGhB,OACIK,cAACC,IAASC,MAAKC,wBAAA,CAEXtB,MAAOA,GACHG,GAAE,IACNK,MAAO,GACPE,OAAQ,KAJHM,KAAKE,SAOtB,CAEA,SAASK,EAASxB,GACd,MAAOC,GAASC,IC1CL,8gVD2CLE,EAAKC,YAAU,CACjBb,OAAQ,CAAEc,SAAU,KACpBC,KAAM,CACFC,EAAGR,EAAMS,MAAQ,IACjBC,EAAGV,EAAMW,OAAS,IAClBC,SAAU,EACVC,QAAS,GACTC,OAAQ,EACRC,OAAQ,GAEZC,GAAI,CACAxB,OAAQ,CAAEc,SAAU,KACpBE,EAAGR,EAAMS,MAAQ,IAAMQ,KAAKC,MAAsB,IAAhBD,KAAKE,UACvCT,GAAI,IACJE,SAAUK,KAAKC,MAAsB,IAAhBD,KAAKE,UAC1BL,OAAQ,EACRC,OAAQ,KAGhB,OACIK,cAACC,IAASC,MAAKC,wBAAA,CAEXtB,MAAOA,GACHG,GAAE,IACNK,MAAO,GACPE,OAAQ,KAJHM,KAAKE,SAOtB,CAEO,SAASM,EAAQzB,GACpB,MAAO0B,EAAUC,GAAWC,mBAAS,KAC9BC,EAAWC,GAAYF,mBAAS,IACjCG,EAAUC,iBAAO,MACjBC,EAAWD,iBAAO,MAClBvB,EAAQT,EAAMkC,MAAMC,QAAQC,YAC5BzB,EAASX,EAAMkC,MAAMC,QAAQE,aA2C7BC,EAAgBjC,YAAU,CAC5Bb,OAAQ,CAAEc,SAAU,KACpBC,KAAM,CACFC,EAAGR,EAAMkC,MAAMC,QAAQC,YAAc,GACrC1B,EAAGV,EAAMkC,MAAMC,QAAQE,aAAe,IAE1CrB,GAAI,CACAR,EAAGR,EAAMkC,MAAMC,QAAQC,YAAc,GACrC1B,EAAGV,EAAMkC,MAAMC,QAAQE,aAAe,MAGxCE,EAAiBlC,YAAU,CAC7Bb,OAAQ,CAAEc,SAAU,KACpBC,KAAM,CACFC,EAAGR,EAAMkC,MAAMC,QAAQC,YAAc,IACrC1B,EAAGV,EAAMkC,MAAMC,QAAQE,aAAe,IAE1CrB,GAAI,CACAR,EAAGR,EAAMkC,MAAMC,QAAQC,YAAc,IACrC1B,EAAGV,EAAMkC,MAAMC,QAAQE,aAAe,MAc9C,OAXAG,oBAAU,KACFxC,EAAMyC,KACNzC,EAAMyC,GAAGC,GAAG,cAAe,KACvBX,EAAQI,QAAQQ,eAAeC,MAAM,GAAGC,YAE5C7C,EAAMyC,GAAGC,GAAG,eAAgB,KACxBT,EAASE,QAAQQ,eAAeC,MAAM,GAAGC,cAGlD,CAAC7C,EAAMyC,KAGNrB,cAAC0B,IAAK,CACFrC,MAAOT,EAAMkC,MAAMC,QAAQC,YAC3BzB,OAAQX,EAAMkC,MAAMC,QAAQE,aAAe,IAAIU,SAE/CC,eAACC,IAAK,CAAAF,SAAA,CACDrB,EACDwB,wBAAC7B,IAASC,MAAKC,wBAAA,CACXtB,MAAO,IACHqC,GAAa,IACjB7B,MAAO,GACPE,OAAQ,GACRwC,QAvFOC,IACnBzB,EACID,EAAS2B,OAAS,GACZ3B,EACK4B,OAAO,EAAG,IACVC,OACGnC,cAACrB,EAAO,CAEJU,MAAOA,EACPE,OAAQA,GAFHM,KAAKE,WAKtBO,EAAS6B,OACLnC,cAACrB,EAAO,CAEJU,MAAOA,EACPE,OAAQA,GAFHM,KAAKE,aA0EhBqC,IAAK,EACLC,IAAK1B,KAERF,EACDqB,wBAAC7B,IAASC,MAAKC,wBAAA,CACXtB,MAAO,IACHsC,GAAc,IAClB9B,MAAO,GACPE,OAAQ,GACRwC,QA5EQC,IACpBtB,EACID,EAAUwB,OAAS,GACbxB,EACKyB,OAAO,EAAG,IACVC,OACGnC,cAACI,EAAQ,CAELf,MAAOA,EACPE,OAAQA,GAFHM,KAAKE,WAKtBU,EAAU0B,OACNnC,cAACI,EAAQ,CAELf,MAAOA,EACPE,OAAQA,GAFHM,KAAKE,aA+DhBqC,IAAK,EACLC,IAAKxB,SAKzB,CEhEeyB,MA3Gf,SAA0B1D,GAEtB,MAAM2D,EAAW3B,iBAAyB,MAC1C,IAAI4B,EAAwB,KACxBC,EAAqC,KACzC,MAAMC,EAAsB,IAAIC,gBAAgBC,OAAOC,SAASC,QAAQC,IACpE,QAEEC,EAAYC,YACbC,GAAqBA,EAAMC,WAAWC,eAAeJ,WAEpDK,EAASJ,YACVC,GAAqBA,EAAMC,WAAWC,eAAeE,IA4D1D,OAvDAlC,oBAAU,KAENqB,EAAS,IAAIc,sBAAoB7E,GAEjC8D,EAAS,IAAIgB,SAAOf,EAAQrE,GAC5BqE,EAAOgB,OAAS,KACE,MAAVjB,GAGJA,EAAOkB,KAAK,QAADvB,OAASO,GAAQ,KAEhC,IAAIiB,EAA0BC,YAAY,OAAU,KA2BpD,OA1BAC,WAAW,KACPF,EAAUC,YACN,IAAgB,MAAVnB,GAAkBA,EAAOqB,OAAO,SAAU,UAChD,MAEL,KAEHtB,EAAOuB,QAAU,CAACC,EAAOC,KACrBD,EAAME,SAAW,KACY,OAArB3B,EAASxB,UAGbwB,EAASxB,QAAQoD,UAAYF,EAC7B1B,EAASxB,QAAQqD,UAAW,EAC5B7B,EAASxB,QAAQsD,UAAW,EAC5B9B,EAASxB,QAAQuD,OAAQ,EAEzBL,EAAOM,cAAgB,KACM,OAArBhC,EAASxB,UAGbwB,EAASxB,QAAQoD,UAAY,UAKlCK,cAAcb,IACtB,IAiBC3D,cAAA,OAAKyE,UAAU,mBAAkB9C,SAC7B3B,cAAA,OAAKyE,UAAU,kCAAiC9C,SAC5CC,eAAA,OAAK6C,UAAU,uBAAsB9C,SAAA,CACX,OAArBY,EAASxB,SACNf,cAACK,EAAO,CAACS,MAAOyB,EAAUlB,GAAIzC,EAAMyC,KAExCrB,cAAA,SACIsD,GAAG,WACHoB,OAAO,kBACPD,UAAU,cACVL,UAAQ,EACR/B,IAAKE,EACLoC,MAAO,CACHC,gBAAgB,GAADzC,OACXa,EAAS,QAAAb,OACK0C,mIAAYC,sBAAqB,KAAA3C,OAAIa,EAAS,MACtD,IAEV+B,iBAAkB,YAClBC,eAAgB,eAGxBhF,cAAA,OAAKyE,UAAU,cAAc1C,QAnClBkD,KACnBrG,EAAMyC,IAAiB,OAAXgC,GACZzE,EAAMyC,GAAG6D,KAAK,cAAe7B,IAiCoC1B,SACrD3B,cAAA,KAAGyE,UAAU,kBAEjBzE,cAAA,OAAKyE,UAAU,eAAe1C,QAjClBoD,KACpBvG,EAAMyC,IAAiB,OAAXgC,GACZzE,EAAMyC,GAAG6D,KAAK,eAAgB7B,IA+BqC1B,SACvD3B,cAAA,KAAGyE,UAAU,yBAMrC,E,SCxGeW,MARf,SAA+BxG,GAC3B,OACIoB,cAAA,OAAKyE,UAAU,4CAA2C9C,SACrD/C,EAAMyG,aAGnB,EC6JeC,MA3Jf,SAAgC1G,GAE5B,MAAM2G,EAAW3E,iBAA2B,MACtC4E,EAAWvC,YACZC,GACGA,EAAMC,WAAWsC,mBAAmBC,uBAMtCC,EAAeC,IACG,MAApBL,EAASxE,SAAmBwE,EAASxE,QAAQ8E,KAAKD,IA8BtD,OAzBAxE,oBAAU,KACFxC,EAAMyC,IACNzC,EAAMyC,GAAGC,GAAG,SAAWwE,IAAuB,IAADC,EACzC,IAAIC,EAAe,EACfC,EAAkC,QAAnBF,EAAGR,EAASxE,eAAO,IAAAgF,OAAA,EAAhBA,EAAkBG,UAAUC,WAClD,QAAwBC,IAApBH,EAA+B,CAC/B,IAAIE,EAAaE,MAAMlH,KAAK8G,GAC5B,IAAK,IAAIK,KAAaH,EAEdG,EAAUhD,IACVwC,IACIS,SACID,EAAUE,UAAUC,MAAM,QAAQ/C,KAAK,OAG/CsC,EAAOO,SAASD,EAAUhD,GAAGmD,MAAM,QAAQ,IAGvD,CACoB,MAApBlB,EAASxE,SAAmBwE,EAASxE,QAAQ8E,KAAKG,MAG3D,CAACpH,EAAMyC,KAINrB,cAAA,OAAKyE,UAAU,sCAAqC9C,SAChD3B,cAAA,OACIyE,UAAU,oBACVE,MACI/F,EAAM8H,UAAY,CAAC,EAxCU,CAAEC,UAAW,SAyC7ChF,SAEDC,eAAA,OACI6C,UAAS,iDAAmD9C,SAAA,CAEvC,IAApB6D,EAASvD,OACNuD,EAASvD,OAAS,EACdjC,cAAC4G,IAAQ,CACLC,YAAY,EACZC,MAAO,EACPzE,IAAKkD,EACLnB,UAAU,EACV2C,KAAK,EAAMpF,SAEV6D,EAASwB,IAAI,CAACC,EAASC,IACpBtF,eAAA,OAEI6C,UAAS,kEACT,oBAAAtC,OAAmB8E,EAAQ3D,IAAK3B,SAAA,CAEhC3B,cAAA,OAEIyE,UAAS,oBACT0C,IAAKF,EAAQG,aACbC,IAAG,MAAAlF,OAAQ8E,EAAQ3D,KAHd2D,EAAQ3D,IAKjB1B,eAAA,OAAK6C,UAAU,kFAAiF9C,SAAA,CAC5FC,eAAA,OAAK6C,UAAU,eAAc9C,SAAA,CACzB3B,cAAA,KAAGyE,UAAU,gBAAmB,IAAI,4BAEpCzE,cAAA,SACCiH,EAAQK,eAEb1F,eAAA,OAAK6C,UAAU,gBAAe9C,SAAA,CAC1B3B,cAAA,KAAGyE,UAAU,sBAAyB,IAAI,sBAE1CzE,cAAA,SAAM,IAAEiH,EAAQM,eAGxBvH,cAACoF,EAAqB,CAClBC,YACI4B,EAAQ5B,YACF4B,EAAQ5B,YACR,OA3BT4B,EAAQ3D,OAkCzB1B,eAAA,OACI6C,UAAS,wEACT,oBAAAtC,OAAmBqD,EAAS,GAAGlC,IAAK3B,SAAA,CAEpC3B,cAAA,OAEIyE,UAAS,oBACT0C,IAAK3B,EAAS,GAAG4B,aACjBC,IAAG,MAAAlF,OAAQqD,EAAS,GAAGlC,KAHlBkC,EAAS,GAAGlC,IAKrB1B,eAAA,OAAK6C,UAAU,kFAAiF9C,SAAA,CAC5FC,eAAA,OAAK6C,UAAU,eAAc9C,SAAA,CACzB3B,cAAA,KAAGyE,UAAU,gBAAmB,IAAI,4BAEpCzE,cAAA,SACCwF,EAAS,GAAG8B,eAEjB1F,eAAA,OAAK6C,UAAU,gBAAe9C,SAAA,CAC1B3B,cAAA,KAAGyE,UAAU,sBAAyB,IAAI,sBAE1CzE,cAAA,SAAM,IAAEwF,EAAS,GAAG+B,eAG5BvH,cAACoF,EAAqB,CAClBC,YACIG,EAAS,GAAGH,YACNG,EAAS,GAAGH,YACZ,QAMtBrF,cAAAwH,WAAA,IAEHhC,EAASvD,OAAS,GACfL,eAAA4F,WAAA,CAAA7F,SAAA,CACI3B,cAAA,UACIyE,UAAU,mDACV1C,QAASA,IAAM4D,EAAY,QAAQhE,SAEnC3B,cAAA,KAAGyE,UAAU,wBAEjBzE,cAAA,UACIyE,UAAU,oDACV1C,QAASA,IAAM4D,EAAY,QAAQhE,SAEnC3B,cAAA,KAAGyE,UAAU,kCAQ7C,E,4CCjEO,SAASgD,EAAmBrE,GAC/B,MAAO,CACHsE,KAAM,qCACNtE,iBAER,CAEO,SAASuE,EACZlC,EACAmC,GAEA,MAAO,CACHF,KAAM,yCACNjC,qBACAmC,UAER,CAEO,SAASC,EACZC,EACAF,GAEA,MAAO,CACHF,KAAM,sDACNI,gCACAF,UAER,CAgFO,SAASG,EAAoBrF,EAAcsF,GAC9C,OAAOC,MAAOC,EAA6BC,KACvC,IACI,MAAMC,QAAYC,IAAMtF,IAAG,GAAAZ,OACpB0C,mIAAYC,sBAAqB,0BAAA3C,OAAyBO,EAAI,WAAAP,OAAU6F,IAG3EI,EAAIE,KAAKV,QACTM,EAAST,EAAmBW,EAAIE,OAEhCJ,EACIT,EAAmB,CACfnE,IAAK,EACLiF,MAAO,QACPC,OAAQ,QACRC,SAAU,EACVC,YAAa,kBACbC,eAAgB,EAChB3F,UAAW,GACXqC,YAAa,GACbuC,SAAS,IAIzB,CAAE,MAAOgB,GACLC,QAAQC,IAAIF,EAChB,EAER,CAEO,SAASG,EAAwB1F,EAAgB2F,GACpD,OAAOf,MAAOC,EAA6BC,KACvC,IACI,MAAMC,QAAYC,IAAMtF,IAAG,GAAAZ,OAIpB0C,mIAAYC,sBAAqB,gCAAA3C,OAA+BkB,IAGvE,GAAI+E,EAAIE,KAAKV,QAAS,CAClB,MAAMnC,EAA0C,GAC1CqC,EACF,GACJ,IAAK,IAAIb,KAAWmB,EAAIE,KAAK7C,mBAAoB,CAC7C,IAAIwD,EAAgC,CAChC3F,GAAI,EACJgE,YAAa,GACbC,SAAU,EACV2B,SAAU,EACVC,aAAc,EACd/B,aAAc,GACd/B,YAAa,GACb+D,WAAY,EACZxB,SAAS,GAETyB,EAAkD,CAClD/F,GAAI,EACJgG,aAAc,EACdC,YAAY,EACZC,MAAO,GACPtK,SAAU,EACV0I,SAAS,GAGbqB,EAAW3F,GAAK2D,EAAQ3D,GACxB+F,EAAkB/F,GAAK2D,EAAQ3D,GAC/B2F,EAAW3B,YAAcL,EAAQK,YACjC2B,EAAW1B,SAAWN,EAAQM,SAC9B8B,EAAkBC,aAAerC,EAAQqC,aACzCL,EAAWC,SAAWjC,EAAQiC,SAC9BD,EAAWE,aAAelC,EAAQkC,aAClCF,EAAW7B,aAAeH,EAAQG,aAClCiC,EAAkBE,WAAatC,EAAQsC,WACvCF,EAAkBnK,SAAW+H,EAAQ/H,SACjC+H,EAAQwC,mBACRJ,EAAkBI,iBAAmB,IAAIC,KACrCA,KAAKC,MAAM1C,EAAQwC,oBAG3BR,EAAW5D,YAAc4B,EAAQ5B,YACjC4D,EAAWG,WAAanC,EAAQmC,WAChCC,EAAkBG,MAAQvC,EAAQuC,MAClC/D,EAAmBmE,KAAKX,GACxBnB,EAA8B8B,KAAKP,EACvC,CAEIL,GACAd,EACIP,EACIlC,EACA2C,EAAIE,KAAKV,UAKrBM,EACIL,EACIC,EACAM,EAAIE,KAAKV,SAGrB,MACIM,EAASP,EAAuB,IAAI,IACpCO,EAASL,EAAkC,IAAI,GAEvD,CAAE,MAAOe,GACLC,QAAQC,IAAIF,EAChB,EAER,CAEO,SAASiB,EACZ/D,EACAgE,EACAzI,EACAgC,EACA0G,GAEA,OAAO9B,MAAOC,EAA6BC,KACvC,IACI,MAAMH,EAAQgC,aAAaC,QAAQ,SAEnC,GAAa,MAATjC,EACA,OAGJ,MAAMI,QAAYC,IAAM6B,IAAG,GAAA/H,OACpB0C,mIAAYC,sBAAqB,qCACpC,CACIgB,YACAgE,YACAC,mBAEJ,CACII,QAAS,CACLC,cAAe,UAAYpC,KAInCI,EAAIE,KAAKV,QACLQ,EAAIE,KAAK+B,UAAYjC,EAAIE,KAAKkB,QAC9BtB,GArNS5E,EAuNDwC,EAvNauE,EAwNbjC,EAAIE,KAAK+B,SAxNsBb,EAyN/BpB,EAAIE,KAAKkB,MAxN1B,CACH9B,KAAM,6BACNpE,KACA+G,WACAb,WAuNgBnI,GACAA,EAAG6D,KAAK,qBAAsB7B,EAAQ+E,EAAIE,KAAKgC,UAInDjJ,GACAA,EAAG6D,KAAK,yBAA0BkD,EAAIE,KAAK+B,SAGvD,CAAE,MAAOzB,GACLC,QAAQC,IAAIF,EAChB,CAvOD,IAAsBtF,EAAY+G,EAAkBb,EAyO3D,CAuGO,SAASe,EAAyBlH,GACrC,OAAO4E,MAAOC,EAA6BC,KACvC,IACI,MAAMC,QAAYC,IAAMtF,IAAG,GAAAZ,OACpB0C,mIAAYC,sBAAqB,mCAAA3C,OAAkCkB,IAEtE+E,EAAIE,KAAKV,SACTM,GArUZsC,EAsUiCpC,EAAIE,KAAKkC,aArU1C5C,EAqUwDQ,EAAIE,KAAKV,QAnU1D,CACHF,KAAM,kCACN8C,eACA5C,YAmUA,CAAE,MAAOgB,GACLC,QAAQC,IAAIF,EAChB,CA5UD,IACH4B,EACA5C,EA4UJ,CA2CO,SAAS6C,EACZpH,EACAqH,EACAC,GAEA,OAAO1C,MAAOC,EAA6BC,KACvC,IAEI,IAAIiB,EADkB/C,MAAMlH,KAAKuL,GACFhH,KAAK,KACpC,GAAmB,KAAf0F,EACA,OAEJ,MAAMhB,QAAYC,IAAMtF,IAAG,GAAAZ,OACpB0C,mIAAYC,sBAAqB,oCAAA3C,OAAmCiH,EAAU,YAAAjH,OAAWkB,IAE5F+E,EAAIE,KAAKV,UACTM,GAtXZ0C,EAsXuCxC,EAAIE,KAAKuC,QArXhDjD,EAqXyDQ,EAAIE,KAAKV,QAnX3D,CACHF,KAAM,oCACNkD,gBACAhD,aAiXQhF,OAAOiB,WAAW,KACd8G,GAAa,IACd,KAEX,CAAE,MAAO/B,GACLC,QAAQC,IAAIF,EAChB,CA9XD,IACHgC,EACAhD,EA8XJ,CC7hBA,SAASkD,IAGL,IAFA,IAAIC,EAAU,eAAetE,MAAM,IAC/BuE,EAAQ,IACHC,EAAI,EAAGA,EAAI,EAAGA,IACnBD,GAASD,EAAQlL,KAAKC,MAAMD,KAAKE,SAAWgL,EAAQ9I,SAExD,OAAO+I,CACX,CA0ReE,MAxRf,SAA4BtM,GAExB,MAAMsJ,EAAWiD,eACVC,EAAcC,GAAmB7K,mBAAiB,IACnD6C,EAASJ,YACVC,GAAqBA,EAAMC,WAAWC,eAAeE,IAEpDgI,EAAWrI,YACZC,GAAqBA,EAAMC,WAAWoI,KAAKf,eAEzCQ,EAAOQ,GAAYhL,mBAAmB,CAAC,YAC9CY,oBAAU,KACN,IAAIqK,EAAW,GACf,IAAK,IAAIvE,EAAM,EAAGA,EAAM,GAAIA,IACxBuE,EAAS7B,KAAKkB,KAElBU,EAASC,IACV,IACH,MAAMC,EAAiBzI,YAClBC,GAAqBA,EAAMyI,KAAKD,gBAM/BE,EAAchL,iBAAuB,OACpCiL,EAAWC,GAAgBtL,oBAAkB,GAU9CuL,EAAiBA,KAAO,IAADC,EAAAC,EAAAC,EAAAC,EACN,QAAnBH,EAAAJ,EAAY7K,eAAO,IAAAiL,GAAe,QAAfC,EAAnBD,EAAqBI,qBAAa,IAAAH,GAAe,QAAfC,EAAlCD,EAAoCG,qBAAa,IAAAF,GAAjDA,EAAmDG,SAAS,CACxDC,IAAwB,QAArBH,EAAEP,EAAY7K,eAAO,IAAAoL,OAAA,EAAnBA,EAAqBlL,gBAIlCG,oBAAU,KACN2K,KACD,IAIH,MAAOQ,EAAMC,GAAWhM,mBAAiB,GACnCiM,EAAU7L,iBAAuB,MAEjC8L,EAAcC,sBAAY,KAAO,IAADC,EAAAC,EAAAC,EAAAC,EAClC,SAASC,EAAYpE,GACjB4D,EAASS,GAAgBA,EAAcrE,EAAEsE,UAC7C,CAWmB,QAAnBN,EAAAhO,EAAMuO,qBAAa,IAAAP,GAAS,QAATC,EAAnBD,EAAqB7L,eAAO,IAAA8L,GAA5BA,EAA8BO,iBAC1B,YACAJ,GAEe,QAAnBF,EAAAlO,EAAMuO,qBAAa,IAAAL,GAAS,QAATC,EAAnBD,EAAqB/L,eAAO,IAAAgM,GAA5BA,EAA8BK,iBAAiB,UAd/C,SAASC,IAAa,IAADC,EAAAC,EAAAC,EAAAC,EACE,QAAnBH,EAAA1O,EAAMuO,qBAAa,IAAAG,GAAS,QAATC,EAAnBD,EAAqBvM,eAAO,IAAAwM,GAA5BA,EAA8BG,oBAC1B,YACAV,GAEe,QAAnBQ,EAAA5O,EAAMuO,qBAAa,IAAAK,GAAS,QAATC,EAAnBD,EAAqBzM,eAAO,IAAA0M,GAA5BA,EAA8BC,oBAC1B,UACAL,EAER,IAMD,CAACzO,EAAMuO,gBAIV,SAASQ,IACL,MAAQC,WAAYvO,EAAOwO,YAAatO,GAAWqD,OACnD,MAAO,CACHvD,QACAE,SAER,CAEA,MAAOuO,EAAkBC,GAAuBvN,mBAC5CmN,KAGJvM,oBAAU,KACN,SAAS4M,IACLD,EAAoBJ,IACxB,CAGA,OADA/K,OAAOwK,iBAAiB,SAAUY,GAC3B,IAAMpL,OAAO8K,oBAAoB,SAAUM,IACnD,IAIH,MAAMC,EAAsB7C,IACpB/J,GACA6G,ED+WL,SACH7G,EACAgC,GAED,IADC6K,EAAeC,UAAAlM,OAAA,QAAAmE,IAAA+H,UAAA,GAAAA,UAAA,GAAG,GAElB,OAAOlG,MAAOC,EAA6BC,KACvC,IACI,GAAgB,KAAZ+F,EACA,OAEJ,MAAMlG,EAAQgC,aAAaC,QAAQ,SAEnC,GAAa,MAATjC,EACA,OAGJ,MAAMI,QAAYC,IAAM+F,KAAI,GAAAjM,OACrB0C,mIAAYC,sBAAqB,2BACpC,CAAEzB,SAAQ6K,WACV,CACI/D,QAAS,CACLC,cAAe,UAAYpC,KAKnCI,EAAIE,KAAKV,SACLvG,GACAA,EAAG6D,KACC,cACA7B,EAAOgL,WAAa,WACpBjG,EAAIE,KAIpB,CAAE,MAAOM,GACLC,QAAQC,IAAIF,EAChB,EAER,CCtZqB0F,CAAkBjN,EAAIgC,EAAQ+H,MAMxC/J,EAAIkN,GAAS/N,mBAAwB,MAgC5C,OA9BAY,oBAAU,KAWN,GAJIiC,EAAS,GAAY,OAAPhC,QAL4B+E,IAAtCvB,mIAAYC,uBACZyJ,EAAMC,YAAG3J,mIAAYC,wBAQzBzD,GAAMgC,EAAS,EAAG,CACIoL,MACdpN,IACAA,EAAG6D,KAAK,WAAY7B,EAAOgL,WAAa,YACxChN,EAAGC,GAAG,cAAgB4M,IAClBhG,EDmBb,CACHR,KAAM,iCACNgH,YCrB0CR,QAItCO,EACJ,GACD,CAACvG,EAAU7G,EAAIgC,IAElBjC,oBAAU,IACC,KACD,OAAFC,QAAE,IAAFA,KAAIsN,SAET,CAACtN,IAGAO,eAAA,OAAK6C,UAAU,qBAAoB9C,SAAA,CAC/B3B,cAAA,OACIyE,UAAU,iCACVE,MACI/F,EAAMgQ,SACA,CAAErP,OAAO,GAAD4C,OAAK,IAAMoK,EAAI,MAAMsC,UAAW,SACxC,CACItP,OAAO,GAAD4C,OACF2L,EAAiBvO,OACjBuO,EAAiBzO,MAAQ,EACzB,IAAG,OAGpBsC,SAEDC,eAAA,OAAK6C,UAAU,OAAM9C,SAAA,CACjB3B,cAAA,OAAKyE,UAAU,mBAAkB9C,SAAC,uBAClC3B,cAAC8O,IAAY,CACTrK,UAAU,eACVsK,cAAc,EACdC,SAlIGhN,IACnB,MAAMiN,EAAkBjN,EAAMkN,cAAcC,aACtClO,EAAee,EAAMkN,cAAcjO,aAEnCmO,EAAYpN,EAAMkN,cAAcE,UACtCtD,EAAasD,EAAYH,EAAkBhO,IA6HHU,SAExB3B,cAAA,OACIyE,UAAU,WACVE,MACI/F,EAAMgQ,SACA,CACIrP,OAAO,GAAD4C,OAAK,IAAMoK,EAAI,MACrBsC,UAAW,QAEf,CACItP,OAAO,GAAD4C,OACF2L,EAAiBvO,OACjBuO,EAAiBzO,MAAQ,EACzB,IAAG,OAIrBgD,IAAKuJ,EAAYjK,SAEhB2J,EAAStE,IAAI,CAACqI,EAAGpE,IACdrJ,eAAA,OAEI6C,UAAS,MAAAtC,OACL8I,EAAI,IAAM,EAAI,QAAU,GAAE,0BACLtJ,SAAA,CAEzB3B,cAAA,OACIyE,UAAU,kCACV0C,IAAG,GAAAhF,OACCkN,EAAEC,YAAYxM,OACV,6BACA,EACE+B,mIACKC,sBACL,IACAuK,EAAEC,YACFD,EAAEC,aAEZjI,IAAG,eAAAlF,OAAiBkN,EAAE9Q,YAE1BqD,eAAA,OAAAD,SAAA,CACI3B,cAAA,QACIyE,UAAU,qBACVE,MAAO,CACHqG,MAAOA,EACHqE,EAAE9Q,SAAS0D,OACP+I,EAAM/I,SAEhBN,SAED0N,EAAE9Q,WAEN8Q,EAAEnB,aA/BFjD,QAqCrBjL,cAAA,OAAKyE,UAAU,aAAY9C,SACtBkK,GACG7L,cAAA,UACIyE,UAAU,gDACV1C,QAASgK,EACTpH,MAAO,CAAC,EAAEhD,SAEV3B,cAAA,KAAGyE,UAAU,0BAIxBiH,EACG9J,eAAA,OAAK6C,UAAU,qBAAoB9C,SAAA,CAC/B3B,cAAA,SACIyE,UAAU,iBACViD,KAAK,OACL6H,YAAY,gDACZC,MAAOpE,EACPqE,SACI7G,GACCyC,EAAgBzC,EAAE8G,OAAOF,OAC9BG,UACI/G,IAEc,UAAVA,EAAExG,MACF6L,EAAmB7C,GACnBC,EAAgB,QAI5BrL,cAAA,OAAKyE,UAAU,oBAAmB9C,SAC9B3B,cAAA,UACIyE,UAAU,iBACV1C,QAASA,KACLkM,EAAmB7C,GACnBC,EAAgB,KAClB1J,SAEF3B,cAAA,KAAGyE,UAAU,8BAKzBzE,cAAA,OAAKyE,UAAU,iCAAgC9C,SAAC,0DAM3D/C,EAAMgQ,UACHhN,eAAA,OACI6C,UAAU,2BACVpC,IAAKoK,EACLmD,YAAalD,EAAY/K,SAAA,CAEzB3B,cAAA,KAAGyE,UAAU,wBAA2B,IAAI,sFAMhE,EC/OeoL,MAtDf,SAA6BjR,GACzB,MAAMsJ,EAAWiD,cAMX2E,EAAoB,IAJJ7M,YACjBC,GAAqBA,EAAMC,WAAWyH,cAAcC,UAIzD,IAAIkF,EAAMD,EAAkB7N,OAC5B,MAAM+N,EAA8B,GACpC,IAAK,IAAI9I,EAAM,EAAGA,EAAMrH,KAAKoQ,IAAI,GAAIF,GAAM7I,IACvC8I,EAAepG,KACXkG,EAAkB5N,OACdrC,KAAKC,MAAMD,KAAKE,SAAW+P,EAAkB7N,QAC7C,GACF,IAIV,OACIjC,cAAA,OAAKyE,UAAU,2BAA0B9C,SACpCqO,EAAehJ,IAAI,CAACkJ,EAAMhJ,IACvBtF,eAAA,OACI6C,UAAU,iFAEV1C,QAASA,KACLa,OAAOuN,QAAQC,UACX,KACA,GAAG,GAADjO,OACC0C,mIAAYwL,uBAAsB,wBAAAlO,OAAuB+N,EAAKI,aAErEpI,EFgJb,CACHR,KAAM,8BEhJU9I,EAAM+L,cAAa,IACrBhJ,SAAA,CAEF3B,cAAA,OACIyE,UAAU,iBACV0C,IAAG,GAAAhF,OAAK0C,mIAAYC,sBAAqB,KAAA3C,OAAI+N,EAAKrR,OAClDwI,IAAI,qBAERzF,eAAA,OAAK6C,UAAU,wDAAuD9C,SAAA,CAClE3B,cAAA,OAAKyE,UAAU,6BAA4B9C,SACtCuO,EAAK3H,QAEVvI,cAAA,OAAKyE,UAAU,gCAA+B9C,SACzCuO,EAAK3R,gBArBT2I,KA4BzB,E,oEC7CA,MAAMqJ,EAA0B,CAC5B7E,gBAAgB,EAEhB1D,MAAO,MAGLwI,EAAkC,CACpC7E,KAAM,CAAC,EACP8E,MAAO,IAuCLC,EAAiD,CACnDjI,SAAU,GACVkI,WAAY,IAGVC,EAAqC,CACvCC,OAAQ,GACRC,YAAa,GACblJ,SAAS,GAEPmJ,GAAuC,CACzCF,OAAQ,GACRC,YAAa,GACblJ,SAAS,GA+DN,IAAIoJ,GAAc,WAGR,IAFb9N,EAAgBiL,UAAAlM,OAAA,QAAAmE,IAAA+H,UAAA,GAAAA,UAAA,GAAGqC,EACnBS,EAAmB9C,UAAAlM,OAAA,EAAAkM,UAAA,QAAA/H,EAEnB,OAAO8K,YAAQhO,EAAQA,IACnB,GACS,sBADD+N,EAAOvJ,KAEP,IACI,MAAMyJ,EAA+B,CACjCC,OAAQ,MACRC,WAAY,CAAC,UAGjB,IAAIC,EAAYzM,mIAAY0M,qBAAsBC,QAC9C,OACA,MAEAC,EAAqCC,IAAIC,OACzCV,EAAOjJ,MACPsJ,EACAH,GAmBJ,MAAO,CACHxF,KAjBqB,CACrBrI,GAAImO,EAAQnO,GACZ/E,SAAUkT,EAAQlT,SAClBqT,MAAOH,EAAQG,MACfC,WAAYJ,EAAQI,WACpBC,gBAAiBL,EAAQK,gBACzBC,aAAcN,EAAQM,aACtBzC,YAAamC,EAAQnC,YACrB0C,QAASP,EAAQO,QACjBC,UAAWR,EAAQQ,UACnBC,cAAeT,EAAQS,cACvBC,iBAAkBV,EAAQU,iBAC1BC,qBAAsBX,EAAQW,qBAC9BC,WAAYZ,EAAQY,WACpBhN,YAAaoM,EAAQpM,aAIrBoL,WAAOrK,EAEf,CAAE,MAAOqK,GACL,MAAO,CACHA,MAAO,oBACP9E,UAAMvF,EAEd,CAEA,OAAOlD,GAGvB,E,cC5LE,MAAMqN,GAA0B,CAC5B+B,KAAM,ICMZ,MAAM/B,GAA8B,CAChC/K,SAAU,CAAC,EACX+M,WAAY,CAYR,GCER,MAAMhC,GAAgC,CAClCnN,eAAgB,CACZE,GAAI,EACJiF,MAAO,aACPC,OAAQ,aACRC,SAAU,EACVC,YAAa,kBACbC,eAAgB,EAChB3F,UAAW,GACXqC,YAAa,cACbuC,SAAS,GAEbnC,mBAAoB,CAChBC,sBAAuB,GACvB8M,6BAA8B,GAC9B5K,SAAS,GAEb2D,KAAM,CACFf,aAAc,GACd5C,SAAS,GAEbgD,cAAe,CACXC,QAAS,GACTjD,SAAS,GAEb6K,MAAO,GC7CX,MAAMlC,GAAmC,CACrCmC,eAAgB,GAChBC,eAAgB,ICDpB,MAAMpC,GAAmC,CACrCqC,YAAa,GACbL,WAAY,GACZM,cAAe,ICDnB,MAAMtC,GAA4B,CAC9BuC,OAAQ,GACRC,eAAgB,GAChB1P,OAAQ,GACR2P,SAAU,ICPd,MAAMzC,GAAsC,CACxC0C,oBAAqB,ICAzB,MAAM1C,GAA6B,CAC/B2C,iBAAiB,EACjBC,cAAc,EACdC,YAAY,GC4CT,MAAMjD,GAAUkD,cAsCjBC,GAAUC,YAA2B,CACvC5H,KT8BG,WAGO,IAFVzI,EAAgBiL,UAAAlM,OAAA,QAAAmE,IAAA+H,UAAA,GAAAA,UAAA,GAAGoC,EACnBU,EAAmB9C,UAAAlM,OAAA,EAAAkM,UAAA,QAAA/H,EAEnB,OAAO8K,YAAQhO,EAAQA,IACC,iBAAhB+N,EAAOvJ,MACPxE,EAAM8E,MAAQiJ,EAAOjJ,MACrB9E,EAAMwI,gBAAiB,GACA,kBAAhBuF,EAAOvJ,OACdxE,EAAM8E,MAAQ,KACd9E,EAAMwI,gBAAiB,IAGnC,ES1CI8H,WRvFK,WACH,OAAOjD,EACX,EQsFE/K,SPnEG,WAGW,IAFdtC,EAAoBiL,UAAAlM,OAAA,QAAAmE,IAAA+H,UAAA,GAAAA,UAAA,GAAGoC,GACvBU,EAAuB9C,UAAAlM,OAAA,EAAAkM,UAAA,QAAA/H,EAIvB,OAAO8K,YAAQhO,EAAQuQ,IAEnB,GACS,+BADDxC,EAAOvJ,KAEP,IAAK,IAAIgM,KAAYzC,EAAOsB,WACxBkB,EAASlB,WAAWmB,EAASpQ,IAAMoQ,GAMvD,EOmDIC,OAAQC,YAAczD,IACtBhN,WN3CG,WAGa,IAFhBD,EAAsBiL,UAAAlM,OAAA,QAAAmE,IAAA+H,UAAA,GAAAA,UAAA,GAAGoC,GACzBU,EAAyB9C,UAAAlM,OAAA,EAAAkM,UAAA,QAAA/H,EAEzB,OAAO8K,YAAQhO,EAAQuQ,IACnB,OAAQxC,EAAOvJ,MACX,IAAK,qCACD+L,EAASrQ,eAAiB6N,EAAO7N,eACjC,MACJ,IAAK,yCACDqQ,EAAShO,mBAAmBC,sBACxBuL,EAAOxL,mBAAmBoO,KAAK,CAACC,EAAGC,IAAMA,EAAEzQ,GAAKwQ,EAAExQ,IACtDmQ,EAAShO,mBAAmBmC,QAAUqJ,EAAOrJ,QAC7C,MACJ,IAAK,sDACD6L,EAAShO,mBAAmB+M,6BACxBvB,EAAOnJ,8BAA8B+L,KACjC,CAACC,EAAGC,IAAMA,EAAEzQ,GAAKwQ,EAAExQ,IAE3BmQ,EAAShO,mBAAmBmC,QAAUqJ,EAAOrJ,QAC7C,MACJ,IAAK,8BACD,IAAIoM,EAAmB,EACvB,IAAK,IAAIC,KAAqBR,EAAShO,mBAClC+M,6BACGyB,EAAkB3Q,KAAO2N,EAAO3N,KAChCmQ,EAAShO,mBAAmB+M,6BACxBwB,GACFzK,YAAa,GAEnByK,IAGJ,MACJ,IAAK,mCACD,IAAIE,EAAuB,EAC3B,IAAK,IAAID,KAAqBR,EAAShO,mBAClC+M,6BACGyB,EAAkB3Q,KAAO2N,EAAO3N,KAChCmQ,EAAShO,mBAAmB+M,6BACxB0B,GACFzK,iBAAmBwH,EAAOkD,SAEhCD,IAEJ,MACJ,IAAK,6BACD,IAAIE,EAAwB,EAC5B,IAAK,IAAIH,KAAqBR,EAAShO,mBAClC+M,6BACGyB,EAAkB3Q,KAAO2N,EAAO3N,KAChCmQ,EAAShO,mBAAmB+M,6BACxB4B,GACF9K,aAAe2H,EAAO5G,SACxBoJ,EAAShO,mBAAmB+M,6BACxB4B,GACF5K,MAAQyH,EAAOzH,OAErB4K,IAEJ,MACJ,IAAK,kCACDX,EAASlI,KAAKf,aAAeyG,EAAOzG,aAAaqJ,KAC7C,CAACC,EAAGC,IAAMD,EAAExQ,GAAKyQ,EAAEzQ,IAEvBmQ,EAASlI,KAAK3D,QAAUqJ,EAAOrJ,QAC/B,MACJ,IAAK,iCACD,IAAIiK,EAAa,IAAInI,KACjBA,KAAKC,MAAMsH,EAAOvC,YAAYmD,aAE9BwC,EAAc,CACd/Q,GAAI2N,EAAOvC,YAAYpL,GACvB/E,SAAU0S,EAAOvC,YAAYnQ,SAC7B+Q,YAAa2B,EAAOvC,YAAYY,YAChCpB,QAAS+C,EAAOvC,YAAYR,QAC5B2D,cAEA4B,EAASlI,KAAK3D,SAAWqJ,EAAOvC,YAAY9G,SAC5C6L,EAASlI,KAAKf,aAAaZ,KAAKyK,GAEpC,MACJ,IAAK,oCACDZ,EAAS7I,cAAcC,QAAUoG,EAAOrG,cACxC6I,EAASlI,KAAK3D,QAAUqJ,EAAOrJ,QAC/B,MACJ,IAAK,4BACD6L,EAAShB,MAAQ5S,KAAKC,MAAsB,IAAhBD,KAAKE,UACjC,MACJ,IAAK,6BACD0T,EAASrQ,eAAeE,GAAK,IAI7C,EMlDIgR,cLvFG,WAA2H,IAA7FpR,EAAyBiL,UAAAlM,OAAA,QAAAmE,IAAA+H,UAAA,GAAAA,UAAA,GAAGoC,GAAcU,EAA4B9C,UAAAlM,OAAA,EAAAkM,UAAA,QAAA/H,EACvG,OAAO8K,YAAQhO,EAAQuQ,IACnB,OAAQxC,EAAOvJ,MACX,IAAK,sCACD+L,EAASf,eAAiBzB,EAAOyB,eACjC,MACJ,IAAK,wCACDe,EAASd,eAAiB1B,EAAO0B,iBAIjD,EK6EI4B,UAAWvD,GACXwD,cJvFG,WAGgB,IAFnBtR,EAAyBiL,UAAAlM,OAAA,QAAAmE,IAAA+H,UAAA,GAAAA,UAAA,GAAGoC,GAC5BU,EAA6B9C,UAAAlM,OAAA,EAAAkM,UAAA,QAAA/H,EAE7B,OAAO8K,YAAQhO,EAAQuQ,IAEnB,OAAQxC,EAAOvJ,MACX,IAAK,wCAED+L,EAASb,YAAc3B,EAAO2B,YAC9B,MACJ,IAAK,0BACDa,EAASb,YAAc3B,EAAOwD,YACR,IAAIhB,EAASb,aACrBiB,KAAK,CAACC,EAAGC,IAAMD,EAAEY,cAAgBX,EAAEW,cAAgB,GAAK,GACtE,MACJ,IAAK,qCACDjB,EAASlB,WAAatB,EAAOsB,WAC7B,MACJ,IAAK,qCACDkB,EAASZ,cAAgB5B,EAAO4B,gBAIhD,EIgEIC,OHrFG,WAGS,IAFZ5P,EAAkBiL,UAAAlM,OAAA,QAAAmE,IAAA+H,UAAA,GAAAA,UAAA,GAAGoC,GACrBU,EAAyB9C,UAAAlM,OAAA,EAAAkM,UAAA,QAAA/H,EAEzB,OAAO8K,YAAQhO,EAAQuQ,IACnB,OAAQxC,EAAOvJ,MACX,IAAK,wBACD+L,EAASX,OAAS7B,EAAO6B,OACzB,MACJ,IAAK,iCAGL,IAAK,8BACDW,EAASV,eAAiB9B,EAAO8B,eACjC,MACJ,IAAK,4BACDU,EAASpQ,OAAS4N,EAAO5N,OACzB,IAAK,IAAI6D,KAAOuM,EAASX,OACjBW,EAASX,OAAO5L,GAAK5D,KAAO2N,EAAO5N,OAAO,GAAGC,KAE7CmQ,EAASX,OAAO5L,GAAKyN,UAAW,GAGxC,MACJ,IAAK,iCACDlB,EAAST,SAAW/B,EAAO+B,SAE3BnK,QAAQC,IAAI2K,EAAST,UAErB,IAAK,IAAI9L,KAAOuM,EAASX,OACjBW,EAASX,OAAO5L,GAAK5D,KAAO2N,EAAO+B,SAAS,GAAG1P,KAC/CmQ,EAASX,OAAO5L,GAAK0N,SAAU,KAMvD,EGiDIC,qBF5FG,WAGmB,IAFtB3R,EAA4BiL,UAAAlM,OAAA,QAAAmE,IAAA+H,UAAA,GAAAA,UAAA,GAAGoC,GAC/BU,EAAkC9C,UAAAlM,OAAA,EAAAkM,UAAA,QAAA/H,EAElC,OAAO8K,YAAQhO,EAAQuQ,IACnB,GACS,0CADDxC,EAAOvJ,KAEP+L,EAASR,oBAAsBhC,EAAO4D,sBAGtD,EEmFIC,QD1FG,WAGU,IAFb5R,EAAmBiL,UAAAlM,OAAA,QAAAmE,IAAA+H,UAAA,GAAAA,UAAA,GAAGoC,GACtBU,EAAsB9C,UAAAlM,OAAA,EAAAkM,UAAA,QAAA/H,EAEtB,OAAO8K,YAAQhO,EAAQuQ,IACnB,OAAQxC,EAAOvJ,MACX,IAAK,4BACD+L,EAASP,gBAAkBjC,EAAO8D,WAClC,MACJ,IAAK,8BACDtB,EAASN,aAAelC,EAAO8D,WAC/BtB,EAASL,WAAanC,EAAOmC,aAI7C,EC4EI4B,UAAWhE,GACXiE,STfG,WAGW,IAFd/R,EAAoBiL,UAAAlM,OAAA,QAAAmE,IAAA+H,UAAA,GAAAA,UAAA,GAAGyC,EACvBK,EAAuB9C,UAAAlM,OAAA,EAAAkM,UAAA,QAAA/H,EAEvB,OAAO8K,YAAQhO,EAAQuQ,IACnB,OAAQxC,EAAOvJ,MACX,IAAK,2BACD+L,EAAS5C,OAASI,EAAOJ,OACzB4C,EAAS7L,QAAUqJ,EAAOrJ,QAC1B,MACJ,IAAK,mCACD6L,EAAS3C,YAAcG,EAAOH,cAI9C,ESCIoE,UTAG,WAGY,IAFfhS,EAAqBiL,UAAAlM,OAAA,QAAAmE,IAAA+H,UAAA,GAAAA,UAAA,GAAG4C,GACxBE,EAAwB9C,UAAAlM,OAAA,EAAAkM,UAAA,QAAA/H,EAExB,OAAO8K,YAAQhO,EAAQuQ,IACnB,OAAQxC,EAAOvJ,MACX,IAAK,6BACD+L,EAAS5C,OAASI,EAAOJ,OACzB4C,EAAS7L,QAAUqJ,EAAOrJ,QAC1B,MACJ,IAAK,qCACD6L,EAAS3C,YAAcG,EAAOH,cAI9C,ESdIqE,eT7BG,WAGiB,IAFpBjS,EAA0BiL,UAAAlM,OAAA,QAAAmE,IAAA+H,UAAA,GAAAA,UAAA,GAAGuC,EAC7BO,EAA6B9C,UAAAlM,OAAA,EAAAkM,UAAA,QAAA/H,EAE7B,OAAO8K,YAAQhO,EAAQuQ,IACC,yCAAhBxC,EAAOvJ,OACP+L,EAAShL,SAAWwI,EAAOxI,SAC3BgL,EAAS9C,WAAaM,EAAON,aAGzC,IS4BMyE,GAAmBxS,OAAOyS,sCAAwCC,IAE3DC,GAAQC,YACjBlC,GACA8B,GACIK,YAAgBC,YAAiBvF,KACjCsF,YAAgBE,QC9FjB,SAASC,GAAM5N,GAClB,MAAO,CACHN,KAAM,eACNM,QAER,CAQO,SAASgN,GAAUhN,GACtB,MAAO,CACHN,KAAM,oBACNM,QAER,CAgBO,SAAS6N,GAAoB/E,GAChC,MAAO,CACHpJ,KAAM,mCACNoJ,cAER,CAUO,SAASgF,GAAqBhF,GACjC,MAAO,CACHpJ,KAAM,qCACNoJ,cAER,CAaO,SAASiF,KACZ,OAAQ7N,IACJ8B,aAAagM,WAAW,SACxB9N,EA9DG,CACHR,KAAM,kBA+Dd,CAIO,SAASuO,KACZ,OAAOhO,MAAOC,EAA6BC,KACvC,IACI,MAAMjF,EAAQiF,IAad,YAVIjF,EAAMyI,KAAKD,gBACqB,kBAAzBxI,EAAMqR,UAAU5I,WACEvF,IAAzBlD,EAAMqR,UAAU5I,MACuB,aAAvCzI,EAAMqR,UAAU5I,KAAMoG,aAEtB5B,GAAQvG,KAAK,+BAEbuG,GAAQvG,KAAK,KAIrB,CAAE,MAAOhB,GACLC,QAAQC,IAAIF,EAChB,EAER,CA8BO,SAASsN,KACZ,OAAOjO,MAAOC,EAA6BC,KACvC,MAAMH,EAAQgC,aAAaC,QAAQ,SAEnC,GAAa,MAATjC,EAIJ,IACI,MASMmO,SATY9N,IAAMtF,IAAI,GAADZ,OACpB0C,mIAAYC,sBAAqB,iBACpC,CACIqF,QAAS,CACLC,cAAe,UAAYpC,MAKbM,KAE1B0B,aAAaoM,QAAQ,QAASD,GAC9BjO,EAAS0N,GAAMO,IACfjO,EAAS8M,GAAUmB,IAEnB,MAAMjT,EAAQiF,IAWd,YARIjF,EAAMyI,KAAKD,gBACqB,kBAAzBxI,EAAMqR,UAAU5I,WACEvF,IAAzBlD,EAAMqR,UAAU5I,MACuB,aAAvCzI,EAAMqR,UAAU5I,KAAMoG,cAEtB5B,GAAQvG,KAAK,+BAIrB,CAAE,MAAOhB,GACLC,QAAQC,IAAIF,EAChB,EAER,CACO,SAASyN,GAAqB5N,GACjC,OAAOR,MAAOC,EAA6BC,KACvC,MAAMH,EAAQgC,aAAaC,QAAQ,SAEnC,GAAa,MAATjC,EAIJ,IACI,MAAMI,QAAYC,IAAMtF,IAAG,GAAAZ,OACpB0C,mIAAYC,sBAAqB,kBAAA3C,OAAiBsG,GACrD,CACI0B,QAAS,CACLC,cAAe,UAAYpC,KAKnCI,EAAIE,KAAKV,SACTM,EAxKT,SAA4BO,EAAoBkI,GACnD,MAAO,CACHjJ,KAAM,uCACNe,WACAkI,aAER,CAmKoB2F,CACIlO,EAAIE,KAAKiO,mBACTnO,EAAIE,KAAKkO,gBAIzB,CAAE,MAAO/F,GACL5H,QAAQC,IAAI2H,EAChB,MAvBI5H,QAAQC,IAAI,YAyBxB,CACO,SAAS2N,GAAeC,GAA0C,IAA1BC,EAAmBxI,UAAAlM,OAAA,QAAAmE,IAAA+H,UAAA,GAAAA,UAAA,GAAG,EACjE,OAAOlG,MAAOC,EAA6BC,KACvC,MAAMH,EAAQgC,aAAaC,QAAQ,SA9KpC,IAAsB4G,EAAkBjJ,EAgLvC,GAAa,MAATI,EAKJ,IACI,GAAI0O,EAAO,CACP,MAAMtO,QAAYC,IAAMtF,IAAG,GAAAZ,OACpB0C,mIAAYC,sBAAqB,iBACpC,CACIqF,QAAS,CACLC,cAAe,UAAYpC,KAKnCI,EAAIE,KAAKV,UACTM,GAjMS2I,EAkMQzI,EAAIE,KAAKsO,aAlMChP,EAkMaQ,EAAIE,KAAKV,QAjM1D,CACHF,KAAM,2BACNmJ,SACAjJ,aAgMYM,EAvLb,SAAuB2I,EAAkBjJ,GAC5C,MAAO,CACHF,KAAM,6BACNmJ,SACAjJ,UAER,CAkLwBiP,CAAczO,EAAIE,KAAKwO,cAAe1O,EAAIE,KAAKV,UAG3D,KAAO,QACeS,IAAM+F,KAAI,GAAAjM,OACrB0C,mIAAYC,sBAAqB,iBACpC,CAAE6R,eACF,CACIxM,QAAS,CACLC,cAAe,UAAYpC,MAK/BM,KAAKV,SACTM,EAASuO,IAAe,GAEhC,CACJ,CAAE,MAAO7N,GACLC,QAAQC,IAAIF,EAChB,MAxCIC,QAAQC,IAAI,YA0CxB,CAEO,SAASiO,GACZC,EACAtP,EACAiD,EACAsM,GAEA,OAAOhP,MAAOC,EAA6BC,KACvC,MAAMH,EAAQgC,aAAaC,QAAQ,SAEnC,GAAa,MAATjC,EAKJ,IACI,IAAIkP,EAAWF,EAAMtT,KAAK,KAC1B,MAAM0E,QAAYC,IAAMtF,IAAG,GAAAZ,OAIpB0C,mIAAYC,sBAAqB,2BAAA3C,OAA0B+U,GAC9D,CACI/M,QAAS,CACLC,cAAe,UAAYpC,KAKnCI,EAAIE,KAAKV,UACI,cAATF,EACAQ,EAAS4N,GAAqB1N,EAAIE,KAAK6O,SACvB,aAATzP,GACPQ,EAAS2N,GAAoBzN,EAAIE,KAAK6O,SAE1CxM,GAAa,GACbsM,EAAcG,GAAcA,EAAY,GAEhD,CAAE,MAAOxO,GACLC,QAAQC,IAAIF,EAChB,MA7BIC,QAAQC,IAAI,YA+BxB,CACO,SAASuO,GACZL,EACAtP,GAEA,OAAOO,MAAOC,EAA6BC,KACvC,MAAMH,EAAQgC,aAAaC,QAAQ,SAEnC,GAAa,MAATjC,EAKJ,IACI,IAAIkP,EAAWF,EAAMtT,KAAK,KAC1B,MAAM0E,QAAYC,IAAMtF,IAAG,GAAAZ,OAIpB0C,mIAAYC,sBAAqB,2BAAA3C,OAA0B+U,GAC9D,CACI/M,QAAS,CACLC,cAAe,UAAYpC,KAKnCI,EAAIE,KAAKV,UACI,cAATF,EACAQ,EAAS4N,GAAqB1N,EAAIE,KAAK6O,SACvB,aAATzP,GACPQ,EAAS2N,GAAoBzN,EAAIE,KAAK6O,SAGlD,CAAE,MAAOvO,GACLC,QAAQC,IAAIF,EAChB,MA3BIC,QAAQC,IAAI,YA6BxB,CC9QewO,OA5Ef,SAAyB1Y,GAErB,MAAMsJ,EAAWiD,eACVoM,EAAcC,GAAmBhX,oBAAkB,IACnDiX,EAAQC,GAAalX,oBAAkB,GACxCmX,EAAgB1U,YACjBC,GAAqBA,EAAMgS,UAAUrE,QAKpCjC,EAAWgJ,wBAAc,CAC3BC,MAAO,uBAsCX,OAjCAzW,oBAAU,KACN8G,EAASuO,IAAe,KACzB,CAACvO,IACJ9G,oBAAU,KACN,IAAI0W,GAAQ,EACZ,IAAK,IAAI5H,KAAQyH,EACTzH,IAAStR,EAAMmZ,WACfD,GAAQ,GAIZN,IADAM,IAKL,CAACH,EAAe/Y,EAAMmZ,WAIzB3W,oBAAU,KACFxC,EAAMmZ,WAAanZ,EAAMiS,OACzB6G,GAAU,GAEVA,GAAU,IAEf,CAAC9Y,EAAMmZ,SAAUnZ,EAAMiS,SAStB7Q,cAAAwH,WAAA,CAAA7F,UACM8V,GACEzX,cAAA,OAAKyE,UAAU,YAAW9C,SACtBC,eAAA,UACI6C,UAAS,qBAAAtC,OACLoV,EAAe,gBAAkB,aAAY,KAAApV,OAC7CyM,EAAW,GAAK,mBAIpB7M,QAjBJkG,gBACNC,EAASuO,IAAe,EAAO7X,EAAMmZ,iBACrC7P,EAASmO,GAAqBzX,EAAMmZ,YAeTpW,SAAA,CAEhB4V,EAAe,qBAAQ,eAAM,IAC7BA,EACGvX,cAAA,KAAGyE,UAAU,sBAEbzE,cAAA,KAAGyE,UAAU,sBAOzC,ECmCeuT,OA7Gf,SAA0BpZ,GAEtB,MAAM2J,EAAQtF,YACTC,GAAqBA,EAAMC,WAAWC,eAAemF,OAEpDC,EAASvF,YACVC,GAAqBA,EAAMC,WAAWC,eAAeoF,QAEpDC,EAAWxF,YACZC,GAAqBA,EAAMC,WAAWC,eAAeqF,UAEpDC,EAAczF,YACfC,GAAqBA,EAAMC,WAAWC,eAAesF,aAEpDrD,EAAcpC,YACfC,GAAqBA,EAAMC,WAAWC,eAAeiC,aAEpDhC,EAASJ,YACVC,GAAqBA,EAAMC,WAAWC,eAAeE,IAEpDuN,EAAS5N,YAAaC,IAAsB,IAAD+U,EAI3CC,EAHF,MACoC,kBAAzBhV,EAAMqR,UAAU5I,MACH,QADoBsM,EACxC/U,EAAMqR,UAAU5I,YAAI,IAAAsM,GAApBA,EAAsB3U,GAEK,QAA3B4U,EAAOhV,EAAMqR,UAAU5I,YAAI,IAAAuM,OAAA,EAApBA,EAAsB5U,GAE1B,IAELoI,EAAiBzI,YAClBC,GAAqBA,EAAMyI,KAAKD,iBAE9ByM,EAAaC,GAAkB5X,mBAAiB,IAChDmD,EAAS0U,GAAc7X,mBAAiB,GACzC8X,EAAaV,wBAAc,CAC7BC,MAAO,uBA2BX,OAtBAzW,oBAAU,KACU,IAAZuC,GACI/E,EAAMyC,KACNgX,EACIzV,OAAOgB,YAAY,KACXhF,EAAMyC,IACNzC,EAAMyC,GAAG6D,KAAK,mBAAoB7B,IAEvC,MAEPzE,EAAMyC,GAAGC,GAAG,mBAAqBiX,IAC7BH,EAAeG,MAKpB,KACH/T,cAAcb,KAEnB,CAAC/E,EAAMyC,GAAIsC,EAASN,IAInBrD,cAAA,OAAKyE,UAAU,wBAAuB9C,SAClCC,eAAA,OAAK6C,UAAU,WAAU9C,SAAA,CACrBC,eAAA,OAAK6C,UAAU,MAAK9C,SAAA,CAChB3B,cAAA,OAAKyE,UAAU,kBAAiB9C,SAC5B3B,cAAA,OACIyE,UAAS,GAAAtC,OACLmW,EAAa,QAAU,mBAAkB,SACrC3W,SAEP4G,MAGRmD,GACG1L,cAAA,OAAKyE,UAAU,+DAA8D9C,SACzE3B,cAACsX,GAAe,CACZS,SAAUtP,EACVoI,OAAQA,SAKxBjP,eAAA,OAAK6C,UAAU,0CAAyC9C,SAAA,CACpD3B,cAAA,OACIyE,UAAU,4BACV0C,IAAG,GAAAhF,OACCuG,EAAY5F,OAAO,6BAA+B,EAC5C+B,mIAAYC,sBACZ,IACA4D,EACAA,GAEVrB,IAAI,eAERrH,cAAA,OAAKyE,UAAU,gBAAe9C,SAAE6G,IAEhC5G,eAAA,OAAK6C,UAAU,UAAS9C,SAAA,CACnB2W,GAAc,uCAAS,IAAEH,EAAa,IACvCnY,cAAA,KAAGyE,UAAU,8BAGrBzE,cAAA,OAAKyE,UAAU,uBAAsB9C,SAAE0D,QAIvD,E,6BCrGemT,OAdf,WACI,OACIxY,cAACyY,KAAM,CACHC,UAAU,EACVC,SAAS,EACTlU,UAAU,4BAA2B9C,SAErCC,eAAA,OAAK6C,UAAU,qBAAoB9C,SAAA,CAC/B3B,cAAC4Y,KAAU,CAAAjX,SAAC,mFACZ3B,cAAC6Y,KAAW,CAACpU,UAAU,oBAIvC,ECCeqU,OAdf,WACI,OACI9Y,cAACyY,KAAM,CACHC,UAAU,EACVC,SAAS,EACTlU,UAAU,4BAA2B9C,SAErCC,eAAA,OAAK6C,UAAU,qBAAoB9C,SAAA,CAC/B3B,cAAC4Y,KAAU,CAAAjX,SAAC,uEACZ3B,cAAC6Y,KAAW,CAACpU,UAAU,oBAIvC,ECCesU,OAdf,WACI,OACI/Y,cAACyY,KAAM,CACHC,UAAU,EACVC,SAAS,EACTlU,UAAU,4BAA2B9C,SAErCC,eAAA,OAAK6C,UAAU,qBAAoB9C,SAAA,CAC/B3B,cAAC4Y,KAAU,CAAAjX,SAAC,yCACZ3B,cAAC6Y,KAAW,CAACpU,UAAU,oBAIvC,ECCeuU,OAdf,WACI,OACIhZ,cAACyY,KAAM,CACHC,UAAU,EACVC,SAAS,EACTlU,UAAU,4BAA2B9C,SAErCC,eAAA,OAAK6C,UAAU,qBAAoB9C,SAAA,CAC/B3B,cAAC4Y,KAAU,CAAAjX,SAAC,6BACZ3B,cAAC6Y,KAAW,CAACpU,UAAU,oBAIvC,E,SCAewU,OAbf,WACI,OACIrX,eAAA,OAAK6C,UAAU,2FAA0F9C,SAAA,CACrG3B,cAAA,OAAKyE,UAAU,UAAS9C,SAAC,iHACzB3B,cAAA,OAAKyE,UAAU,8CAA6C9C,SACxD3B,cAACkZ,QAAI,CAACtZ,GAAG,8BAA6B+B,SAClC3B,cAAA,UAAQyE,UAAU,kBAAiB9C,SAAC,uBAKxD,ECSewX,OAhBf,SAAeva,GACX,OACIgD,eAAA,OAAK6C,UAAU,4FAA2F9C,SAAA,CACtG3B,cAAA,OAAKyE,UAAU,UAAS9C,SAAE/C,EAAMsP,UAChCtM,eAAA,OAAK6C,UAAU,sDAAqD9C,SAAA,CAChE3B,cAACkZ,QAAI,CAACtZ,GAAG,aAAY+B,SACjB3B,cAAA,UAAQyE,UAAU,kBAAiB9C,SAAC,mBAExC3B,cAACkZ,QAAI,CAACtZ,GAAG,wBAAuB+B,SAC5B3B,cAAA,UAAQyE,UAAU,kBAAiB9C,SAAC,wBAKxD,ECwXeyX,OAtXf,SAA+Bxa,GAE3B,MAAMsJ,EAAWiD,eACVkO,EAAeC,GAAoB9Y,mBAAiB+Y,MACpDC,EAAYC,GAAiBjZ,mBAAiB,IAC9CkZ,EAAWC,GAAgBnZ,oBAAkB,IAC7CoZ,EAAYC,GAAiBrZ,oBAAkB,IAC/CmD,EAAS0U,GAAc7X,mBAAiB,GACzCkL,EAAiBzI,YAClBC,GAAqBA,EAAMyI,KAAKD,gBAG/BoO,EAAc7W,YAAaC,IAAsB,IAAD+U,EAIhDC,EAHF,MACoC,kBAAzBhV,EAAMqR,UAAU5I,MACH,QADoBsM,EACxC/U,EAAMqR,UAAU5I,YAAI,IAAAsM,GAApBA,EAAsBlG,aAEK,QAA3BmG,EAAOhV,EAAMqR,UAAU5I,YAAI,IAAAuM,OAAA,EAApBA,EAAsBnG,aAE1B,KAGL1O,EAASJ,YACVC,GAAqBA,EAAMC,WAAWC,eAAeE,IAGpDkC,EAAWvC,YACZC,GACGA,EAAMC,WAAWsC,mBAAmBC,uBAGtCqU,EAAkB9W,YACnBC,GACGA,EAAMC,WAAWsC,mBAAmB+M,+BAGrCwH,EAAiBC,GAAsBzZ,mBAA4B,CACtE8C,GAAI,EACJgE,YAAa,GACbC,SAAU,EACV2B,SAAU,EACVC,aAAc,EACd/B,aAAc,GACd/B,YAAa,GACb+D,WAAY,EACZxB,SAAS,KAGNsS,EAAwBC,GAC3B3Z,mBAAuC,CACnC8C,GAAI,EACJgG,aAAc,EACdC,YAAY,EACZC,MAAO,GACPtK,SAAU,EACV0I,SAAS,IAGjBxG,oBAAU,KAEFoY,GACAU,EAAuB5Q,aACnB0Q,EAAgB7Q,aAChB,EAEJ0Q,GAAc,GAEdA,GAAc,IAEnB,CACCL,EACAU,EAAuB5Q,aACvB0Q,EAAgB7Q,eAEpB,MAAOiR,EAAOC,GAAY7Z,mBAAsBR,cAAAwH,WAAA,KAC1C8S,EAAU1Z,iBAAuB,MACjC0X,EAAaV,wBAAc,CAC7BC,MAAO,uBAKXzW,oBAAU,IACC,KACCiY,GAAiB,IACjB7U,cAAcb,GACdgW,GAAa,GACbtB,EAAW,KAGpB,CAACgB,EAAe1V,IAInBvC,oBAAU,KACN,GAC+B,IAA3B2Y,EAAgB9X,QACI,IAApBuD,EAASvD,QACT8X,EAAgB9X,SAAWuD,EAASvD,OAEpC,IAAK,IAAIiF,KAAO1B,EAAU,CACtB,IAAIiE,EAAmBsQ,EAAgB7S,GAAKuC,iBAC5C,GACIsQ,EAAgB7S,GAAKqC,iBACAnD,IAArBqD,GACAA,EAAmB,IAAIC,KACzB,CACEuQ,EAAmBzU,EAAS0B,IAC5BiT,EAA0BJ,EAAgB7S,IAC1CyS,GAAa,GACbL,EACIzZ,KAAK0a,MACA9Q,EAAkB+Q,WACf,IAAI9Q,MAAO8Q,WACX,MAGI,IAAZ7W,GACA0U,EACIzV,OAAOgB,YAAY,KACf0V,EACIzZ,KAAK0a,MACA9Q,EAAkB+Q,WACf,IAAI9Q,MAAO8Q,WACX,OAGb,KAGX,KACJ,CAAO,GACHT,EAAgB7S,GAAKqC,iBACAnD,IAArBqD,GACAA,GAAoB,IAAIC,KAC1B,CACElF,cAAcb,GACd0U,EAAW,GACX4B,EAAmBzU,EAAS0B,IAC5BiT,EAA0BJ,EAAgB7S,IAC1CyS,GAAa,GACb,KACJ,CAAO,GACHI,EAAgB7S,GAAKqC,iBACAnD,IAArBqD,EACF,CACEjF,cAAcb,GACd0U,EAAW,GACX4B,EAAmBzU,EAAS0B,IAC5BiT,EAA0BJ,EAAgB7S,IAC1CyS,GAAa,GACb,KACJ,CACJ,GAEL,CAACnU,EAAUuU,EAAiBpW,IAI/BvC,oBAAU,KACFxC,EAAMyC,KACNzC,EAAMyC,GAAGC,GAAG,WAAa+B,IACrB6E,EAASa,EAAwB1F,GAAQ,MAE7CzE,EAAMyC,GAAGC,GACL,qBACA,CAAC+B,EAAgBiH,KACbpC,EAASa,EAAwB1F,GAAQ,IACrCiH,GACAgP,GAAkB,OAI9B1a,EAAMyC,GAAGC,GAAG,yBAA2BmZ,IACtB,IAATA,EACAJ,EAASra,cAAC8Y,GAAkB,MACX,KAAV2B,EACPJ,EAASra,cAAC+Y,GAAgB,MACT,KAAV0B,EACPJ,EAASra,cAACwY,GAAoB,MACb,KAAViC,GACPJ,EAASra,cAACgZ,GAAY,SAInC,CAAC9Q,EAAUtJ,EAAMyC,KAIpB,MAaMqZ,EAAqBA,KAEnB9b,EAAMyC,IACNmY,GACIU,EAAuB5Q,aACnB0Q,EAAgB7Q,cAExBjB,EACI2B,EACImQ,EAAgB1W,GAChBkW,EACA5a,EAAMyC,GACNgC,GACA,KAoBhB,OACIzB,eAAA,OAAK6C,UAAU,2CAA0C9C,SAAA,CACnD+J,EAEkB,KAAhBoO,GAAsC,aAAhBA,EACtBlY,eAAA,OAAK6C,UAAU,gFAA+E9C,SAAA,CAC1F3B,cAAA,OAAKyE,UAAU,MAAK9C,SAChBC,eAAA,OAAK6C,UAAU,oFAAmF9C,SAAA,CAC9F3B,cAAA,OAEIyE,UAAS,oBACT0C,IAAK6S,EAAgB5S,aACrBC,IAAG,MAAAlF,OAAQ6X,EAAgB1W,KAHtB0W,EAAgB1W,IAKzB1B,eAAA,OAAK6C,UAAU,kCAAiC9C,SAAA,CAC5CC,eAAA,OACI6C,UAAS,GAAAtC,OACLmW,EACM,gBACA,2BAA0B,SAC5B3W,SAAA,CAER3B,cAAA,KAAGyE,UAAU,2BAA8B,IAAI,4BAE/CzE,cAAA,SAAM,KACLka,EAAuB5Q,aACxBtJ,cAAA,SACA4B,eAAA,QAAM6C,UAAU,wBAAuB9C,SAAA,CAAC,kCAC7B,IAC0B,MAAhCuY,EAAuB1Q,OACS,KAAjC0Q,EAAuB1Q,MACjB,SACA0Q,EAAuB1Q,YAGnCkQ,QAEEtT,IADJ8T,EAAuBzQ,iBAWlBiQ,QAECtT,IADJ8T,EAAuBzQ,iBAYrB7H,eAAA,OACI6C,UAAS,GAAAtC,OACLmW,EACM,iBACA,4BAA2B,0BACZ3W,SAAA,CAEzB3B,cAAA,KAAGyE,UAAU,0BACZ,GAAG,gBAAI4U,EAAc,aAlB1BrZ,cAAA,OACIyE,UAAS,GAAAtC,OACLmW,EACM,iBACA,4BAA2B,cACxB3W,SAChB,mCAlBD3B,cAAA,OACIyE,UAAS,GAAAtC,OACLmW,EACM,iBACA,4BAA2B,cACxB3W,SAChB,iDA8BjBC,eAAA,OAAK6C,UAAU,oCAAmC9C,SAAA,CAC9CC,eAAA,OAAK6C,UAAU,QAAO9C,SAAA,CAClBC,eAAA,UACI+Y,UAAWjB,GAAaL,GAAiB,GACzC5U,UAAS,qCAAAtC,QACJuX,GAAa,mBAElB3X,QA/HJ6Y,KAChBhc,EAAMyC,IACN6G,EACI2B,EACImQ,EAAgB1W,GAChB0W,EAAgB7Q,aAChBvK,EAAMyC,GACNgC,GACA,KAuHqC1B,SAAA,CAEzB3B,cAAA,KAAGyE,UAAU,iBAAmB,4BAChCzE,cAAA,SAAM,mCACEga,EAAgB7Q,aAAa,OAEzCvH,eAAA,UACI+Y,UAAWjB,GAAaE,EACxBnV,UAAS,yCAAAtC,SACHuX,GAAaE,IACf,mBAEJ7X,QAAS2Y,EAAmB/Y,SAAA,CAE5B3B,cAAA,KAAGyE,UAAU,iBAAmB,+BAEpCzE,cAAA,SAAOyE,UAAU,QAAO9C,SACpB3B,cAAA,SACI0H,KAAK,SACLjD,UAAU,iCACV+K,MAAOgK,EACP/J,SAAW7G,IACP6Q,EAAclT,SAASqC,EAAE8G,OAAOF,SAEpCG,UACI/G,IAEc,UAAVA,EAAExG,KACFsY,YAMpB1a,cAAA,OAAKyE,UAAU,QAAO9C,SAClBC,eAAA,UACI+Y,UAAWjB,EACXjV,UAAS,+CAAAtC,QACJuX,GAAa,mBAElB3X,QAxIJ8Y,KAChBjc,EAAMyC,IACN6G,EACI2B,EACImQ,EAAgB1W,GAChB,KACA1E,EAAMyC,GACNgC,GACA,KAgIqC1B,SAAA,CAEzB3B,cAAA,KAAGyE,UAAU,iBAAmB,sBAChCzE,cAAA,SAAM,KACHga,EAAgB9Q,SAAS,eAM5ClJ,cAACiZ,GAAgB,IAhIjBjZ,cAACmZ,GAAK,CAACjL,QAAS,2DAmIpBlO,cAAC8a,KAAQ,CAACzY,IAAKiY,EAAS1Q,KAAMwQ,EAAOW,UAAU,iBAG3D,E,OCnXeC,OArBR,WACH,OACIpZ,eAAA,OAAK6C,UAAU,oFAAmF9C,SAAA,CAC9F3B,cAAA,OACIyE,UAAU,OACV0C,IAAI,mCACJE,IAAI,QAERzF,eAAA,OAAK6C,UAAU,mBAAkB9C,SAAA,CAAC,sHACV3B,cAAA,SAAM,kEAG9BA,cAAA,OACIyE,UAAU,yBACV0C,ICjBD,i1PDkBCE,IAAI,WAIpB,E,8BEoQe4T,I,YAAAA,GA7Pf,SAAoBrc,GAEhB,MAAMsJ,EAAWiD,cACXgC,EAAgBvM,iBAAuB,MAC7C,IAAIsa,EAAgB,IAAIvY,gBAAgBC,OAAOC,SAASC,QAAQC,IAAI,QACpEmY,EAAiC,MAAjBA,EAAwBA,EAAgB,GAExD9Z,oBAAU,KACN,IAAIsB,EAAO,IAAIC,gBAAgBC,OAAOC,SAASC,QAAQC,IAAI,QAC3DL,EAAe,MAARA,EAAeA,EAAO,GAC7B,IAAIsF,EAAQ,IAAIrF,gBAAgBC,OAAOC,SAASC,QAAQC,IAAI,SAI5D,OAHAiF,EAAiB,MAATA,EAAgBA,EAAQ,GAEhCE,EAASH,EAAoBrF,EAAMsF,IAC5B,KACHE,EzBmJD,CACHR,KAAM,iCyBlJP,CAACQ,IAEJ,MAAM7E,EAASJ,YACVC,GAAqBA,EAAMC,WAAWC,eAAeE,IAG1DlC,oBAAU,KACS,IAAXiC,IACA6E,EAASa,EAAwB1F,GAAQ,IACzC6E,EAASqC,EAAyBlH,MAEvC,CAAC6E,EAAU7E,IAEd,MAAM8X,EAAoBlY,YACrBC,GACGA,EAAMC,WAAWsC,mBAAmBC,uBAG5CtE,oBAAU,KACN,IAAIsJ,EAAgB,IAAI0Q,IACxB,IAAK,IAAInU,KAAWkU,EAChBzQ,EAAc2Q,IAAIpU,EAAQmC,YAE9BlB,EACIuC,EAAsBpH,EAAQqH,EAAe9L,EAAM+L,gBAExD,CAACzC,EAAUiT,EAAmB9X,EAAQzE,IAEzCwC,oBAAU,KACS,IAAXiC,EACAzE,EAAM+L,cAAa,IACA,IAAZtH,GACPzE,EAAM+L,cAAa,IAExB,CAAC/L,EAAOyE,IAIXjC,oBAAU,KACNwB,OAAOyJ,SAAS,EAAG,IACpB,IAIH,MAAM3F,EAAYkR,wBAAc,CAC5BC,MAAO,wBAELjJ,EAAWgJ,wBAAc,CAC3BC,MAAO,wBAEJ7R,EAAMsV,GAAW9a,mBAAiB,IAIlCa,EAAIkN,GAAS/N,mBAAwB,MAQxC6C,EAAS,GAAY,OAAPhC,QAL4B+E,IAAtCvB,mIAAYC,uBACZyJ,EAAMC,YAAG3J,mIAAYC,wBAQ7B1D,oBAAU,KACN,GAAIC,EAAI,CACkBoN,MACdpN,IACAA,EAAG6D,KAAK,WAAY7B,GACpBhC,EAAGC,GAAG,SAAU,KACZ4G,EAASa,EAAwB1F,GAAQ,MAE7ChC,EAAG6D,KAAK,mBAAoB7B,KAGpCoL,EACJ,GACD,CAACvG,EAAU7G,EAAIgC,IAElBjC,oBAAU,IACC,KACD,OAAFC,QAAE,IAAFA,KAAIsN,SAET,CAACtN,IAIJD,oBAAU,KACN,MAAMma,EAAiBA,KACnBrT,EzBgDD,CACHR,KAAM,+ByB9CN,OADA9E,OAAOwK,iBAAiB,WAAYmO,GAC7B,KACH3Y,OAAO8K,oBAAoB,WAAY6N,KAE5C,CAACrT,IAIJ,MAAOsT,EAAWC,GAAgBjb,oBAAS,GAK3C,OACIR,cAAAwH,WAAA,CAAA7F,UACiB,IAAZ0B,EACGrD,cAACgb,GAAS,IAEVhb,cAAA,OAAKyE,UAAU,iBAAiBpC,IAAK8K,EAAcxL,SAC/CC,eAAA,OAAK6C,UAAU,MAAK9C,SAAA,CAChBC,eAAA,OAAK6C,UAAS,GAAAtC,OAAKyM,EAAW,QAAU,OAAQjN,SAAA,CAC5C3B,cAACsC,EAAgB,CAACjB,GAAIA,IACrBuN,EACGhN,eAAA4F,WAAA,CAAA7F,SAAA,CACI3B,cAAA,OAAKyE,UAAU,mBAAkB9C,SAC7B3B,cAAA,OAAKyE,UAAS,SAAW9C,SACrB3B,cAAA,OAAA2B,SACI3B,cAACoZ,GAAqB,CAClB/X,GAAIA,UAKpBrB,cAACsF,EAAsB,CACnBoB,UAAWA,EACXkI,SAAUA,EACVvN,GAAIA,IAERrB,cAACgY,GAAgB,CAAC3W,GAAIA,OAG1BO,eAAA4F,WAAA,CAAA7F,SAAA,CACIC,eAAC8Z,KAAW,CAACjX,UAAU,QAAO9C,SAAA,CAC1B3B,cAAC2b,KAAM,CACHlX,UAAU,WACV1C,QAASA,IAAMuZ,EAAQ,GAAG3Z,SAC7B,6BAGD3B,cAAC2b,KAAM,CACHlX,UAAU,WACV1C,QAASA,IAAMuZ,EAAQ,GAAG3Z,SAC7B,6BAGD3B,cAAC2b,KAAM,CACHlX,UAAU,WACV1C,QAASA,IAAMuZ,EAAQ,GAAG3Z,SAC7B,uBAGD3B,cAAC2b,KAAM,CACHlX,UAAU,WACV1C,QAASA,IAAMuZ,EAAQ,GAAG3Z,SAC7B,4CAIK,IAATqE,GAAchG,cAACgY,GAAgB,CAAC3W,GAAIA,IAC3B,IAAT2E,GACGpE,eAAA4F,WAAA,CAAA7F,SAAA,CACI3B,cAAA,OAAKyE,UAAU,mBAAkB9C,SAC7B3B,cAAA,OAAKyE,UAAS,SAAW9C,SACrB3B,cAACoZ,GAAqB,CAClB/X,GAAIA,QAIhBrB,cAACsF,EAAsB,CACnBoB,UAAWA,EACXkI,SAAUA,EACVvN,GAAIA,OAIN,IAAT2E,GACGhG,cAACkL,EAAkB,CACfiC,cAAeA,EACfyB,SAAUA,IAGR,IAAT5I,GACGhG,cAAC6P,EAAmB,CAChBlF,aAAc/L,EAAM+L,kBAKpC/I,eAAA,OAAK6C,UAAW,mBAAmB9C,SAAA,CAC/B3B,cAAC4b,mBAAe,CACZC,OA3FjBA,KACXJ,GAAa,IA2FeK,KAAI,GAAA3Z,OAAK0C,mIAAYwL,uBAAsB,wBAAAlO,OAAuB+Y,GAAgBvZ,SAElF3B,cAAC+b,KAAM,CACHvM,MAAK,GAAArN,OAAK0C,mIAAYwL,uBAAsB,wBAAAlO,OAAuB+Y,GACnEzW,UAAW,iBAGnB7C,eAAA,OAAAD,SAAA,CACI3B,cAAA,QAAA2B,SAAM,gDACNC,eAAA,MAAAD,SAAA,CACI3B,cAAA,MAAA2B,SAAI,4DACJ3B,cAAA,MAAA2B,SAAI,yFAKnBiN,GACGhN,eAAA,OAAK6C,UAAU,QAAO9C,SAAA,CAClB3B,cAAA,OAAKyE,UAAU,MAAK9C,SAChB3B,cAAA,OAAKyE,UAAU,MAAK9C,SAChB3B,cAACkL,EAAkB,CACfiC,cAAeA,EACfyB,SAAUA,QAItB5O,cAAA,OAAKyE,UAAU,MAAK9C,SAChB3B,cAAA,OAAKyE,UAAU,MAAK9C,SAChB3B,cAAC6P,EAAmB,CAChBlF,aAAc/L,EAAM+L,4BAWhE,E,uFCjRO,SAASqR,KACZ,MAAMC,EAAWC,aAAiBC,QAAAC,aAAA,2HAQ5BC,EAAOC,KAAOC,IAAGC,QAAAJ,aAAA,oRAWjB5c,EAAWid,aAASC,QAAAN,aAAA,4IAQpBO,EAAUL,KAAOC,IAAGK,QAAAR,aAAA,2OAOT5c,GAEjB,OACIQ,cAAA,OAAKyE,UAAU,gBAAe9C,SAC1BC,eAACya,EAAI,CAAA1a,SAAA,CACD3B,cAACic,EAAQ,IACTjc,cAAC2c,EAAO,QAIxB,C,sBC1CA,MAAM,sBAAE7X,IAA0BD,mIAC3B,SAASgY,KACd,MAAM,SAAEC,EAAQ,aAAEC,GAAiBC,eAC7B9U,EAAWiD,eACV8R,EAAeC,GAAoB1c,mBAAS,IACnD,OAAOR,cAAA,OAAA2B,SACLC,eAAA,QAAMub,SAAUJ,EAAa9U,UAC3B,IACE,MAAMG,QAAYC,IAAM+F,KAAI,GAAAjM,OAAS2C,GAAqB,aAAa,CACrEvG,SAAU+J,EAAK/J,SACfqT,MAAOtJ,EAAKsJ,MACZwL,SAAU9U,EAAK8U,SACftD,YAAaxR,EAAKwR,cAGE,MAAlB1R,EAAIE,KAAKN,OAEXgC,aAAaoM,QAAQ,QAAShO,EAAIE,KAAKN,OACvCE,EAAS0N,GAAMxN,EAAIE,KAAKN,QACxBE,EAAS8M,GAAU5M,EAAIE,KAAKN,QAC5BE,EAAS0B,aAAK,OAGdsT,EAAiB,GAAD/a,OAAIiG,EAAIE,KAAKA,KAAK+U,KAEtC,CAAE,MAAOzU,GACPsU,EAAiB,gBACnB,IACCvb,SAAA,CACDC,eAAA,OAAK6C,UAAU,YAAW9C,SAAA,CACxB3B,cAAA,SAAOyE,UAAU,iBAAiB6Y,QAAQ,WAAU3b,SAAC,cAIrD3B,cAAA,QAAAG,YAAA,CACEsE,UAAU,iBACV8K,YAAY,uBACRuN,EAAS,iBAEjBlb,eAAA,OAAK6C,UAAU,YAAW9C,SAAA,CACxB3B,cAAA,SAAOyE,UAAU,iBAAiB6Y,QAAQ,QAAO3b,SAAC,WAGlD3B,cAAA,QAAAG,YAAA,CACEsE,UAAU,iBACV8K,YAAY,oBACRuN,EAAS,cAGjBlb,eAAA,OAAK6C,UAAU,YAAW9C,SAAA,CACxB3B,cAAA,SAAOyE,UAAU,iBAAiB6Y,QAAQ,cAAa3b,SAAC,kBAGxD3B,cAAA,QAAAG,YAAA,CACEsE,UAAU,iBACV8K,YAAY,2BACRuN,EAAS,oBAGjBlb,eAAA,OAAK6C,UAAU,YAAW9C,SAAA,CACxB3B,cAAA,SAAOyE,UAAU,iBAAiB6Y,QAAQ,WAAU3b,SAAC,cAGrD3B,cAAA,QAAAG,YAAA,CACEuH,KAAK,WACLjD,UAAU,iBACV8K,YAAY,uBACRuN,EAAS,iBAEjB9c,cAAA,OAAKyE,UAAU,YAAW9C,SACvBsb,IAEHjd,cAAA,SAAOyE,UAAU,kBAAkBiD,KAAK,eAI9C,CC5EA,MAAQ5C,sBAAsB,IAAID,mIAG3B,SAAS0Y,KACd,MAAM,SAAET,EAAQ,aAAEC,GAAiBC,eAC7B9U,EAAWiD,eACVsF,EAAO+M,GAAYhd,mBAAS,IAGnC,OACER,cAAA,OAAKyE,UAAU,aAAY9C,SAEzBC,eAAA,QAAM6C,UAAU,aAAa0Y,SAAUJ,EAAa9U,UAClD,IACE,MAAMG,QAAYC,IAAM+F,KAAI,GAAAjM,OAAS2C,GAAqB,UAAU,CAClE8M,MAAOtJ,EAAKmV,WACZL,SAAU9U,EAAKoV,gBAIK,MAAlBtV,EAAIE,KAAKN,OAEXgC,aAAaoM,QAAQ,QAAShO,EAAIE,KAAKN,OACvCE,EAAS0N,GAAMxN,EAAIE,KAAKN,QACxBE,EAAS8M,GAAU5M,EAAIE,KAAKN,QAE5BE,EAAS0B,aAAK,OAGd4T,EAAS,GAADrb,OAAIiG,EAAIE,KAAKA,KAAK+U,KAE9B,CAAE,MAAOzU,GACP4U,EAAS,gBACX,IACC7b,SAAA,CACDC,eAAA,OAAK6C,UAAU,YAAW9C,SAAA,CACxB3B,cAAA,SAAOyE,UAAU,iBAAiB6Y,QAAQ,QAAO3b,SAAC,WAGlD3B,cAAA,QAAAG,YAAA,CACCsE,UAAU,iBACV8K,YAAY,oBACTuN,EAAS,mBAEflb,eAAA,OAAK6C,UAAU,YAAW9C,SAAA,CACxB3B,cAAA,SAAOyE,UAAU,iBAAiB6Y,QAAQ,WAAU3b,SAAC,cAGrD3B,cAAA,QAAAG,YAAA,CACEuH,KAAK,WACLjD,UAAU,iBACV8K,YAAY,uBACRuN,EAAS,sBAEjB9c,cAAA,OAAKyE,UAAU,YAAW9C,SACvB8O,IAIHzQ,cAAA,OAAKyE,UAAU,YAAW9C,SACxB3B,cAAA,SAAOyE,UAAU,kBAAkBiD,KAAK,iBAKlD,C,wBCnEO,MAAMiW,GAAiBC,aAAWC,IAAA,IAAC,SAAEhb,GAAUgb,EAAA,OAClD7d,cAAC8d,KAAgB,CAAAnc,SACb3B,cAAC+d,KAAa,CAEVC,WAAW,UACXC,QAAS,IACTC,eAAgBA,CAACC,EAAMC,IAASD,EAAK/Q,iBAAiB,gBAAiBgR,GAAM,GAC7EC,eAAa,EAAA1c,SAEbC,eAAC0c,KAAM,CAAA3c,SAAA,CACH3B,cAACue,KAAK,CAACC,OAAK,EAACC,KAAK,wBAAwBC,UAAW7B,KACrD7c,cAACue,KAAK,CAACC,OAAK,EAACC,KAAK,aAAaC,UAAWnB,SARzC1a,EAAST,SCPnB,SAASuc,KACZ,OACI3e,cAAAwH,WAAA,CAAA7F,SACIC,eAAA,OAAK6C,UAAU,aAAY9C,SAAA,CACvB3B,cAAC4e,WAAO,CAACJ,OAAK,EAAC5e,GAAG,aACdif,gBAAgB,uBAChBpa,UAAU,gBAAe9C,SAAC,iBAAY,KAE1C3B,cAAC4e,WAAO,CAACJ,OAAK,EAAC5e,GAAG,wBACdif,gBAAgB,uBAChBpa,UAAU,gBAAe9C,SAC5B,qBAKjB,CCIO,SAASmd,KACd,MAAM5W,EAAWiD,eACVsF,EAAO+M,GAAYhd,mBAAS,IAG7Bue,EAAiB9W,UAErB,GAAI+W,EAASC,WAEX,IACE,MAAM7W,QAAYC,IAAM+F,KAAI,GAAAjM,OAAS0C,mIAAYC,sBAAqB,iBAAiB,CACrFoa,KAAMF,EAASC,WAAWC,KAC1BtN,MAAOoN,EAASC,WAAWrN,QAIP,MAAlBxJ,EAAIE,KAAKN,OACXgC,aAAaoM,QAAQ,QAAShO,EAAIE,KAAKN,OACvCE,EAAS0N,GAAMxN,EAAIE,KAAKN,QACxBE,EAAS8M,GAAU5M,EAAIE,KAAKN,QAC5BE,EAAS+N,OAKTuH,EAAS,uCAEb,CAAE,MAAO5U,GACoB,OAAtB,OAADA,QAAC,IAADA,OAAC,EAADA,EAAGoW,SAASG,SAGdtW,QAAQ4H,MAAM7H,GAFd4U,EAAS,uCAKb,CAEF,OAAO,MA0CT,SAAS4B,IACP,OAAOxd,eAAA,OAAK6C,UAAU,aAAY9C,SAAA,CAEhC3B,cAAA,OAAKyE,UAAU,6CACfzE,cAAA,OAAA2B,SAAK,0BAET,CACA,MAAO0d,EAAYC,GAAiB9e,mBAAS,gBAQ7C,OANAY,oBAAU,KACRyC,WAAW,KACTyb,EAAc,gBACb,MACF,IAGc,iBAAfD,EACErf,cAAA,OAAKyE,UAAW4a,EAAW1d,SACzB3B,cAACgc,GAAmB,MAGtBhc,cAACuf,IAAQ,CAAChK,MAAOA,GAAM5T,SACrB3B,cAACwf,IAAe,CAACrP,QAASA,GAAQxO,SAChC3B,cAACyf,iBAAa,CAAA9d,SACZ3B,cAAA,OAAKyE,UAAU,UAAS9C,SAEtBC,eAAA,OAAK6C,UAAU,UAAS9C,SAAA,CACtB3B,cAAC2e,GAAS,IAEV/c,eAAA,OAAK6C,UAAU,YAAW9C,SAAA,CAExB3B,cAAC0f,KAAa,CACZC,MAAO9a,mIAAY+a,2BAA6B,GAChDC,UAAU,EACVC,OAAO,qBACPC,SA1EO9X,UAKvB,GAAI+W,EACF,IAEE,MAAM5W,QAAYC,IAAM+F,KAAI,GAAAjM,OAAS0C,mIAAYC,sBAAqB,mBAAmB,CACvFoa,KAAMF,EAASE,KACftN,MAAOoN,EAASpN,MAChB/S,MAAOmgB,EAASgB,QAAQ1X,KAAK2X,MAIT,MAAlB7X,EAAIE,KAAKN,OACXgC,aAAaoM,QAAQ,QAAShO,EAAIE,KAAKN,OACvCE,EAAS0N,GAAMxN,EAAIE,KAAKN,QACxBE,EAAS8M,GAAU5M,EAAIE,KAAKN,QAC5BE,EAAS+N,OAMTuH,EAAS,0BAEb,CAAE,MAAO5U,GACoB,OAAtB,OAADA,QAAC,IAADA,OAAC,EAADA,EAAGoW,SAASG,SAGdtW,QAAQ4H,MAAM7H,GAFd4U,EAAS,uCAKb,CAEF,OAAO,MAuCS0C,SAAS,QACTC,KAAMngB,cAACof,EAAQ,IACfgB,WAAW,KAIbpgB,cAACqgB,KAAW,CAEVC,SAAUzb,mIAAY0b,yBAA2B,GACjDC,WAAW,oBACXC,UAAW1B,EACX2B,UAAW3B,EACX4B,aAAc,uBAIflQ,KAEHzQ,cAAC2d,GAAc,cAU/B,C,sDCtKe,I,OAAA,IAA0B,0C,oBC8GlC,SAASiD,GAAwBxX,GACpC,OAAOnB,MAAOC,EAA6BC,KACvC,IACI,MAAMC,QAAYyY,MAAM,iBAAD1e,OAErB0C,mIAAYC,sBAAqB,qCAE/B,CACIgc,OAAQ,OACR3W,QAAS,CACL,eAAgB,mCAEpB4W,KAAMC,KAAKC,UAAU,CAAE7X,iBAGzB8X,QAAa9Y,EAAI8Y,OACvBhZ,EA3ED,CACHR,KAAM,qCACN6K,WAyEmC2O,EAAK5Y,KAAKuC,QAAQsW,MACrD,CAAE,MAAO1Q,GACL5H,QAAQC,IAAI2H,EAChB,EAER,CClFO,SAAS2Q,KACZ,OAAOnZ,MAAOC,EAA6BC,KACvC,IACI,MAAMC,QAAYyY,MAAM,GAAD1e,OAChB0C,mIAAYC,sBAAqB,gBAGlCuc,SADajZ,EAAI8Y,QACK5Y,KAAKuC,QASjC3C,EA9BD,CACHR,KAAM,6BACN6K,WA4B4B8O,GAC5B,CAAE,MAAO5Q,GACL5H,QAAQC,IAAI2H,EAEhB,EAGR,CCxEO,SAAS6Q,GAAavM,GACzB,MAAO,CACHrN,KAAM,4BACNqN,aAER,CAEO,SAASwM,GAAcxM,EAAqB3B,GAC/C,MAAO,CACH1L,KAAM,8BACNqN,aACA3B,aAER,CCkBO,MAAMoO,GAAkB5iB,IAS3B,MAAMsJ,EAAWiD,cACXO,EAAiBzI,YAClBC,GAAqBA,EAAMyI,KAAKD,gBAE/B+V,EAAaxe,YAAaC,IAAsB,IAAD+U,EACjD,MACoC,kBAAzB/U,EAAMqR,UAAU5I,MACH,QADoBsM,EACxC/U,EAAMqR,UAAU5I,YAAI,IAAAsM,GAApBA,EAAsB3I,YAEfpM,EAAMqR,UAAU5I,KAAK2D,YAEzB,yDAELwK,EAAc7W,YAAaC,IAAsB,IAADgV,EAIhDwJ,EAHF,MACoC,kBAAzBxe,EAAMqR,UAAU5I,MACH,QADoBuM,EACxChV,EAAMqR,UAAU5I,YAAI,IAAAuM,GAApBA,EAAsBnG,aAEK,QAA3B2P,EAAOxe,EAAMqR,UAAU5I,YAAI,IAAA+V,OAAA,EAApBA,EAAsB3P,aAE1B,KAELmB,EAAkBjQ,YACnBC,GAAqBA,EAAM4R,QAAQ5B,iBAElCC,EAAelQ,YAChBC,GAAqBA,EAAM4R,QAAQ3B,cAElCC,EAAanQ,YACdC,GAAqBA,EAAM4R,QAAQ1B,YAElCuO,EAAU/gB,iBAAuB,MACjCghB,EAAahhB,iBAA0B,MACvCihB,EAASjhB,iBAAuB,MACtCQ,oBAAU,OAAU,CAAC8R,IAErB9R,oBAAU,KACN8G,EAASgO,OACV,CAAChO,IAEJ,MAAO4Z,EAAaC,GAAkBvhB,mBAAS,IAE/CY,oBAAU,KHGP,IAAkC4gB,EGFjC9Z,GHEiC8Z,EGFCF,EHG/B7Z,MAAOC,EAA6BC,KACvC,IACI,MAAMC,QAAYyY,MAAM,iBAAD1e,OAErB0C,mIAAYC,sBAAqB,iCAE/B,CACIgc,OAAQ,OACR3W,QAAS,CACL,eAAgB,mCAEpB4W,KAAMC,KAAKC,UAAU,CAAEe,qBAM/B9Z,EA3DD,CACHR,KAAM,wCACNkL,mBAuDuBxK,EAAI8Y,QAEe5Y,KAAKuC,QAAQsW,MACvD,CAAE,MAAO1Q,GACL5H,QAAQC,IAAI2H,EAChB,MGtBD,CAACvI,EAAU4Z,IAEd,MAAMG,EACFjiB,cAACkiB,KAAO,CAAC5e,GAAG,gBAAe3B,SACvB3B,cAACkiB,KAAQC,OAAM,CAACC,GAAG,MAAKzgB,SAAC,+BAI3B4Q,EAAatP,YAAaC,GAC5Bmf,OAAOC,OAAOpf,EAAMsC,SAAS+M,aAGjCnR,oBAAU,KAEN8G,EAASkZ,OACV,CAAClZ,IAEJ,MAQMqa,EAAuBA,KAAO,IAADC,EAAAC,EAK7BC,EADQ,eAFY,QAAlBF,EAAAZ,EAAW7gB,eAAO,IAAAyhB,OAAA,EAAlBA,EAAoBG,UAChBtc,MAAMlH,KAAuB,QAAnBsjB,EAACb,EAAW7gB,eAAO,IAAA0hB,OAAA,EAAlBA,EAAoBE,WAAWC,QAAQ,iBAGpC,QAAlBF,EAAAd,EAAW7gB,eAAO,IAAA2hB,GAAlBA,EAAoBlhB,WAIrB4H,EAAYyZ,GAAiBriB,mBAAS,GAiB7C,OAfAY,oBAAU,KACN8G,EAAS0Y,GAAwBxX,KAClC,CAAClB,EAAUkB,IAEdhI,oBAAU,KACFgS,GAAcuO,EAAQ5gB,SAAW6gB,EAAW7gB,SAC5C6gB,EAAW7gB,QAAQS,SAExB,CAAC4R,IAEJhS,oBAAU,KACFygB,GAAUA,EAAO9gB,SACjBnC,EAAMkkB,aAAajB,EAAO9gB,UAE/B,CAAC8gB,EAAQjjB,IAERoB,cAAA,OAAKqC,IAAKwf,EAAOlgB,SACZkgB,GACGjgB,eAACmhB,KAAM,CAACC,kBAAgB,EAACC,OAAO,KAAKxe,UAAU,eAAc9C,SAAA,CACzD3B,cAACkZ,QAAI,CAACtZ,GAAG,IAAI6E,UAAU,kCAAiC9C,SACpD3B,cAAA,OACIqH,IAAI,eACJF,IAAK+b,GACL3jB,OAAO,KACPkF,UAAU,4CAGlBzE,cAAC+iB,KAAOI,OAAM,CACV,gBAAc,wBACdphB,QAjDY6G,IAE5BV,EAASoZ,IAAa,IACtBpZ,EAASqZ,IAAcpO,GAA6B,KA+CpC9Q,IAAKuf,IAET5hB,cAAC+iB,KAAOK,SAAQ,CACZ9f,GAAG,wBACHmB,UAAU,gBACVpC,IAAKsf,EACLhgB,SAEAC,eAACyhB,KAAG,CAAC5e,UAAU,yBAAwB9C,SAAA,CACnC3B,cAACsjB,KAAS,CAAC7e,UAAW,mBAAmB9C,SACrC3B,cAACujB,KAAK,CACF7b,KAAK,SACLwX,KAAK,SACL5b,GAAG,gBACHiM,YAAY,kBACZE,SAAWzN,IACP+f,EAAe/f,EAAM0N,OAAOF,QAEhCgU,WAAaxhB,IACS,UAAdA,EAAMI,MACNJ,EAAMyhB,iBACNvb,EACI0B,aAAK,mCAADzH,OACmC2f,WAQ3D9hB,cAACkZ,QAAI,CACDtZ,GAAG,IACH6E,UAAU,2BACV1C,QAASwgB,EAAqB5gB,SACjC,iBAIC+J,EAgBE1L,cAACkZ,QAAI,CACDtZ,GACoB,KAAhBka,GACgB,aAAhBA,EACM,8BACA,cAEVrV,UAAU,2BACV1C,QAASwgB,EAAqB5gB,SACjC,6BAxBD3B,cAAC0jB,KAAc,CACXC,QAAQ,QACR5I,UAAU,SACV6I,QAAS3B,EACT4B,WAAS,EAAAliB,SAET3B,cAACkZ,QAAI,CACDtZ,GAAG,IACH6E,UAAU,2BACV1C,QAASwgB,EAAqB5gB,SACjC,+BAmBT3B,cAAC8jB,KAAW,CACRvb,MAAM,2BACNjF,GAAG,0BACHmB,UAAU,2BAGV9C,SAEC4Q,EAAWvL,IAAK0M,GACb1T,cAACkZ,QAAI,CACDtZ,GAAE,4BAAAuC,OAA8BuR,EAASA,UACzCjP,UAAU,iBAEV1C,QAASA,KACL8gB,EAAcnP,EAASpQ,IACvBif,KACF5gB,SAED+R,EAASA,UANLA,EAASpQ,OAUxBoI,EASE1L,cAACkZ,QAAI,CACDtZ,GAAG,IACHmC,QAAU6G,IACNA,EAAE6a,iBACFvb,EAAS6N,MACT7N,EAAS0B,aAAK,MACd2Y,KAEJ9d,UAAU,2BAA0B9C,SACvC,iBAjBD3B,cAACkZ,QAAI,CACDtZ,GAAG,aACH6E,UAAU,2BACV1C,QAASwgB,EAAqB5gB,SACjC,qCAiBL3B,cAACkZ,QAAI,CACDtZ,GAAG,8BACH6E,UAAU,iDAAgD9C,SAEzD+J,GAAkB+V,GACfzhB,cAAA,OACIqH,IAAI,cACJF,IAAG,GAAAhF,OACCsf,EAAW3e,OACP,6BACA,EACE+B,mIACKC,sBACL,IACA2c,EACAA,GAEVpiB,MAAM,KACNE,OAAO,KACPkF,UAAU,kBACV1C,QAASwgB,iB,wBCnR1C,SAASwB,KACZ,MAAM7b,EAAWiD,cACXO,EAAiBzI,YAClBC,GAAqBA,EAAMyI,KAAKD,gBAGrCtK,oBAAU,KACN8G,EAASgO,OACV,CAAChO,IAEJ,MAAM+Z,EACFjiB,cAACkiB,KAAO,CAAC5e,GAAG,gBAAe3B,SACvB3B,cAACkiB,KAAQC,OAAM,CAACC,GAAG,KAAIzgB,SAAC,+BAGhC,OACI3B,cAAA,UAAA2B,SACIC,eAACoiB,KAAS,CAAAriB,SAAA,CACNC,eAAA,OAAK6C,UAAU,sBAAqB9C,SAAA,CAChC3B,cAAA,OACIqH,IAAI,eACJF,IAAK+b,GACL3jB,OAAO,KACPkF,UAAU,6BAEd7C,eAAA,OAAAD,SAAA,CACI3B,cAAA,QAAMyE,UAAU,cAAa9C,SAAC,+CAC7B+J,EACG1L,cAACkZ,QAAI,CAACtZ,GAAG,cAAc6E,UAAU,WAAU9C,SACvC3B,cAAC2b,KAAM,CACHsI,QAAQ,UACRxf,UAAU,qBAAoB9C,SACjC,yBAKL3B,cAACkZ,QAAI,CAACtZ,GAAG,aAAa6E,UAAU,WAAU9C,SACtC3B,cAAC2b,KAAM,CACHsI,QAAQ,UACRxf,UAAU,qBAAoB9C,SACjC,+BAOjBC,eAAA,OAAK6C,UAAU,eAAc9C,SAAA,CACzB3B,cAACkZ,QAAI,CACDtZ,GAAG,mCACH6E,UAAU,WAAU9C,SACvB,6BAGC+J,EAYE1L,cAACkZ,QAAI,CAACtZ,GAAG,cAAc6E,UAAU,WAAU9C,SAAC,6BAX5C3B,cAAC0jB,KAAc,CACXC,QAAQ,QACR5I,UAAU,SACV6I,QAAS3B,EACT4B,WAAS,EAAAliB,SAET3B,cAACkZ,QAAI,CAACtZ,GAAG,IAAI6E,UAAU,WAAU9C,SAAC,+BASxC+J,EAKE1L,cAACkZ,QAAI,CACDtZ,GAAG,IACHmC,QAAU6G,IACNA,EAAE6a,iBACFvb,EAAS6N,MACT7N,EAAS0B,aAAK,OAElBnF,UAAU,WAAU9C,SACvB,iBAZD3B,cAACkZ,QAAI,CAACtZ,GAAG,aAAa6E,UAAU,WAAU9C,SAAC,wCAiBnD3B,cAAA,QAAMyE,UAAU,YAAW9C,SAAC,yDAM5C,C,qEC7FO,SAASuiB,KACZ,OAAOlkB,cAACmkB,KAAe,CAAChE,KAAMiE,KAAS3f,UAAW,cACtD,C,kCCqCO,SAAS+O,KAEZ,MAAMtL,EAAWiD,cAGXQ,EAAO1I,YAAaC,GAAqBA,EAAMqR,UAAU5I,MAEzD0Y,EAAWrD,KAAKrX,MAAMqX,KAAKC,UAAUtV,IAGrC4G,EAAatP,YAAaC,GAC5Bmf,OAAOC,OAAOpf,EAAMsC,SAAS+M,cAE3B,SAAEuK,EAAQ,MAAEwH,EAAK,aAAEvH,EAAY,QAAEwH,GAAYvH,eACnD5b,oBAAU,KAEN8G,EAASkZ,OACV,CAAClZ,IAGJ,MAAOsc,EAAOC,GAAYjkB,mBAAc,IAElCkkB,EAAe9b,IACjB6b,EAAS,KAEb,SAASE,IACL,OACI3kB,cAAA,OAAA2B,SACIC,eAACgjB,KAAK,CAACngB,UAAW,kBAAmBuG,MAAM,OAAMrJ,SAAA,CAAC,+DAE9C3B,cAAA,OAAKyE,UAAW,cAAe1C,QAAS2iB,EAAY/iB,SAChD3B,cAACkkB,GAAU,UAK/B,CAEA,SAASW,IACL,OACI7kB,cAAA,OAAA2B,SACIC,eAACgjB,KAAK,CAACngB,UAAW,kBAAmBuG,MAAM,OAAMrJ,SAAA,CAAC,yDAE9C3B,cAAA,OAAKyE,UAAW,cAAe1C,QAAS2iB,EAAY/iB,SAChD3B,cAACkkB,GAAU,UAK/B,CAGA,IAAKY,EAAmBC,GAAwBvkB,oBAAS,GACzD,MAoJM,OAAEsf,EAAM,OAAEkF,EAAM,OAAEC,GAAWC,aAAc,CAC7CX,UACArF,KAAM,kBAIHiG,EAAeC,GAAoB5kB,qBAepC6kB,EAAoBC,IACtB,MAAMC,EAAc,IAAI7b,KAClB8b,EAAe,IAAI9b,KAAK4b,GAE9B,OAAOC,EAAY/K,UAAYgL,EAAahL,WAQhD,MAAOiL,EAAQC,GAAallB,mBAAiB,GAQ7C,IAAImlB,EAAqBrB,EAAM,gBA8C/B,OA5CAljB,oBAAU,KAEN,QAAqBgF,GAAjBuf,GAA8BA,EAAc1jB,OAK5C,IAAK,IAAI2jB,KAAgBD,EAEY,MAA7BC,EAAaxe,mBACgBhB,GAA7Bwf,EAAaxe,cACbwe,EAAaxe,aAAanF,SAQlB,SADJwc,KAAKoH,QAAQD,EAAaxe,aAAa,GAAG8X,OAGtC,UADJT,KAAKoH,QAAQD,EAAaxe,aAAa,GAAG8X,OAGtC,SADJT,KAAKoH,QAAQD,EAAaxe,aAAa,GAAG8X,QAU1C0G,EAAaxe,aAAe,MAU7C,CAAC,CAAc,OAAbue,QAAa,IAAbA,OAAa,EAAbA,EAAe1jB,UAGhBjC,cAAA,OAAKyE,UAAW,mCAAmC9C,SAE/CC,eAAA,OAAK6C,UAAW,UAAU9C,SAAA,CACtB3B,cAAA,OAAKyE,UAAW,kBAEhB7C,eAAA,QAAMub,SAAUJ,EAjPY9U,UACpC,MAAM6d,EAAoBxd,EAAKyd,aAC/B,IAAIC,GAAmB,EAGvB,GAAIF,EAAkB7jB,OAAS,EAAG,CAC9B,IAAK,IAAIgF,KAAW6e,EAEZ7e,EAAQG,aAAa,KAKrB4e,GAAU,GAMlB,GAAIA,EAAS,CACI1d,EAAK2d,UAKlB,IAAIC,EAAe,IAAIC,SAEvBD,EAAalB,OAAO,YAAa1c,EAAK2d,UAAUG,gBAE3BhgB,GAAjB+e,GACAe,EAAalB,OAAO,YAAaG,GAIjC7c,EAAK2d,UAAU5gB,aACf6gB,EAAalB,OACT,cACA1c,EAAK2d,UAAU5gB,aAGnBiD,EAAK2d,UAAUI,WACfH,EAAalB,OACT,YACA1c,EAAK2d,UAAUI,UAAUhY,YAGjB,MAAZgW,GACA6B,EAAalB,OAAO,SAAUX,EAAS/gB,IAI3C,IAAID,EAAc,KAElB,QAAqB+C,GAAjB+e,EAA4B,CAC5B,MAAMmB,QAAgBzF,MAAM,GAAD1e,OACpB0C,mIAAYC,sBAAqB,oCACpC,CACIgc,OAAQ,OACRC,KAAMmF,IAKd7iB,SAFuBijB,EAAQpF,QAEb5Y,KAAKF,IAAI,GAAG9E,EAClC,MACID,EAAS,KAUb,MAAMmC,EAAW8C,EAAKyd,aACtB,GAAc,MAAV1iB,EAAgB,CAChB,IAAK,IAAKkjB,EAAOtf,KAAYzB,EAASghB,UAAkB,CACpD,IAAIC,EAAkB,IAAIN,SAC1BM,EAAgBzB,OAAO,OAAQ/d,EAAQiY,MACvCuH,EAAgBzB,OACZ,eACA/d,EAAQG,aAAa,IAEzBqf,EAAgBzB,OACZ,aACA/d,EAAQyf,YAEZD,EAAgBzB,OACZ,gBACA/d,EAAQ0f,eAEZF,EAAgBzB,OAAO,WAAY/d,EAAQiC,UAC3Cud,EAAgBzB,OACZ,aACA/d,EAAQmC,YAERnC,EAAQ5B,aACRohB,EAAgBzB,OACZ,cACA/d,EAAQ5B,aAGhBohB,EAAgBzB,OAAO,SAAU3hB,GACjCojB,EAAgBzB,OAAO,eAAgBuB,GACvB,MAAZlC,IACAoC,EAAgBzB,OACZ,WACAX,EAAS9lB,UAEbkoB,EAAgBzB,OAAO,SAAUX,EAAS/gB,KAG9C,MAAMsjB,QAAe/F,MAAM,GAAD1e,OACnB0C,mIAAYC,sBAAqB,uCACpC,CACIgc,OAAQ,OACRC,KAAM0F,UAGQG,EAAO1F,MACjC,CAGAhZ,EAAS0B,aAAK,KAClB,CAEJ,MACyB,IAAjB4a,EAAMviB,OACNwiB,EAASD,EAAMriB,OAAOnC,cAAC6kB,EAA+B,MAGtDJ,EAAS,CAACzkB,cAAC6kB,EAA+B,KAGtD,MACyB,IAAjBL,EAAMviB,OACNwiB,EAASD,EAAMriB,OAAOnC,cAAC2kB,EAA8B,MAErDF,EAAS,CAACzkB,cAAC2kB,EAA8B,QAsGFhjB,SAAA,CACnC3B,cAAA,MAAA2B,SAAI,6BACJC,eAAA,OAAK6C,UAAW,YAAY9C,SAAA,CACxB3B,cAAA,SAAA2B,SAAO,8BAAc,IACrB3B,cAAA,QAAAG,wBAAA,CACIsE,UAAW,iBACPqY,EAAS,wBAAsB,IACnC+J,UAAQ,QAIhBjlB,eAAA,OAAK6C,UAAW,YAAY9C,SAAA,CACxB3B,cAAA,SAAA2B,SAAO,+BAAe,IACtB3B,cAAA,OAAKyE,UAAW,QAAQ9C,SACpB3B,cAAA,QAAAG,wBAAA,CACIuH,KAAK,OACLof,OAAO,WACHhK,EAAS,wBAAsB,IACnCrN,SAvGP7G,IACbA,EAAE8G,OAAOqX,OAASne,EAAE8G,OAAOqX,MAAM9kB,OAAS,IAEE,QAAxCwc,KAAKoH,QAAQjd,EAAE8G,OAAOqX,MAAM,GAAG7H,OACS,SAAxCT,KAAKoH,QAAQjd,EAAE8G,OAAOqX,MAAM,GAAG7H,OACS,QAAxCT,KAAKoH,QAAQjd,EAAE8G,OAAOqX,MAAM,GAAG7H,OAE/BkG,EAAiBxc,EAAE8G,OAAOqX,MAAM,MAiGhBF,UAAQ,OAGhB7mB,cAAA,OAAKyE,UAAW,kBAAkB9C,SAAC,gFAKtCwjB,GACGvjB,eAAA,OAAK6C,UAAW,gBAAgB9C,SAAA,CAC5B3B,cAAA,OACIyE,UAAW,kCACX0C,IAAK6f,IAAIC,gBAAgB9B,GACzB9d,IAAI,KAERzF,eAAA,OAAK6C,UAAW,sBAAsB9C,SAAA,CAElC3B,cAAA,OAAA2B,SAAMwjB,EAAczd,OACpB1H,cAAA,OAAA2B,SAAA,GAAAQ,QACMgjB,EAAc5Y,KAAe,KAC1B8B,WACA6Y,MAAM,sBAAwB,eAKnDtlB,eAAA,OAAK6C,UAAW,YAAY9C,SAAA,CACxB3B,cAAA,SAAA2B,SAAO,8BACP3B,cAACmnB,KAAU,CACP5C,QAASA,EACTrF,KAAK,sBACLkI,OAAQvJ,IAAA,IAAC,MAAEwJ,GAAOxJ,EAAA,OACd7d,cAAA,OAAA2B,SACI3B,cAACsnB,KAAU,CACP7iB,UAAW,aACXgL,SAAW7G,GAAMye,EAAM5X,SAAS7G,GAChC2e,SAAUF,EAAM7X,MAChBgY,gBAAc,EAEdC,gBAAgB,2BAChBC,WAAW,qBACXC,WAAYtC,EACZwB,UAAQ,YAU5BjlB,eAAA,OAAK6C,UAAW,YAAY9C,SAAA,CACxB3B,cAAA,SAAA2B,SAAO,8BAAc,IACrB3B,cAAA,WAAAG,YAAA,CACIsE,UAAW,kBACPqY,EAAS,8BAMrB9c,cAAA,UACIyE,UAAW,iBACXiD,KAAK,SACL3F,QA/IF6lB,KAEd5C,EAAO,CAAC,GACRU,EAAUD,EAAS,IA4IgB9jB,SACtB,qCAKAme,EAAO9Y,IAAI,CAAA6gB,EAAetB,KAAW,IAAzB,GAAEjjB,EAAE,KAAE4b,GAAM2I,EAGjBC,EAAuBxD,EAAM,gBAADniB,OACZokB,EAAK,kBAGzB,OACI3kB,eAAA,OACI6C,UAAU,kCAAiC9C,SAAA,CAG3CC,eAAA,OAAK6C,UAAW,iBAAiB9C,SAAA,CAAC,gBAC1B4kB,EAAQ,KAGhB3kB,eAAA,KAAG6C,UAAW,YAAY9C,SAAA,CACtB3B,cAAA,SAAA2B,SAAO,8BACP3B,cAAA,QAAAG,wBAAA,CACIsE,UAAW,iBACPqY,EAAS,gBAAD3a,OACQokB,EAAK,WACxB,IACDwB,aAAc7I,EACd2H,UAAQ,QAIhBjlB,eAAA,OAAK6C,UAAW,YAAY9C,SAAA,CACxB3B,cAAA,SAAA2B,SAAO,+BACP3B,cAAA,OAAKyE,UAAW,QAAQ9C,SACpB3B,cAAA,QAAAG,wBAAA,CACIuH,KAAK,OACLof,OAAO,WACHhK,EAAS,gBAAD3a,OACQokB,EAAK,mBACxB,IACDM,UAAQ,OAGhB7mB,cAAA,OAAKyE,UAAW,kBAAkB9C,SAAC,gFAKd,OAAT,OAAfmmB,QAAe,IAAfA,OAAe,EAAfA,EAAkB,MAEX,SADHrJ,KAAKoH,QAAQiC,EAAgB,GAAG5I,OAIvB,SAFNT,KAAKoH,QACDiC,EAAgB,GAAG5I,OAIjB,UAFNT,KAAKoH,QACDiC,EAAgB,GAAG5I,QAEvBtd,eAAA,OAAK6C,UAAW,gBAAgB9C,SAAA,CAE5B3B,cAAA,OACIyE,UACI,kCAEJ0C,IAAK6f,IAAIC,gBACLa,EAAgB,IAEpBzgB,IAAI,KAERzF,eAAA,OACI6C,UACI,sBACH9C,SAAA,CAKD3B,cAAA,OAAA2B,SAEQmmB,EAAgB,GACXpgB,OAGb1H,cAAA,OAAA2B,SAAA,GAAAQ,QAES2lB,EAAgB,GACZvb,KACL,KAEC8B,WACA6Y,MACG,sBACA,eAM5BtlB,eAAA,KAAG6C,UAAW,YAAY9C,SAAA,CACtB3B,cAAA,SAAA2B,SAAO,sBACP3B,cAAA,QAAAG,wBAAA,CACIsE,UAAW,gBACXiD,KAAK,SACLuI,IAAI,KACA6M,EAAS,gBAAD3a,OACQokB,EAAK,iBACxB,IACDM,UAAQ,QAIhBjlB,eAAA,KAAG6C,UAAW,YAAY9C,SAAA,CACtB3B,cAAA,SAAA2B,SAAO,4BACP3B,cAAA,QAAAG,wBAAA,CACIsE,UAAW,gBACXiD,KAAK,SACLuI,IAAI,KACA6M,EAAS,gBAAD3a,OACQokB,EAAK,oBACxB,IACDM,UAAQ,QAIhBjlB,eAAA,KAAG6C,UAAW,YAAY9C,SAAA,CACtB3B,cAAA,SAAA2B,SAAO,4BACP3B,cAAA,QAAAG,wBAAA,CACIsE,UAAW,gBACXiD,KAAK,SACLuI,IAAI,KACA6M,EAAS,gBAAD3a,OACQokB,EAAK,eACxB,IACDM,UAAQ,QAIhBjlB,eAAA,KAAG6C,UAAW,YAAY9C,SAAA,CACtB3B,cAAA,SAAA2B,SAAO,kBAAY,IACnB3B,cAAA,SAAAG,wBAAA,CACIsE,UAAW,sBACPqY,EAAS,gBAAD3a,OACQokB,EAAK,iBACxB,IAAA5kB,SAEA4Q,EAAWvL,IAAK0M,GACb1T,cAAA,UAEIwP,MAAOkE,EAASpQ,GAAG3B,SAElB+R,EAASA,UAHLA,EAASpQ,WAQ9B1B,eAAA,KAAG6C,UAAW,YAAY9C,SAAA,CACtB3B,cAAA,SAAA2B,SAAO,oCACP3B,cAAA,WAAAG,YAAA,CACIsE,UAAW,kBACPqY,EAAS,gBAAD3a,OACQokB,EAAK,sBAIjCvmB,cAAA,UACIyE,UAAW,iBACX1C,QAASA,IAAMkjB,EAAOsB,GAAO5kB,SAChC,+BAzJI2B,KA+JhBkhB,EAAMxd,IAAK4B,GACR5I,cAAA,OAAA2B,SAAiBiH,GAAPof,iBAEdhoB,cAAA,SAAOyE,UAAW,iBAAkBiD,KAAK,kBAK7D,CChjBemI,OA7Cf,WACI,MAIMC,EAAoB,IAJJ7M,YACjBC,GAAqBA,EAAMC,WAAWyH,cAAcC,UAIzD,IAAIkF,EAAMD,EAAkB7N,OAC5B,MAAM+N,EAA8B,GACpC,IAAK,IAAI9I,EAAM,EAAGA,EAAMrH,KAAKoQ,IAAI,GAAIF,GAAM7I,IACvC8I,EAAepG,KACXkG,EAAkB5N,OACdrC,KAAKC,MAAMD,KAAKE,SAAW+P,EAAkB7N,QAC7C,GACF,IAIV,OACIjC,cAAA,OAAKyE,UAAU,2BAA0B9C,SACpCqO,EAAehJ,IAAI,CAACkJ,EAAMhJ,IACvBlH,cAACkZ,QAAI,CAACtZ,GAAE,uBAAAuC,OAAyB+N,EAAKI,YAAa3O,SAC/CC,eAAA,OACI6C,UAAU,iFAAgF9C,SAAA,CAG1F3B,cAAA,OACIyE,UAAU,iBACV0C,IAAG,GAAAhF,OAAK0C,mIAAYC,sBAAqB,KAAA3C,OAAI+N,EAAKrR,OAClDwI,IAAI,qBAERzF,eAAA,OAAK6C,UAAU,wDAAuD9C,SAAA,CAClE3B,cAAA,OAAKyE,UAAU,6BAA4B9C,SACtCuO,EAAK3H,QAEVvI,cAAA,OAAKyE,UAAU,gCAA+B9C,SACzCuO,EAAK3R,gBAZT2I,IAH4CA,KAuBzE,E,qBCvCO,SAAS+gB,KACZ,OAAOjoB,cAACmkB,KAAe,CAAChE,KAAM+H,KAAazjB,UAAW,eAC1D,CCsNenC,OAjNf,SAA0B1D,GAA+B,IAADupB,EAEpD,MAAMC,EAAWxnB,iBAAyB,OACnC4B,EAAQ6lB,GAAa7nB,mBAAwB,MACpD,IAAIiC,EAAqC,KACzC,MAAO6lB,EAAaC,GAAkB/nB,mBAA6B,MAC7DwH,EAAuB,IAAIrF,gBAC7BC,OAAOC,SAASC,QAClBC,IAAI,SACAC,EAAYC,YACbC,GAAqBA,EAAMC,WAAWC,eAAeJ,WAE1D,IAAKW,EAAS0U,GAAc7X,mBACxBoD,YAAY,OAAU,OAE1B,MAAM8H,EAAiBzI,YAClBC,GAAqBA,EAAMyI,KAAKD,gBAE/BnN,EAAW0E,YAAaC,IAAsB,IAAD+U,EAC/C,MACoC,kBAAzB/U,EAAMqR,UAAU5I,MACH,QADoBsM,EACxC/U,EAAMqR,UAAU5I,YAAI,IAAAsM,GAApBA,EAAsB1Z,SAEf2E,EAAMqR,UAAU5I,KAAKpN,SAEzB,KAELiK,EAASvF,YACVC,GAAqBA,EAAMC,WAAWC,eAAeoF,QAKpD2O,EAASqR,KAAQ,GAAArmB,OAChB0C,mIAAYC,sBAAqB,gBAAA3C,OAAe6F,IAKvD5G,oBAAU,KACN,IAAK+V,EAAOsR,YAAcjmB,EAAQ,CAE9BC,EAAS,IAAIc,sBAAoB7E,GACjC,IAAIgqB,EAAmB,IAAIllB,SAAOf,EAAQrE,GAC1CqE,EAAOgB,OAAS,KAAO,IAADklB,EACM,MAApBD,GAGJA,EAAiBhlB,KAAK,QAADvB,OAAoB,QAApBwmB,EAASxR,EAAO7O,YAAI,IAAAqgB,OAAA,EAAXA,EAAajmB,MAAQ,KAEvD2lB,EAAUK,GACVrQ,EACIzU,YACI,IAAgB,MAAVnB,GAAkBA,EAAOqB,OAAO,SAAU,UAChD,MAGZ,GACD,CAACqT,IAEJ/V,oBAAU,IACC,KACH,GAAIknB,EAAa,CACAA,EAAYM,YAClBC,QAAQ,SAAU7kB,GACrBA,EAAM8kB,MACV,GACAR,EAAYS,WAChB,GAEL,CAACT,IAEJlnB,oBAAU,IACC,KAAO,IAAD4nB,EACTxkB,cAAcb,GACR,OAANnB,QAAM,IAANA,KAAQmM,QACF,QAANqa,EAAAvmB,SAAM,IAAAumB,GAANA,EAAQra,SAEb,CAACnM,EAAQC,EAAQkB,IAIpB,MAAMslB,EAASjnB,IACPA,EACAknB,cAAYC,aAAa,CACrBC,WAAY,MAEZC,OAAO,EACP5qB,MAAO,QAEN6qB,KAAMC,IACsB,OAArBnB,EAASrnB,SAA+B,OAAXyB,IAGjC4lB,EAASrnB,QAAQoD,UAAYolB,EAC7BnB,EAASrnB,QAAQqD,UAAW,EAC5BgkB,EAASrnB,QAAQsD,UAAW,EAC5B+jB,EAASrnB,QAAQuD,OAAQ,EACzBikB,EAAegB,GACf/mB,EAAOgnB,QAAQD,MAElBE,MAAM5gB,QAAQ4H,OAEnByY,cAAYQ,gBAAgB,CACxBN,WAAY,MAEZtoB,OAAO,EACPuoB,OAAO,EACP5qB,MAAO,QAEN6qB,KAAMC,IACsB,OAArBnB,EAASrnB,SAA+B,OAAXyB,IAGjC4lB,EAASrnB,QAAQoD,UAAYolB,EAC7BnB,EAASrnB,QAAQqD,UAAW,EAC5BgkB,EAASrnB,QAAQsD,UAAW,EAC5B+jB,EAASrnB,QAAQuD,OAAQ,EACzBikB,EAAegB,GACf/mB,EAAOgnB,QAAQD,MAElBE,MAAM5gB,QAAQ4H,SAmBpBkZ,EAAGlO,GAAgBjb,oBAAS,GAMnC,OACIR,cAAA,OAAKyE,UAAU,yBAAwB9C,SACnCC,eAAA,OAAK6C,UAAU,kCAAiC9C,SAAA,CAC5C3B,cAAC4b,mBAAe,CACZC,OATDA,KACXJ,GAAa,IASDK,KAAI,GAAA3Z,OAAK0C,mIAAYwL,uBAAsB,wBAAAlO,OAAkC,QAAlCgmB,EAAuBhR,EAAO7O,YAAI,IAAA6f,OAAA,EAAXA,EAAazlB,MAAOf,SAEtFC,eAAA,OAAK6C,UAAU,aAAY9C,SAAA,CAAC,iFACV,IACd3B,cAAA,KAAGyE,UAAU,uBAA0B,IACvCzE,cAAA,QAAMyE,UAAU,YAAW9C,SACvB3B,cAACioB,GAAW,WAIb,MAAVzlB,GAAkBkJ,GAAkBnN,IAAaiK,GAC9C5G,eAAC8Z,KAAW,CAACjX,UAAU,QAAO9C,SAAA,CAC1B3B,cAAA,UACIyE,UAAU,kBACV1C,QAASA,IAAMknB,GAAM,GAAMtnB,SAC9B,6BAGD3B,cAAA,UACIyE,UAAU,kBACV1C,QAASA,IAAMknB,GAAM,GAAOtnB,SAC/B,yCAGD3B,cAAA,UACIyE,UAAU,oBACV1C,QAASA,IApDpB+mB,MACT,GAAwB,MAApBV,EAASrnB,SAAkC,MAAfunB,EAC5B,OAESA,EAAYM,YAClBC,QAAQ,SAAU7kB,GACrBA,EAAM8kB,MACV,GACAR,EAAYS,YACZX,EAASrnB,QAAQoD,UAAY,MA2CM2kB,GAAOnnB,SACzB,gCAKTC,eAAA,OAAK6C,UAAU,uBAAsB9C,SAAA,CACX,OAArBymB,EAASrnB,SACNf,cAACK,EAAO,CAACS,MAAOsnB,EAAU/mB,GAAIzC,EAAMyC,KAExCrB,cAAA,SACIsD,GAAG,WACHoB,OAAO,kBACPD,UAAU,cACVL,UAAQ,EACR/B,IAAK+lB,EACLzjB,MAAO,CACHC,gBAAgB,GAADzC,OACXa,EAAS,QAAAb,OACK0C,mIAAYC,sBAAqB,KAAA3C,OAAIa,EAAS,MACtD,IAEV+B,iBAAkB,YAClBC,eAAgB,sBAO5C,ECtDeM,OA3Jf,SAAgC1G,GAE5B,MAAMsJ,EAAWiD,cACX5F,EAAW3E,iBAA2B,MAEtC4E,EAAWvC,YACZC,GACGA,EAAMC,WAAWsC,mBAAmBC,uBAEtCrC,EAASJ,YACVC,GAAqBA,EAAMC,WAAWC,eAAeE,IAKpDqC,EAAeC,GACG,MAApBL,EAASxE,SAAmBwE,EAASxE,QAAQ8E,KAAKD,GAyBtD,OACI5F,cAAA,OAAKyE,UAAU,sCAAqC9C,SAChD3B,cAAA,OACIyE,UAAU,oBACVE,MACI/F,EAAM8H,UAAY,CAAC,EA1CU,CAAEC,UAAW,SA2C7ChF,SAEDC,eAAA,OACI6C,UAAS,iDAAmD9C,SAAA,CAEvC,IAApB6D,EAASvD,OACNuD,EAASvD,OAAS,EACdjC,cAAC4G,IAAQ,CACLC,YAAY,EACZC,MAAO,EACPzE,IAAKkD,EACLnB,UAAU,EACV2C,KAAK,EACLhF,QA1CG6nB,CAC3BC,EACAC,EACA9nB,KAEA,GAAkB,MAAd6nB,EACA,OAEJ,IAAI3iB,EAAMX,SACNujB,EAAK3jB,WAAW+J,KAAK2Z,GAAYrjB,UAAUC,MAAM,QAAQ/C,KAAK,KAE9DoC,GAAa,EACjB,IAAK,IAAImF,EAAI,EAAGA,EAAIzF,EAASvD,OAAQgJ,IAC7B/D,IAAQ1B,EAASyF,GAAG3H,KACpBwC,EAAYN,EAASyF,GAAG3H,IAG5B1E,EAAMyC,IACN6G,E3CkUL,SACHpC,EACAzE,EACAgC,GAEA,OAAO4E,MAAOC,EAA6BC,KACvC,IACI,MAAMH,EAAQgC,aAAaC,QAAQ,SAEnC,GAAa,MAATjC,EACA,OAGJ,IAAIwK,EACArK,IAAWhF,WAAWsC,mBACjB+M,6BACLuX,EAAM,IAAIrgB,KACVgQ,GAAY,EAChB,IAAK,IAAIzS,KAAWuL,EAEZvL,EAAQwC,kBACRsgB,GAAO9iB,EAAQwC,mBAEfiQ,GAAY,GAIpB,IAAKA,EAAW,CACZ,MAAMtR,QAAYC,IAAM6B,IAAG,GAAA/H,OACpB0C,mIAAYC,sBAAqB,mCACpC,CACIgB,aAEJ,CACIqE,QAAS,CACLC,cAAe,UAAYpC,KAKnCI,EAAIE,KAAKV,UACTM,EA1RT,CACHR,KAAM,8BACNpE,GAwRmC8E,EAAIE,KAAKhF,KAC5BjC,GACAA,EAAG6D,KAAK,SAAU,CAAC7B,EAAQyC,IAGvC,CACJ,CAAE,MAAO8C,GACLC,QAAQC,IAAIF,EAChB,EAER,C2CrXqBohB,CAAqBlkB,EAAWlH,EAAMyC,GAAIgC,KAwBC1B,SAE/B6D,EAASwB,IAAI,CAACC,EAASC,IACpBtF,eAAA,OAEI6C,UAAS,kEACT,oBAAAtC,OAAmB8E,EAAQ3D,IAAK3B,SAAA,CAEhC3B,cAAA,OAEIyE,UAAS,oBACT0C,IAAKF,EAAQG,aACbC,IAAG,MAAAlF,OAAQ8E,EAAQ3D,KAHd2D,EAAQ3D,IAKjB1B,eAAA,OAAK6C,UAAU,kFAAiF9C,SAAA,CAC5FC,eAAA,OAAK6C,UAAU,eAAc9C,SAAA,CACzB3B,cAAA,KAAGyE,UAAU,gBAAmB,IAAI,4BAEpCzE,cAAA,SACCiH,EAAQK,eAEb1F,eAAA,OAAK6C,UAAU,gBAAe9C,SAAA,CAC1B3B,cAAA,KAAGyE,UAAU,sBAAyB,IAAI,sBAE1CzE,cAAA,SAAM,IAAEiH,EAAQM,eAGxBvH,cAACoF,EAAqB,CAClBC,YACI4B,EAAQ5B,YACF4B,EAAQ5B,YACR,OA3BT4B,EAAQ3D,OAkCzB1B,eAAA,OACI6C,UAAS,wEACT,oBAAAtC,OAAmBqD,EAAS,GAAGlC,IAAK3B,SAAA,CAEpC3B,cAAA,OAEIyE,UAAS,oBACT0C,IAAK3B,EAAS,GAAG4B,aACjBC,IAAG,MAAAlF,OAAQqD,EAAS,GAAGlC,KAHlBkC,EAAS,GAAGlC,IAKrB1B,eAAA,OAAK6C,UAAU,kFAAiF9C,SAAA,CAC5FC,eAAA,OAAK6C,UAAU,eAAc9C,SAAA,CACzB3B,cAAA,KAAGyE,UAAU,gBAAmB,IAAI,4BAEpCzE,cAAA,SACCwF,EAAS,GAAG8B,eAEjB1F,eAAA,OAAK6C,UAAU,gBAAe9C,SAAA,CAC1B3B,cAAA,KAAGyE,UAAU,sBAAyB,IAAI,sBAE1CzE,cAAA,SAAM,IAAEwF,EAAS,GAAG+B,eAG5BvH,cAACoF,EAAqB,CAClBC,YACIG,EAAS,GAAGH,YACNG,EAAS,GAAGH,YACZ,QAMtBrF,cAAAwH,WAAA,IAEHhC,EAASvD,OAAS,GACfL,eAAA4F,WAAA,CAAA7F,SAAA,CACI3B,cAAA,UACIyE,UAAU,mDACV1C,QAASA,IAAM4D,EAAY,QAAQhE,SAEnC3B,cAAA,KAAGyE,UAAU,wBAEjBzE,cAAA,UACIyE,UAAU,oDACV1C,QAASA,IAAM4D,EAAY,QAAQhE,SAEnC3B,cAAA,KAAGyE,UAAU,kCAQ7C,ECvJewlB,OAdf,WACI,OACIjqB,cAACyY,KAAM,CACHC,UAAU,EACVC,SAAS,EACTlU,UAAU,4BAA2B9C,SAErCC,eAAA,OAAK6C,UAAU,qBAAoB9C,SAAA,CAC/B3B,cAAC4Y,KAAU,CAAAjX,SAAC,wFACZ3B,cAAC6Y,KAAW,CAACpU,UAAU,oBAIvC,ECNeylB,OARf,WACI,OACIlqB,cAAA,OAAKyE,UAAU,gGAA+F9C,SAC1G3B,cAAA,OAAKyE,UAAU,UAAS9C,SAAC,gGAGrC,ECiVeyX,OApUf,SAA+Bxa,GAE3B,MAAMsJ,EAAWiD,eACVgf,EAAoBC,GAAyB5pB,mBAAiB,KAC9D6Y,EAAeC,GAAoB9Y,mBAAiB+Y,MACpDG,EAAWC,GAAgBnZ,oBAAkB,IAC7CmD,EAAS0U,GAAc7X,mBAAiB,GACzCkL,EAAiBzI,YAClBC,GAAqBA,EAAMyI,KAAKD,gBAG/BrI,EAASJ,YACVC,GAAqBA,EAAMC,WAAWC,eAAeE,IAGpDkC,EAAWvC,YACZC,GACGA,EAAMC,WAAWsC,mBAAmBC,uBAGtCqU,EAAkB9W,YACnBC,GACGA,EAAMC,WAAWsC,mBAAmB+M,+BAGrCwH,EAAiBC,GAAsBzZ,mBAA4B,CACtE8C,GAAI,EACJgE,YAAa,GACbC,SAAU,EACV2B,SAAU,EACVC,aAAc,EACd/B,aAAc,GACd/B,YAAa,GACb+D,WAAY,EACZxB,SAAS,KAGNsS,EAAwBC,GAC3B3Z,mBAAuC,CACnC8C,GAAI,EACJgG,aAAc,EACdC,YAAY,EACZC,MAAO,GACPtK,SAAU,EACV0I,SAAS,IAGXrJ,EAAW0E,YAAaC,IAAsB,IAAD+U,EAC/C,MACoC,kBAAzB/U,EAAMqR,UAAU5I,MACH,QADoBsM,EACxC/U,EAAMqR,UAAU5I,YAAI,IAAAsM,GAApBA,EAAsB1Z,SAEf2E,EAAMqR,UAAU5I,KAAKpN,SAEzB,KAELub,EAAc7W,YAAaC,IAAsB,IAADgV,EAIhDwJ,EAHF,MACoC,kBAAzBxe,EAAMqR,UAAU5I,MACH,QADoBuM,EACxChV,EAAMqR,UAAU5I,YAAI,IAAAuM,GAApBA,EAAsBnG,aAEK,QAA3B2P,EAAOxe,EAAMqR,UAAU5I,YAAI,IAAA+V,OAAA,EAApBA,EAAsB3P,aAE1B,KAELvJ,EAASvF,YACVC,GAAqBA,EAAMC,WAAWC,eAAeoF,SAEnD4R,EAAOC,GAAY7Z,mBAAsBR,cAAAwH,WAAA,KAC1C8S,EAAU1Z,iBAAuB,MACjC0X,EAAaV,wBAAc,CAC7BC,MAAO,uBAKXzW,oBAAU,IACC,KACCiY,GAAiB,IACjB7U,cAAcb,GACdgW,GAAa,KAGtB,CAACN,EAAe1V,IAInBvC,oBAAU,KACN,GAC+B,IAA3B2Y,EAAgB9X,QACI,IAApBuD,EAASvD,QACT8X,EAAgB9X,SAAWuD,EAASvD,OAEpC,IAAK,IAAIiF,KAAO6S,EAAiB,CAC7B,IAAItQ,EAAmBsQ,EAAgB7S,GAAKuC,iBAExCsQ,EAAgB7S,GAAKqC,iBACAnD,IAArBqD,GACAA,EAAmB,IAAIC,MAEvBuQ,EAAmBzU,EAAS0B,IAC5BiT,EAA0BJ,EAAgB7S,IAC1CyS,GAAa,GACbL,EACIzZ,KAAK0a,MACA9Q,EAAkB+Q,WACf,IAAI9Q,MAAO8Q,WACX,MAGI,IAAZ7W,GACA0U,EACIzV,OAAOgB,YAAY,KACf0V,EACIzZ,KAAK0a,MACA9Q,EAAkB+Q,WACf,IAAI9Q,MAAO8Q,WACX,OAGb,OAIXT,EAAgB7S,GAAKqC,iBACAnD,IAArBqD,GACAA,GAAoB,IAAIC,MAOxBqQ,EAAgB7S,GAAKqC,iBACAnD,IAArBqD,KANAjF,cAAcb,GACdsW,EAAmBzU,EAAS0B,IAC5BiT,EAA0BJ,EAAgB7S,IAC1CyS,GAAa,GAUrB,GAEL,CAACnU,EAAUuU,EAAiBpW,IAI/BvC,oBAAU,KACFxC,EAAMyC,IACNzC,EAAMyC,GAAGC,GACL,qBACA,CAAC+B,EAAgBiH,KACbpC,EAASa,EAAwB1F,GAAQ,IACrCiH,GACAgP,GAAkB,QAKnC,CAACpR,EAAUtJ,EAAMyC,KAIpB,MAAMgpB,EAAWA,KACTF,GAAsB,IAAMA,GAAsB,KAClD7Q,EAAiB6Q,GACbvrB,EAAMyC,IACN6G,E9C8OT,SACHpC,EACAwkB,EACAjS,EACAhX,EACAgC,GAEA,OAAO4E,MAAOC,EAA6BC,KACvC,IACI,MAAMH,EAAQgC,aAAaC,QAAQ,SAEnC,GAAa,MAATjC,EACA,OAGJ,MAAMI,QAAYC,IAAM6B,IAAG,GAAA/H,OACpB0C,mIAAYC,sBAAqB,oCACpC,CACIgB,YACAwkB,WAEJ,CACIngB,QAAS,CACLC,cAAe,UAAYpC,KAKnCI,EAAIE,KAAKV,SACLQ,EAAIE,KAAKmB,mBACTvB,EApTT,CACHR,KAAM,mCACNpE,GAoToB8E,EAAIE,KAAKhF,GAnT7B6Q,QAoToB,IAAIzK,KAAKA,KAAKC,MAAMvB,EAAIE,KAAKmB,qBAGrC4O,EAAW,GACPhX,GACAA,EAAG6D,KAAK,WAAY7B,GAIpC,CAAE,MAAOuF,GACLC,QAAQC,IAAIF,EAChB,EAER,C8C3RoB2hB,CACIvQ,EAAgB1W,GAChB6mB,EACA9R,EACAzZ,EAAMyC,GACNgC,KAKZgX,EAASra,cAACiqB,GAAyB,MAK3C,OACIroB,eAAA,OAAK6C,UAAU,2CAA0C9C,SAAA,CACnD+J,EAEkB,KAAhBoO,GAAsC,aAAhBA,EACtBtR,IAAWjK,EACPqD,eAAA,OAAK6C,UAAU,gFAA+E9C,SAAA,CAC1F3B,cAAA,OAAKyE,UAAU,MAAK9C,SAChBC,eAAA,OAAK6C,UAAU,oFAAmF9C,SAAA,CAC9F3B,cAAA,OAEIyE,UAAS,oBACT0C,IAAK6S,EAAgB5S,aACrBC,IAAG,MAAAlF,OAAQ6X,EAAgB1W,KAHtB0W,EAAgB1W,IAKzB1B,eAAA,OAAK6C,UAAU,kCAAiC9C,SAAA,CAC5CC,eAAA,OACI6C,UAAS,GAAAtC,OACLmW,EACM,gBACA,2BAA0B,SAC5B3W,SAAA,CAER3B,cAAA,KAAGyE,UAAU,2BAA8B,IAAI,4BAE/CzE,cAAA,SAAM,KACLka,EAAuB5Q,aACxBtJ,cAAA,SACA4B,eAAA,QAAM6C,UAAU,wBAAuB9C,SAAA,CAAC,kCAC7B,IAEH,MADHuY,EAAuB1Q,OAES,KAAjC0Q,EAAuB1Q,MACjB,SACA0Q,EAAuB1Q,YAGnCkQ,QAEEtT,IADJ8T,EAAuBzQ,iBAWlBiQ,QAECtT,IADJ8T,EAAuBzQ,iBAYrB7H,eAAA,OACI6C,UAAS,GAAAtC,OACLmW,EACM,iBACA,4BAA2B,0BACZ3W,SAAA,CAEzB3B,cAAA,KAAGyE,UAAU,0BACZ,GAAG,gBAAI4U,EAAc,aAlB1BrZ,cAAA,OACIyE,UAAS,GAAAtC,OACLmW,EACM,iBACA,4BAA2B,cACxB3W,SAChB,mCAlBD3B,cAAA,OACIyE,UAAS,GAAAtC,OACLmW,EACM,iBACA,4BAA2B,cACxB3W,SAChB,iDA8BjBC,eAAA,UACI+Y,SACIjB,IACEA,QAEMtT,IADJ8T,EAAuBzQ,iBAG/BhF,UAAS,4CAAAtC,OACLuX,GAAa,mBAEjB3X,QAASsoB,EAAS1oB,SAAA,CAElB3B,cAAA,KAAGyE,UAAU,iBAAmB,+BAEpC7C,eAAA,SAAO6C,UAAU,0DAAyD9C,SAAA,CACtE3B,cAAA,QACIyE,UAAS,GAAAtC,OACLmW,EACM,iBACA,6BACP3W,SACN,sCAGD3B,cAAA,SACI0H,KAAK,SACLjD,UAAU,gCACV+lB,IAAK,IACLva,IAAK,GACLT,MAAO2a,EACP1a,SAAW7G,GACPwhB,EACI7jB,SAASqC,EAAE8G,OAAOF,QAG1BG,UACI/G,IAEc,UAAVA,EAAExG,MAEE+nB,GAAsB,IACtBA,GAAsB,IAEtBE,IAEAhQ,EACIra,cAACiqB,GAAyB,eAStDjqB,cAACkqB,GAAS,IAGdlqB,cAACiZ,GAAgB,IAnIjBjZ,cAACmZ,GAAK,CAACjL,QAAS,2DAqIpBlO,cAAC8a,KAAQ,CAACzY,IAAKiY,EAAS1Q,KAAMwQ,EAAOW,UAAU,iBAG3D,ECpEeE,OArPf,SAAoBrc,GAAyB,IAAD+pB,EAAAR,EAExC,MAAMjgB,EAAWiD,cACXgC,EAAgBvM,iBAAuB,MAEvCoH,EAAuB,IAAIrF,gBAC7BC,OAAOC,SAASC,QAClBC,IAAI,SACAoU,EAASqR,KAAQ,GAAArmB,OAChB0C,mIAAYC,sBAAqB,gBAAA3C,OAAe6F,IAIvD5G,oBAAU,KACN,IAAIsB,EAAO,IAAIC,gBAAgBC,OAAOC,SAASC,QAAQC,IAAI,QAC3DL,EAAe,MAARA,EAAeA,EAAO,GAC7B,IAAIsF,EAAQ,IAAIrF,gBAAgBC,OAAOC,SAASC,QAAQC,IAAI,SAI5D,OAHAiF,EAAiB,MAATA,EAAgBA,EAAQ,GAEhCE,EAASH,EAAoBrF,EAAMsF,IAC5B,KACHE,E/C4ID,CACHR,KAAM,iC+C3IP,CAACQ,IAEJ,MAAM7E,EAASJ,YACVC,GAAqBA,EAAMC,WAAWC,eAAeE,IAG1DlC,oBAAU,KACS,IAAXiC,IACA6E,EAASa,EAAwB1F,GAAQ,IACzC6E,EAASqC,EAAyBlH,MAEvC,CAAC6E,EAAU7E,IAEd,MAAM8X,EAAoBlY,YACrBC,GACGA,EAAMC,WAAWsC,mBAAmBC,uBAG5CtE,oBAAU,KACN,IAAIsJ,EAAgB,IAAI0Q,IACxB,IAAK,IAAInU,KAAWkU,EAChBzQ,EAAc2Q,IAAIpU,EAAQmC,YAE9BlB,EACIuC,EAAsBpH,EAAQqH,EAAe9L,EAAM+L,gBAExD,CAACzC,EAAUiT,EAAmB9X,EAAQzE,IAEzCwC,oBAAU,KACS,IAAXiC,EACAzE,EAAM+L,cAAa,IACA,IAAZtH,GACPzE,EAAM+L,cAAa,IAExB,CAAC/L,EAAOyE,IAIX,MAAMqD,EAAYkR,wBAAc,CAC5BC,MAAO,wBAELjJ,EAAWgJ,wBAAc,CAC3BC,MAAO,wBAEJ7R,EAAMsV,GAAW9a,mBAAiB,IAIlCa,EAAIkN,GAAS/N,mBAAwB,MAE5CY,oBAAU,KAWN,GAJIiC,EAAS,GAAY,OAAPhC,QAL4B+E,IAAtCvB,mIAAYC,uBACZyJ,EAAMC,YAAG3J,mIAAYC,wBAQzBzD,EAAI,CACkBoN,MACdpN,IACAA,EAAG6D,KAAK,WAAY7B,GACpBhC,EAAGC,GAAG,SAAU,KACZ4G,EAASa,EAAwB1F,GAAQ,MAE7ChC,EAAG6D,KAAK,mBAAoB7B,KAGpCoL,EACJ,GACD,CAACvG,EAAU7G,EAAIgC,IAElBjC,oBAAU,IACC,KACD,OAAFC,QAAE,IAAFA,KAAIsN,SAET,CAACtN,IAIJD,oBAAU,KACN,MAAMma,EAAiBA,KACnBrT,E/C+CD,CACHR,KAAM,+B+C7CN,OADA9E,OAAOwK,iBAAiB,WAAYmO,GAC7B,KACH3Y,OAAO8K,oBAAoB,WAAY6N,KAE5C,CAACrT,IAEJ,MAAOsT,EAAWC,GAAgBjb,oBAAS,GAK3C,OACIR,cAAAwH,WAAA,CAAA7F,UACiB,IAAZ0B,EACGrD,cAACgb,GAAS,IAEVhb,cAAA,OAAKyE,UAAS,iBAAoBpC,IAAK8K,EAAcxL,SACjDC,eAAA,OAAK6C,UAAU,MAAK9C,SAAA,CAChBC,eAAA,OAAK6C,UAAS,GAAAtC,OAAKyM,EAAW,QAAU,OAAQjN,SAAA,CAC5C3B,cAACyqB,GAAsB,CAACppB,GAAIA,IAC3BuN,EACGhN,eAAA4F,WAAA,CAAA7F,SAAA,CACI3B,cAAA,OAAKyE,UAAU,mBAAkB9C,SAC7B3B,cAAA,OAAKyE,UAAS,SAAW9C,SACrB3B,cAAC0qB,GAA2B,CACxBrpB,GAAIA,QAIhBrB,cAAC2qB,GAA4B,CACzBjkB,UAAWA,EACXkI,SAAUA,EACVvN,GAAIA,IAERrB,cAACgY,GAAgB,CAAC3W,GAAIA,OAG1BO,eAAA4F,WAAA,CAAA7F,SAAA,CACIC,eAAC8Z,KAAW,CAACjX,UAAU,QAAO9C,SAAA,CAC1B3B,cAAC2b,KAAM,CACHlX,UAAU,WACV1C,QAASA,IAAMuZ,EAAQ,GAAG3Z,SAC7B,6BAGD3B,cAAC2b,KAAM,CACHlX,UAAU,WACV1C,QAASA,IAAMuZ,EAAQ,GAAG3Z,SAC7B,6BAGD3B,cAAC2b,KAAM,CACHlX,UAAU,WACV1C,QAASA,IAAMuZ,EAAQ,GAAG3Z,SAC7B,uBAGD3B,cAAC2b,KAAM,CACHlX,UAAU,WACV1C,QAASA,IAAMuZ,EAAQ,GAAG3Z,SAC7B,4CAIK,IAATqE,GAAchG,cAACgY,GAAgB,CAAC3W,GAAIA,IAC3B,IAAT2E,GACGpE,eAAA4F,WAAA,CAAA7F,SAAA,CACI3B,cAAA,OAAKyE,UAAU,mBAAkB9C,SAC7B3B,cAAA,OAAKyE,UAAS,SAAW9C,SACrB3B,cAAC0qB,GAA2B,CACxBrpB,GAAIA,QAIhBrB,cAAC2qB,GAA4B,CACzBjkB,UAAWA,EACXkI,SAAUA,EACVvN,GAAIA,OAIN,IAAT2E,GACGhG,cAACkL,EAAkB,CACfiC,cAAeA,EACfyB,SAAUA,IAGR,IAAT5I,GACGhG,cAAC4qB,GAAyB,OAItChpB,eAAA,OAAK6C,UAAW,mBAAmB9C,SAAA,CAC/B3B,cAAC4b,mBAAe,CACZC,OAvFjBA,KACXJ,GAAa,IAuFeK,KAAI,GAAA3Z,OAAK0C,mIAAYwL,uBAAsB,wBAAAlO,OAAkC,QAAlCwmB,EAAuBxR,EAAO7O,YAAI,IAAAqgB,OAAA,EAAXA,EAAajmB,MAAOf,SAEtF3B,cAAC+b,KAAM,CACHvM,MAAK,GAAArN,OAAK0C,mIAAYwL,uBAAsB,wBAAAlO,OAAkC,QAAlCgmB,EAAuBhR,EAAO7O,YAAI,IAAA6f,OAAA,EAAXA,EAAazlB,MAChF+B,UAAW,iBAGnB7C,eAAA,OAAAD,SAAA,CACI3B,cAAA,QAAA2B,SAAM,gDACNC,eAAA,MAAAD,SAAA,CACI3B,cAAA,MAAA2B,SAAI,4DACJ3B,cAAA,MAAA2B,SAAI,yFAKnBiN,GACGhN,eAAA,OAAK6C,UAAU,QAAO9C,SAAA,CAClB3B,cAAA,OAAKyE,UAAU,MAAK9C,SAChB3B,cAAA,OAAKyE,UAAU,MAAK9C,SAChB3B,cAACkL,EAAkB,CACfiC,cAAeA,EACfyB,SAAUA,QAItB5O,cAAA,OAAKyE,UAAU,MAAK9C,SAChB3B,cAAA,OAAKyE,UAAU,MAAK9C,SAChB3B,cAAC4qB,GAAyB,iBAUlE,E,gDCjRO,SAASC,KACd,OACE7qB,cAAA,OAAKyE,UAAU,aAAY9C,SACzBC,eAAA,OACEvC,MAAM,MACNE,OAAO,KACPurB,QAAQ,aACRC,KAAK,OACLC,MAAM,6BAA4BrpB,SAAA,CAElC3B,cAAA,QAAMV,EAAE,IAAID,MAAM,MAAME,OAAO,IAAIwrB,KAAK,YACxC/qB,cAAA,QAAMZ,EAAE,MAAME,EAAE,IAAID,MAAM,MAAME,OAAO,IAAIwrB,KAAK,YAChD/qB,cAAA,QACEirB,EAAE,iwBACFF,KAAK,gBAKf,C,cCLO,SAASG,GACZrW,GAEA,MAAO,CACHnN,KAAM,wCACNmN,uBAER,CAIO,SAASsW,KACZ,OAAOljB,MAAOC,EAA6BC,KACvC,IACI,MAAMC,QAAYyY,MAAM,GAAD1e,OAChB0C,mIAAYC,sBAAqB,yBAElCoc,QAAa9Y,EAAI8Y,OAInBhZ,EAASgjB,GAFThK,EAEkCA,EAAK5Y,KAAKuC,QAAQsW,KAAKiK,MAAM,EAAG,GAEhC,IAE1C,CAAE,MAAO3a,GACL5H,QAAQC,IAAI2H,EAEhB,EAER,C,kCCjBO,SAAS4a,GAAmB3Y,GAC/B,MAAO,CACHhL,KAAM,sCACNgL,iBAER,CAEO,SAAS4Y,GAAmB3Y,GAC/B,MAAO,CACHjL,KAAM,wCACNiL,iBAER,CAiCO,SAAS4Y,KACZ,OAAOtjB,MAAOC,EAA6BC,KACvC,IACI,MAAMC,QAAYyY,MAAM,GAAD1e,OAChB0C,mIAAYC,sBAAqB,qBAGlCoc,QAAa9Y,EAAI8Y,OAGnBhZ,EAASojB,GADTpK,EAC4BA,EAAK5Y,KAAKuC,QAAQsW,KAElB,IAEpC,CAAE,MAAO1Q,GACL5H,QAAQC,IAAI2H,EAChB,EAER,CC9DO,SAAS+a,GAAe5sB,GAI3B,MAAMiS,EAAS5N,YAAaC,IAAsB,IAAD+U,EAI3CC,EAHF,GACoC,kBAAzBhV,EAAMqR,UAAU5I,MACH,QADoBsM,EACxC/U,EAAMqR,UAAU5I,YAAI,IAAAsM,GAApBA,EAAsB3U,GAEtB,OAA2B,QAA3B4U,EAAOhV,EAAMqR,UAAU5I,YAAI,IAAAuM,OAAA,EAApBA,EAAsB5U,KAI/BmoB,EAAkBxoB,YAAaC,IAAsB,IAADwe,EACtD,GACoC,kBAAzBxe,EAAMqR,UAAU5I,MACH,QADoB+V,EACxCxe,EAAMqR,UAAU5I,YAAI,IAAA+V,GAApBA,EAAsBpe,GAEtB,OAAOJ,EAAMiS,iBAIfuW,EAAmBzoB,YACpBC,GAAqBA,EAAMgS,UAAUpE,aAGpC5I,EAAWiD,eAEX,WAAEwgB,GAAe/sB,GAChBgtB,EAAcC,GAAmBrrB,mBAAS,IAcjD,OAZAY,oBAAU,KACN8G,EAASmO,GAAqBsV,EAAWG,UAEzC5jB,EAASqjB,OACV,CAACrjB,IAEJ9G,oBAAU,KAENyqB,EAAgBD,EAAazpB,OAAOwpB,KAErC,IAEEA,EAKD3rB,cAAA,OAAA2B,SAC6B,IAAxBiqB,EAAa3pB,QACVH,wBAACiqB,KAAK5rB,wBAAA,CACFsE,UAAW,0BACP7F,GAAK,IACT2N,KAAK,KACL,kBAAgB,gCAChByf,UAAQ,EACR5pB,IAAMwpB,EAAa,GAAWK,YAG9BjsB,cAAC+rB,KAAM5J,OAAM,CAAC1d,UAAW,sBAAuBynB,aAAW,EAAAvqB,SACvD3B,cAAC+rB,KAAMI,MAAK,CAAC7oB,GAAG,oCAKpB1B,eAACmqB,KAAMK,KAAI,CAAC3nB,UAAW,oBAAoB9C,SAAA,CAGvC3B,cAACE,KAAK,CACFuE,UAAW,sBACX0C,IAAG,GAAAhF,OACEypB,EAAa,GAAWtc,YAAYxM,OACjC,6BACA,EACE+B,mIAAYC,sBACZ,IACC8mB,EAAa,GAAWtc,YACxBsc,EAAa,GAAWtc,aAEnC+c,eAAa,IAEjBrsB,cAACgkB,KAAS,CAAAriB,SACNC,eAAC0qB,KAAG,CAAA3qB,SAAA,CAEA3B,cAACusB,KAAG,CAACC,GAAI,EAAGC,GAAI,IAChBzsB,cAAA,MAAIyE,UAAW,wBAAwB9C,SACjCiqB,EAAa,GAAWrtB,WAI9ByB,cAACusB,KAAG,CAACC,GAAI,GAAIC,GAAI,IACjB7qB,eAAA,OAAK6C,UAAW,2BAA2B9C,SAAA,CAAC,aAEvC+pB,EAAiB,GAAGrmB,YACfqmB,EAAiB,GAAGrmB,YACpB,+DAAa,wBAMnCzD,eAACmqB,KAAMhI,OAAM,CAACtf,UAAW,sBAAsB9C,SAAA,CAC3CC,eAAA,OAAK6C,UAAW,sBAAsB9C,SAAA,CAClC3B,cAAA,QAAMyE,UAAW,gBAAgB9C,SAC5B8pB,EACKA,EAAgBhjB,SAASxG,OACzB,IAKVjC,cAAA,QAAMyE,UAAW,iBAAiB9C,SAAC,oBAEvCC,eAAA,OAAK6C,UAAW,qBAAqB9C,SAAA,CACjC3B,cAAA,QAAMyE,UAAW,gBAAgB9C,SAC5B8pB,EACKA,EAAgB9a,WAAW1O,OAC3B,IAKVjC,cAAA,QAAMyE,UAAW,iBAAiB9C,SAAC,gCAEvC3B,cAAA,OAAKyE,UAAW,0BAA0B9C,SAKpCiqB,EAAa,GAAWE,UAAYjb,EAClC7Q,cAAA,OACIyE,UAAW,yBACX1C,QAASA,KACLmG,EACI0B,aAAK,iCAEXjI,SAEF3B,cAAA,QAAMyE,UAAW,eAAe9C,SAAC,+BAKrC3B,cAACsX,GAAe,CACZS,SAAW6T,EAAa,GAAWE,QACnCjb,OAAQA,YArG7B7Q,cAAA,SA8Gf,CCpKA,MAAMsY,GAAa,CACfoU,QAAS,CACLC,WAAY,CAAEnC,IAAK,IAAMva,IAAK,MAC9BnJ,MAAO,EACP8lB,cAAe,GAEnBC,OAAQ,CACJF,WAAY,CAAEnC,IAAK,KAAMva,IAAK,KAC9BnJ,MAAO,EACP8lB,cAAe,GAEnBE,OAAQ,CACJH,WAAY,CAAEnC,IAAK,IAAKva,IAAK,GAC7BnJ,MAAO,EACP8lB,cAAe,IAIhB,SAASG,KACZ,MAAM7kB,EAAWiD,cACX6hB,EAAgB/pB,YAAaC,GAC/Bmf,OAAOC,OAAOpf,EAAM2R,qBAAqB5B,sBAEvCjL,EAAQgC,aAAaC,QAAQ,SAEnC7I,oBAAU,KACN8G,EAASijB,OACV,CAACjjB,IAwBJ,MAAO+kB,EAAWC,GAAgB1sB,oBAAU,GAE5C,OACIR,cAAA,OAAA2B,SACIC,eAACoiB,KAAS,CAAAriB,SAAA,CACN3B,cAAA,MAAIyE,UAAU,mBAAkB9C,SAAC,uBACjC3B,cAAC6qB,GAAS,IACgB,IAAzBmC,EAAc/qB,QACXjC,cAAA,OAAKyE,UAAU,mBAAkB9C,SAAC,yCAEtC3B,cAAC4G,KAAQ,CACLumB,oBAAqB,EACrBC,QAAQ,EACRC,UAAQ,EACRC,cAAe,IACfC,YAAY,EACZ9oB,UAAU,GACV+oB,eAAe,sBACfC,aAAa,GACbC,WAAS,EACTC,eAAe,EACfC,UAAQ,EACRC,UAAU,GACVC,iBAAe,EACfC,iBAAkB,GAClBC,0BAA0B,EAC1BC,mBAAmB,EACnB3V,WAAYA,GACZ4V,UAAU,EACVC,YAAY,GACZvB,cAAe,EACfwB,WAAS,EAAAzsB,SAERqrB,EAAchmB,IAAKqnB,GAChBzsB,eAAC0sB,KAAI,CAAC7pB,UAAU,eAAc9C,SAAA,CAC1B3B,cAACE,KAAK,CACFuE,UAAU,YACV0C,IAAG,GAAAhF,OAAK0C,mIAAYC,sBAAqB,KAAA3C,OAAIksB,EAAaxvB,OAC1DkD,QAASA,KACLmG,EACI0B,aAAK,uBAADzH,OACuBksB,EAAa/d,eAIhDie,OAAK,IAET3sB,eAAC0sB,KAAKlC,KAAI,CAAAzqB,SAAA,CACN3B,cAACsuB,KAAKnC,MAAK,CACP1nB,UAAU,qBACV1C,QAASA,KACLmG,EACI0B,aAAK,uBAADzH,OACuBksB,EAAa/d,eAG9C3O,SAED0sB,EAAa9lB,QAElB3G,eAAC0sB,KAAKE,KAAI,CAAA7sB,SAAA,CAAC,4BACD,IACNC,eAAA,QAAM6C,UAAU,eAAc9C,SAAA,CAAC,OACtB0sB,EAAaI,oBAG1BzuB,cAACsuB,KAAKE,KAAI,CAAA7sB,SACNC,eAAA,QAEIG,QAASA,MA3F7CkG,eAA8B6hB,GAC1B,GAAa,MAAT9hB,EAGA,IAAK,IAAIqmB,KAAgBrB,EACjBqB,EAAa/qB,KAAOwmB,UAId5hB,EACFmP,GACI,CAACgX,EAAapC,WACd,cAGR/jB,EAASmO,GAAqBgY,EAAapC,YAC3CiB,EAAamB,EAAapC,WAI1C,CAwEwCyC,CAAeL,EAAa/qB,KAKhCmB,UAAW,cAAc9C,SAAA,CAEzB3B,cAAA,QAAA2B,SAAM,WACNC,eAAA,QAAM6C,UAAW,gBAAgB9C,SAAA,CAAC,OACvB0sB,EAAa9vB,SAAS,UAE1B,iBAbF8vB,EAAa/qB,MAiBzB2pB,IAAcoB,EAAa/qB,IACxBtD,cAACwrB,GAAc,CACXmD,KAAMN,EAAa/qB,GACnBqoB,WAAY0C,EACZ/qB,GAAI+qB,EAAa/qB,GACjBsrB,OAAQA,IAAM1B,GAAc,KAIpCtrB,eAAA,OAAK6C,UAAU,kDAAiD9C,SAAA,CAC5D3B,cAAC2b,KAAM,CACHsI,QAAQ,iBACRxf,UAAU,aACV1C,QAASA,KACLmG,EACI0B,aAAK,uBAADzH,OACuBksB,EAAa/d,eAG9C3O,SAiDG,6BAIT3B,cAAC6uB,KAAS,CACNvmB,KAAM,CACFwT,KAAM,GACNmE,IAAI,GAAD9d,OAAK0C,mIAAYwL,uBAAsB,wBAAAlO,OAAuBksB,EAAa/d,YAC9E/H,MAAO,6BACT5G,SAEF3B,cAACmkB,KAAe,CACZ1f,UAAU,aACV0b,KAAM2O,iBApIUT,EAAa/qB,WA+IzE,C,wBC9OA,MAAMyrB,GAAoB,CACtBrC,QAAS,CACLC,WAAY,CAAEnC,IAAK,IAAMva,IAAK,MAC9BnJ,MAAO,EACP8lB,cAAe,GAEnBC,OAAQ,CACJF,WAAY,CAAEnC,IAAK,KAAMva,IAAK,KAC9BnJ,MAAO,EACP8lB,cAAe,GAEnBE,OAAQ,CACJH,WAAY,CAAEnC,IAAK,IAAKva,IAAK,GAC7BnJ,MAAO,EACP8lB,cAAe,IAIhB,SAASoC,GAAepwB,GAC3B,MAAM4G,EAAWvC,YAAaC,GAC1Bmf,OAAOC,OAAOpf,EAAMoR,cAAc3B,iBAGhCzK,EAAWiD,cAEjB/J,oBAAU,KACN8G,EAASqjB,OACV,CAACrjB,IAEJ,MAAM,MAAE+mB,GAAUrwB,GACXswB,EAASC,GAAc3uB,mBAAS,IAOvC,OALAY,oBAAU,KAEN+tB,EAAWF,EAAMG,OAAQC,GAAcA,EAAK/rB,KAAO1E,EAAM0E,MAC1D,IAEE2rB,EAKDjvB,cAAA,OAAA2B,SACwB,IAAnButB,EAAQjtB,QACLH,wBAACiqB,KAAK5rB,wBAAA,GACEvB,GAAK,IACT2N,KAAK,KACL,kBAAgB,gCAChByf,UAAQ,EACR5pB,IAAM8sB,EAAQ,GAAW5rB,KAEzBtD,cAAC+rB,KAAM5J,OAAM,CACT1d,UAAW,yBACX9C,SAEA3B,cAAC+rB,KAAMI,MAAK,CAAC7oB,GAAG,gCAA+B3B,SAC3C3B,cAAA,OAAKyE,UAAW,6BAA6B9C,SACvCutB,EAAQ,GAAW3mB,YAIjCvI,cAAC+rB,KAAMK,KAAI,CAAC3nB,UAAW,gCAAgC9C,SACnD3B,cAACgkB,KAAS,CAAAriB,SACNC,eAAC0qB,KAAG,CAAC7nB,UAAW,uBAAuB9C,SAAA,CACnC3B,cAACusB,KAAG,CAACC,GAAI,GAAIC,GAAI,EAAE9qB,SACf3B,cAAC4G,KAAQ,CACLumB,oBAAqB,EACrBE,UAAU,EACVD,QAAM,EAENG,YAAY,EACZ9oB,UAAU,GACV+oB,eAAe,sBACfC,aAAa,GACbC,WAAS,EACTC,eAAe,EACfC,UAAQ,EACRC,UAAU,GACVC,iBAAe,EACfC,iBAAkB,GAClBC,0BAA0B,EAC1BC,mBAAmB,EACnB3V,WAAYyW,GACZb,UAAU,EACVC,YAAY,GACZvB,cAAe,EACfwB,WAAS,EAAAzsB,SAER6D,EAASwB,IACLC,GACGA,EAAQqoB,UACHJ,EAAQ,GAAW5rB,IACpB1B,eAAA,OACI6C,UAAU,4BAA2B9C,SAAA,CAGrC3B,cAACE,KAAK,CACFuE,UACI,wBAEJ0C,IAAG,GAAAhF,OAAK0C,mIAAYC,sBAAqB,KAAA3C,OAAI8E,EAAQsoB,eACrDhB,OAAK,IAETvuB,cAAA,OAAA2B,SAEIC,eAAA,OACI6C,UACI,+BACH9C,SAAA,CAGGsF,EAAQuoB,aAEZxvB,cAAA,QACIyE,UACI,cACH9C,SACJ,aAKTC,eAAA,OACI6C,UACI,mCACH9C,SAAA,CACJ,qBACO,IACJ3B,cAAA,QAAA2B,SACKsF,EAAQwoB,UACL,eApCPxoB,EAAQ3D,SAgDrCtD,cAACusB,KAAG,CAACC,GAAI,GAAIC,GAAI,EAAE9qB,SACf3B,cAAA,OAAKyE,UAAU,0BAAyB9C,SACpCC,eAAA,OAAK6C,UAAU,yBAAwB9C,SAAA,CACnCC,eAAA,OACI6C,UACI,wBACH9C,SAAA,CAED3B,cAAA,OAAA2B,SAAK,oCACL3B,cAAA,QAAA2B,SACK+tB,KACIR,EAAQ,GACJxa,eACPib,OACE,8BAIZ/tB,eAAA,OAAK6C,UAAU,+BAA8B9C,SAAA,CACzC3B,cAAA,OAAA2B,SAAK,oCACL3B,cAAA,QACIyE,UACI,uCACH9C,SAGIutB,EAAQ,GACJ7pB,iBAKjBzD,eAAA,OAAK6C,UAAU,yBAAwB9C,SAAA,CACnC3B,cAAA,OAAA2B,SAAK,+CACL3B,cAAA,QAAA2B,SAEQ6D,EAAS4pB,OACJnoB,GACGA,EAAQqoB,UAEJJ,EAAQ,GACV5rB,IACRrB,0BAUtCjC,cAAC+rB,KAAMhI,OAAM,CAACtf,UAAW,0BAA0B9C,SAC/C3B,cAAC2b,KAAM,CACHlX,UAAW,eACX1C,QAASnD,EAAMgwB,OAAOjtB,SACzB,sBAhKV3B,cAAA,SAwKf,C,OCrMA,MAAMsY,GAAa,CACfoU,QAAS,CACLC,WAAY,CAAEnC,IAAK,IAAMva,IAAK,MAC9BnJ,MAAO,EACP8lB,cAAe,GAEnBC,OAAQ,CACJF,WAAY,CAAEnC,IAAK,KAAMva,IAAK,KAC9BnJ,MAAO,EACP8lB,cAAe,GAEnBE,OAAQ,CACJH,WAAY,CAAEnC,IAAK,IAAKva,IAAK,GAC7BnJ,MAAO,EACP8lB,cAAe,IAUhB,SAASgD,GAAchxB,GAC1B,MAAMixB,EAAW5sB,YAAaC,GAC1Bmf,OAAOC,OAAOpf,EAAMoR,cAAc5B,iBAEhC1K,EAAQgC,aAAaC,QAAQ,SAE7B/B,EAAWiD,cAEjB/J,oBAAU,KJJP,IACHuJ,EACAsM,EIG4B,IAApBrY,EAAMwY,WACNlP,GJLRyC,EIKmC/L,EAAM+L,aJJzCsM,EIIuDrY,EAAMqY,aJFtDhP,MAAOC,EAA6BC,KACvC,IACI,MAAMC,QAAYyY,MAAM,GAAD1e,OAChB0C,mIAAYC,sBAAqB,mBAGlCoc,QAAa9Y,EAAI8Y,OAGnBhZ,EAASmjB,GADTnK,EAC4BA,EAAK5Y,KAAKuC,QAAQsW,KAElB,KAEhCve,OAAOiB,WAAW,KACd8G,GAAa,GACbsM,EAAcG,GAAcA,EAAY,IACzC,IACP,CAAE,MAAO3G,GACL5H,QAAQC,IAAI2H,EAChB,MIfD,CAACvI,EAAUtJ,IAEd,MAAOkxB,EAAeC,GAAoBvvB,oBAAU,IAC7CysB,EAAWC,GAAgB1sB,oBAAU,GAE5CY,oBAAU,KACN8G,EAASijB,OACV,CAACjjB,IAqBJ,MAAO6hB,EAAKiG,GAAUxvB,oBAAiB,IAAIkJ,MAAO2E,aAC3C1K,EAAS0U,GAAc7X,mBAAiB,GAc/C,OAbAY,oBAAU,KACNiX,EACIzV,OAAOgB,YAAY,KACfosB,GAAO,IAAItmB,MAAO2E,aACnB,MAER,IACHjN,oBAAU,IACC,KACHoD,cAAcb,IAEnB,CAACA,IAGA3D,cAAA,OAAA2B,SACIC,eAACoiB,KAAS,CAAAriB,SAAA,CACN3B,cAAA,MAAIyE,UAAU,mBAAkB9C,SAAC,6BACjC3B,cAAC6qB,GAAS,IACV7qB,cAAC4G,KAAQ,CACLumB,oBAAqB,EACrBE,UAAQ,EACRD,QAAQ,EACRE,cAAe,IACfC,YAAY,EACZ9oB,UAAU,GACV+oB,eAAe,sBACfC,aAAa,GACbC,WAAS,EACTC,eAAe,EACfC,UAAQ,EACRC,UAAU,GACVC,iBAAe,EACfC,iBAAkB,GAClBC,0BAA0B,EAC1BC,mBAAmB,EACnB3V,WAAYA,GACZ4V,UAAU,EACVC,YAAY,GACZvB,cAAe,EACfwB,WAAS,EAAAzsB,SAERkuB,EAAS7oB,IAAKipB,GACXruB,eAAC0sB,KAAI,CAAkB7pB,UAAU,eAAc9C,SAAA,CAC3C3B,cAACE,KAAK,CACFuE,UAAU,YACV0C,IAAG,GAAAhF,OAAK0C,mIAAYC,sBAAqB,KAAA3C,OAAI8tB,EAAQpxB,OACrD0vB,OAAK,IAET3sB,eAAC0sB,KAAKlC,KAAI,CAAAzqB,SAAA,CACL+H,KAAKC,MAAMsmB,EAAQvb,cAAcrG,YAC9B3E,KAAKC,MAAMogB,GACf,EACInoB,eAAA,OAAK6C,UAAU,UAAS9C,SAAA,CACpBC,eAAA,OAAK6C,UAAU,iBAAgB9C,SAAA,CAC3B3B,cAAA,OAAKyE,UAAU,aAAY9C,SACtB9B,KAAKC,OACD4J,KAAKC,MACFsmB,EAAQvb,cAAcrG,YAEtB3E,KAAKC,MAAMogB,IAAI,SAI3B/pB,cAAA,OAAKyE,UAAU,aAAY9C,SAAC,cAEhCC,eAAA,OAAK6C,UAAU,iBAAgB9C,SAAA,CAC3B3B,cAAA,OAAKyE,UAAU,aAAY9C,UAEnB,KAEI9B,KAAKC,OACA4J,KAAKC,MACFsmB,EAAQvb,cAAcrG,YAEtB3E,KAAKC,MACDogB,IACH,MAEL,IACN1b,YACJ+c,OAAO,KAEbprB,cAAA,OAAKyE,UAAU,aAAY9C,SAAC,cAEhCC,eAAA,OAAK6C,UAAU,iBAAgB9C,SAAA,CAC3B3B,cAAA,OAAKyE,UAAU,aAAY9C,UAEnB,KAEI9B,KAAKC,OACA4J,KAAKC,MACFsmB,EAAQvb,cAAcrG,YAEtB3E,KAAKC,MACDogB,IACH,KAEL,IACN1b,YACJ+c,OAAO,KAEbprB,cAAA,OAAKyE,UAAU,aAAY9C,SAAC,cAEhCC,eAAA,OAAK6C,UAAU,iBAAgB9C,SAAA,CAC3B3B,cAAA,OAAKyE,UAAU,aAAY9C,UAEnB,KAEI9B,KAAKC,OACA4J,KAAKC,MACFsmB,EAAQvb,cAAcrG,YAEtB3E,KAAKC,MACDogB,IAEJ,KACJ,IACN1b,YACJ+c,OAAO,KAEbprB,cAAA,OAAKyE,UAAU,aAAY9C,SAAC,iBAIpC3B,cAAA,OAAKyE,UAAU,2DAA0D9C,SACrE3B,cAAA,QAAA2B,SAAM,8CAGd3B,cAACsuB,KAAKnC,MAAK,CAAC1nB,UAAU,qBAAoB9C,SACrCsuB,EAAQ1nB,QAEbvI,cAACsuB,KAAKE,KAAI,CAAA7sB,SACNC,eAAA,QAEIG,QAASA,MA3J7CkG,eAA8B6hB,GAE1B,GAAa,MAAT9hB,EAGA,IAAK,IAAIioB,KAAWJ,EACZI,EAAQ3sB,KAAOwmB,UAIT5hB,EACFmP,GAAyB,CAAC4Y,EAAQnE,SAAU,cAEhD5jB,EAASmO,GAAqB4Z,EAAQnE,UACtCiE,EAAiBE,EAAQnE,SAIzC,CA0IwC4C,CAAeuB,EAAQ3sB,KAK3BmB,UAAW,cAAc9C,SAAA,CAEzB3B,cAAA,QAAA2B,SAAM,WACNC,eAAA,QAAM6C,UAAW,gBAAgB9C,SAAA,CAAC,OACvBsuB,EAAQ1xB,SAAS,UAErB,iBAbF0xB,EAAQ3sB,MAiBpBwsB,IAAkBG,EAAQnE,SACvB9rB,cAACwrB,GAAc,CACXmD,KAAMsB,EAAQnE,QACdH,WAAYsE,EACZ3sB,GAAI2sB,EAAQnE,QACZ8C,OAAQA,IAAMmB,GAAkB,KAGxCnuB,eAAA,OAAK6C,UAAU,kDAAiD9C,SAAA,CAC5D3B,cAAC2b,KAAM,CAEHsI,QAAQ,eACRxf,UAAU,aACV1C,QAASA,IAAMmrB,EAAa+C,EAAQ3sB,IAAI3B,SAC3C,4BAJQsuB,EAAQ3sB,IAQhB2pB,IAAcgD,EAAQ3sB,IACnBtD,cAACgvB,GAAc,CACXL,KAAMsB,EAAQ3sB,GACd2rB,MAAOY,EACPvsB,GAAI2sB,EAAQ3sB,GACZsrB,OAAQA,IAAM1B,GAAc,aAnIrC+C,EAAQ3sB,WAkK3C,CC/Re,WAA0B,6CCA1B,OAA0B,4CCA1B,OAA0B,2CCA1B,OAA0B,8CCYlC,SAAS4sB,KACZ,MAAMhoB,EAAWiD,cACXoH,EAAatP,YAAaC,GAC5Bmf,OAAOC,OAAOpf,EAAMsC,SAAS+M,aAEjC,OACIvS,cAAA,OAAA2B,SACIC,eAACoiB,KAAS,CAAAriB,SAAA,CACN3B,cAAA,MAAA2B,SAAI,6BACJ3B,cAAC6qB,GAAS,IACVjpB,eAAC0qB,KAAG,CAAA3qB,SAAA,CACAC,eAAC2qB,KAAG,CAAC4D,GAAI,EAAG1rB,UAAU,wBAAuB9C,SAAA,CACzC3B,cAAA,OAAKyE,UAAU,2BAA0B9C,SACrCC,eAAC0sB,KAAI,CAAC7pB,UAAU,0CAAyC9C,SAAA,CACrD3B,cAACsuB,KAAK8B,IAAG,CAACjpB,IAAKkpB,GAAOhpB,IAAI,eAC1BzF,eAAC0sB,KAAKgC,WAAU,CAAC7rB,UAAU,iBAAgB9C,SAAA,CACvC3B,cAACsuB,KAAKnC,MAAK,CAAAxqB,SAAC,qDACZ3B,cAACsuB,KAAKE,KAAI,CAAA7sB,SAAC,qDACX3B,cAACkZ,QAAI,CACDtZ,GAAE,4EACFmC,QAASA,KACLmG,EACI0Y,GACIrO,EACK6c,OACIlf,GAEG,qDADAA,EAAKwD,UAGZ1M,IACIkJ,GAASA,EAAK5M,IACjB,MAGhB3B,SAEF3B,cAACsuB,KAAKE,KAAI,CAAC/pB,UAAU,YAAW9C,SAAC,uCAOjD3B,cAAA,OAAKyE,UAAU,4BAA2B9C,SACtCC,eAAC0sB,KAAI,CAAC7pB,UAAU,0CAAyC9C,SAAA,CACrD3B,cAACsuB,KAAK8B,IAAG,CAACjpB,IAAKopB,GAAKlpB,IAAI,eACxBzF,eAAC0sB,KAAKgC,WAAU,CAAC7rB,UAAU,iBAAgB9C,SAAA,CACvC3B,cAACsuB,KAAKnC,MAAK,CAAAxqB,SAAC,qDACZ3B,cAACsuB,KAAKE,KAAI,CAAA7sB,SAAC,qDACX3B,cAACkZ,QAAI,CACDtZ,GAAE,4EACFmC,QAASA,KACLmG,EACI0Y,GACIrO,EACK6c,OACIlf,GAEG,qDADAA,EAAKwD,UAGZ1M,IACIkJ,GAASA,EAAK5M,IACjB,MAGhB3B,SAEF3B,cAACsuB,KAAKE,KAAI,CAAC/pB,UAAU,YAAW9C,SAAC,0CAQrDC,eAAC2qB,KAAG,CAAC4D,GAAI,EAAG1rB,UAAU,wBAAuB9C,SAAA,CACzC3B,cAAA,OAAKyE,UAAU,2BAA0B9C,SACrCC,eAAC0sB,KAAI,CAAC7pB,UAAU,0CAAyC9C,SAAA,CACrD3B,cAACsuB,KAAK8B,IAAG,CAACjpB,IAAKqpB,GAAQnpB,IAAI,eAC3BzF,eAAC0sB,KAAKgC,WAAU,CAAC7rB,UAAU,iBAAgB9C,SAAA,CACvC3B,cAACsuB,KAAKnC,MAAK,CAAAxqB,SAAC,qDACZ3B,cAACsuB,KAAKE,KAAI,CAAA7sB,SAAC,2DACX3B,cAACkZ,QAAI,CACDtZ,GAAE,4EACFmC,QAASA,KACLmG,EACI0Y,GACIrO,EACK6c,OACIlf,GAEG,qDADAA,EAAKwD,UAGZ1M,IACIkJ,GAASA,EAAK5M,IACjB,MAGhB3B,SAEF3B,cAACsuB,KAAKE,KAAI,CAAC/pB,UAAU,YAAW9C,SAAC,uCAOjD3B,cAAA,OAAKyE,UAAU,4BAA2B9C,SACtCC,eAAC0sB,KAAI,CAAC7pB,UAAU,0CAAyC9C,SAAA,CACrD3B,cAACsuB,KAAK8B,IAAG,CAACjpB,IAAKspB,GAAMppB,IAAI,eACzBzF,eAAC0sB,KAAKgC,WAAU,CAAC7rB,UAAU,iBAAgB9C,SAAA,CACvC3B,cAACsuB,KAAKnC,MAAK,CAAAxqB,SAAC,qDACZ3B,cAACsuB,KAAKE,KAAI,CAAA7sB,SAAC,uEAGX3B,cAACkZ,QAAI,CACDtZ,GAAE,4EACFmC,QAASA,KACLmG,EACI0Y,GACIrO,EACK6c,OACIlf,GAEG,qDADAA,EAAKwD,UAGZ1M,IACIkJ,GAASA,EAAK5M,IACjB,MAGhB3B,SAEF3B,cAACsuB,KAAKE,KAAI,CAAC/pB,UAAU,YAAW9C,SAAC,iDAYzE,CCxJO,SAAS+uB,KACZ,MAAM5W,EAAc7W,YAAaC,IAAsB,IAAD+U,EAIhDC,EAHF,MACoC,kBAAzBhV,EAAMqR,UAAU5I,MACH,QADoBsM,EACxC/U,EAAMqR,UAAU5I,YAAI,IAAAsM,GAApBA,EAAsBlG,aAEK,QAA3BmG,EAAOhV,EAAMqR,UAAU5I,YAAI,IAAAuM,OAAA,EAApBA,EAAsBnG,aAE1B,KAEX,OACI/R,cAAA,OAAA2B,SACIC,eAAA,OAAK6C,UAAU,oBAAmB9C,SAAA,CAC9BC,eAAA,OAAK6C,UAAU,6BAA4B9C,SAAA,CACvC3B,cAAA,MAAIyE,UAAU,mBAAkB9C,SAAC,8BACjC3B,cAAA,KAAA2B,SAAG,qGACH3B,cAAA,KAAA2B,SAAG,iEACH3B,cAACkZ,QAAI,CACDtZ,GACoB,KAAhBka,GAAsC,aAAhBA,EAChB,8BACA,cAEVrV,UAAU,WAAU9C,SAEpB3B,cAAC2b,KAAM,CAACsI,QAAQ,eAAexf,UAAU,aAAY9C,SAAC,kCAK9D3B,cAAA,OAAA2B,SACI3B,cAACE,KAAK,CACFiH,IAAI,2SACJonB,OAAK,EACL9pB,UAAU,uBAMlC,CC7Ce,WAA0B,sCCA1B,OAA0B,kC,mBCmFlC,SAASksB,KAId,MAAOC,GAAS9xB,IAAS+xB,KAClBzD,GAAUtuB,IAASgyB,IAM1B,MAAMC,EAAc,GAAK,GAMlBxkB,EAAMC,GAAWwkB,IAAMxwB,SAAS,CACrCnB,MAA2B,GAApBuD,OAAOgL,WAEdrO,OAA6B,GAApBqD,OAAOgL,WAAoBmjB,IAEtCC,IAAM5vB,UAAU,KACd,MAAM6vB,EAAYA,KAEdzkB,EAAQ,CACNnN,MAA2B,GAApBuD,OAAOgL,WACdrO,OAA6B,GAApBqD,OAAOgL,WAAoBmjB,KAM1C,OADAnuB,OAAOwK,iBAAiB,SAAU6jB,GAC3B,IAAMruB,OAAO8K,oBAAoB,SAAUujB,IACjD,IAEH,MAAMC,EAAQ3kB,EAAKlN,MA3BI,IAoCvB,IAAI8xB,EAAa5kB,EAAKlN,MAAM,IACxB+xB,EAAc7kB,EAAKhN,OAAO,IAC9B,MAAMgJ,EAAQtJ,YAAU,CACtBb,OAAO,CACLc,SAAU,KACVmyB,OAAOC,MAETnyB,KAAM,CACFC,EAAImN,EAAKlN,MAAM8xB,EAAW,IAC1B7xB,EAAIiN,EAAKhN,OAAO6xB,EAAY,IAC5BG,WAAY,EACZ/xB,SAAS,EAGTC,QAAQ,EACR+xB,cAAe,EACfC,aAAc,CAAEryB,EAAG,EAAGE,EAAG,IAE7BM,GAAI,CACAR,EAAImN,EAAKlN,MAAM8xB,EAAW,IAC1B7xB,EAAIiN,EAAKhN,OAAO6xB,EAAY,GAC5BG,WAAW,GACXC,cAAe,GACf/xB,QAAQ,MAUPiyB,EAAYC,GAAkB1yB,YAAU,KAAI,CACjDb,OAAO,CACLc,SAAU,KACVmyB,OAAOC,MAET1xB,GAAIqI,MAAO2pB,EAAMC,WACTD,EAAK,CACTxyB,EAAImN,EAAKlN,MAAM8xB,EAAW,IAC1B7xB,EAAIiN,EAAKhN,OAAO6xB,EAAY,IAC5B3xB,QAAQ,GACRC,OAAO,IACPC,OAAO,OAIXR,KAAM,CACFC,EAAImN,EAAKlN,MAAM8xB,EAAW,IAC1B7xB,EAAIiN,EAAKhN,OAAO6xB,EAAY,IAC5B3xB,QAAQ,EACRC,OAAO,IACPC,OAAO,SAINmyB,EAAiBC,GAAsB9yB,YAAU,MACtDb,OAAO,CACLc,SAAU,KAIZC,KAAM,CACJC,EAAImN,EAAKlN,MAAM8xB,EAAW,IAC1B7xB,EAAKiN,EAAKhN,OAAO6xB,EAAY,IAC7B5xB,SAAS,EACTE,OAAO,IACLC,OAAO,IACNF,QAAS,OAGd2B,oBAAU,KACR,MAAM4wB,EAAQnuB,WAAW,KACvBkuB,EAAmB,CACjB3yB,EAAImN,EAAKlN,MAAM8xB,EAAW,IAC1B7xB,EAAKiN,EAAKhN,OAAO6xB,EAAY,IAC7B5xB,SAAS,IACTE,OAAO,IACTC,OAAO,IACLsyB,MAAM,IAERC,EAAuBJ,IAEtB,MACH,MAAO,IAAMK,aAAaH,IACzB,IAEL,MAAOI,EAAqBF,GAAwB1xB,mBAASkxB,GAMvDW,EAAgBpzB,YAAU,CAC9Bb,OAAO,CACLc,SAAS,MAEXC,KAAK,CACHM,QAAS,GAEXG,GAAG,CACDH,QAAQ,KAON6yB,EAAiBrzB,YAAU,CAC/BszB,MAAM,IACNn0B,OAAO,CACLc,SAAS,KAEXC,KAAK,CACHM,QAAS,EACTL,EAAImN,EAAKlN,MAAM8xB,EAAW,EAC1B7xB,EAAKiN,EAAKhN,OAAO6xB,EAAY,EAC7B5xB,SAAS,KAEXI,GAAG,CACDH,QAAQ,GACRL,EAAImN,EAAKlN,MAAM8xB,EAAW,GAC1B7xB,EAAKiN,EAAKhN,OAAO6xB,EAAa,EAC9B5xB,SAAS,MAINgzB,EAAWC,GAAYxzB,YAAU,MACtCb,OAAO,CACLc,SAAU,KAIZC,KAAM,CACJM,QAAQ,GACRL,EAAImN,EAAKlN,MAAM8xB,EAAW,GAC1B7xB,EAAKiN,EAAKhN,OAAO6xB,EAAa,EAC9B5xB,SAAS,MAGb4B,oBAAU,KACR,MAAM4wB,EAAQnuB,WAAW,KACvB4uB,EAAS,CACPhzB,QAAQ,GACVL,EAAImN,EAAKlN,MAAM8xB,EAAW,GAC1B7xB,EAAKiN,EAAKhN,OAAO6xB,EAAa,EAC9B5xB,UAAU,IACRyyB,KAAM,CAAES,SAAS,KAEnBC,EAAkBH,IAEjB,MACH,MAAO,IAAML,aAAaH,IACzB,IAEL,MAAOY,EAAgBD,GAAmBnyB,mBAAS8xB,IAO1CO,EAAYC,GAAkB7zB,YAAU,KAAI,CACjDb,OAAO,CACLc,SAAU,KACVmyB,OAAOC,MAGT1xB,GAAIqI,MAAO2pB,EAAMC,WACTD,EAAK,CACTxyB,EAAImN,EAAKlN,MAAM8xB,EAAW,IAC5B7xB,EAAKiN,EAAKhN,OAAO6xB,EAAY,IAC3BG,WAAW,GACX7xB,OAAO,GACPC,OAAO,GACPF,QAAQ,KAKZN,KAAM,CACJC,EAAImN,EAAKlN,MAAM8xB,EAAW,IAC1B7xB,EAAKiN,EAAKhN,OAAO6xB,EAAY,EAC3BG,WAAY,EACZ7xB,OAAO,GACPC,OAAO,GACPF,QAAQ,EACR+xB,cAAe,QAIdS,EAAMc,GAAW9zB,YAAU,MAChCb,OAAO,CACLc,SAAU,KACVmyB,OAAOC,MAGTnyB,KAAM,CACJC,EAAImN,EAAKlN,MAAM8xB,EAAW,IAC1B7xB,EAAKiN,EAAKhN,OAAO6xB,EAAY,IAC7B1xB,OAAO,GACLC,OAAO,GACP4xB,WAAW,GACXC,cAAe,GACd/xB,QAAS,MAEd2B,oBAAU,KACR,MAAM4wB,EAAQnuB,WAAW,KACvBkvB,EAAQ,CACN3zB,EAAImN,EAAKlN,MAAM8xB,EAAW,IAC9B7xB,EAAKiN,EAAKhN,OAAO6xB,EAAY,IAAK,EAC9B3xB,QAAS,EACTC,OAAO,GACTC,OAAO,GACP4xB,WAAW,GACTU,KAAM,CAAES,SAAS,KAEnBM,EAAaf,IAEZ,MACH,MAAO,IAAME,aAAaH,IACzB,IAEL,MAAOiB,EAAWD,GAAcxyB,mBAASqyB,IAQlCK,EAAOC,GAAal0B,YAAU,KAAI,CACvCszB,MAAM,KACNn0B,OAAO,CACLc,SAAU,KACVmyB,OAAOC,MAGT1xB,GAAIqI,MAAO2pB,EAAMC,WACTD,EAAK,CACTxyB,EAAImN,EAAKlN,MAAM8xB,EAAW,EAC5B7xB,EAAKiN,EAAKhN,OAAO6xB,EAAY,IAAK,EAChCG,WAAW,GACX7xB,OAAO,KACPC,OAAO,KACPF,QAAQ,EACRD,UAAU,OAKdL,KAAM,CACJC,EAAImN,EAAKlN,MAAM8xB,EAAW,IAC1B7xB,EAAKiN,EAAKhN,OAAO6xB,EAAY,IAC3BG,WAAY,EACZ7xB,OAAO,KACPC,OAAO,KACPF,QAAQ,EACR+xB,cAAe,GACfhyB,SAAS,SAKR4zB,EAAWC,GAAgBp0B,YAAU,MAC1Cb,OAAO,CACLc,SAAU,IACVmyB,OAAOC,MAGTnyB,KAAM,CACJC,EAAImN,EAAKlN,MAAM8xB,EAAW,EAC1B7xB,EAAKiN,EAAKhN,OAAO6xB,EAAY,IAAK,EAClC1xB,OAAO,KACPC,OAAO,KACP4xB,WAAW,GACXC,cAAe,GACfhyB,UAAU,IACVC,QAAS,MAGX2B,oBAAU,KACR,MAAM4wB,EAAQnuB,WAAW,KACvBwvB,EAAa,CACXj0B,EAAImN,EAAKlN,MAAM8xB,EAAW,EAAE,GAC5B7xB,EAAKiN,EAAKhN,OAAO6xB,EAAY,IAC7B1xB,OAAO,KACPC,OAAO,KACP4xB,WAAW,GACX/xB,UAAU,IACVyyB,KAAM,CAAES,SAAS,GACjBjzB,QAAS,IAEX6zB,EAAkBF,IAEjB,MACH,MAAO,IAAMjB,aAAaH,IACzB,IAEL,MAAOuB,EAAgBD,GAAmB9yB,mBAAS0yB,IAY5CM,EAAWC,GAAkBx0B,YAAU,KAAI,CAChDszB,MAAM,IACNn0B,OAAO,CAACc,SAAU,IAAImyB,OAAOC,MAC7B1xB,GAAIqI,MAAO2pB,EAAMC,WACTD,EAAK,CACTxyB,EAAImN,EAAKlN,MAAM8xB,EAAW,IAC1B7xB,EAAIiN,EAAKhN,OAAO6xB,EAAY,IAE5B5xB,SAAS,IACTE,OAAO,GACPC,OAAO,GACPF,QAAQ,GACRJ,MAAO,GACPE,OAAS,MAGbJ,KAAM,CACJC,EAAImN,EAAKlN,MAAM8xB,EAAW,EACxB7xB,EAAIiN,EAAKhN,OAAO6xB,EAAY,EAC5BG,WAAY,EACZ/xB,SAAS,EACTE,OAAO,EACPC,OAAO,EACPF,QAAQ,OAIPi0B,EAAQC,GAAa10B,YAAU,MAEpCb,OAAO,CACLc,SAAU,KAIZC,KAAM,CACJC,EAAImN,EAAKlN,MAAM8xB,EAAW,IACxB7xB,EAAIiN,EAAKhN,OAAO6xB,EAAY,IAC9B5xB,SAAS,IACTE,OAAO,GACLC,OAAO,GACNF,QAAS,OAGd2B,oBAAU,KACR,MAAM4wB,EAAQnuB,WAAW,KACvB8vB,EAAU,CACRv0B,EAAImN,EAAKlN,MAAM8xB,EAAW,IAC5B7xB,EAAIiN,EAAKhN,OAAO6xB,EAAY,IAC1B1xB,OAAO,GACTC,OAAO,GACLH,SAAS,MAEXo0B,EAAeF,IAEd,MACH,MAAO,IAAMvB,aAAaH,IACzB,IACL,MAAO6B,EAAYD,GAAiBpzB,mBAASgzB,IAOtCM,EAAWC,GAAkB90B,YAAU,KAAI,CAChDszB,MAAM,IACNn0B,OAAO,CAACc,SAAU,IAAImyB,OAAOC,MAC7B1xB,GAAIqI,MAAO2pB,EAAMC,WACTD,EAAK,CACTxyB,EAAImN,EAAKlN,MAAM8xB,EAAW,EAC1B7xB,EAAIiN,EAAKhN,OAAO6xB,EAAY,IAE5B5xB,SAAS,IACTC,QAAQ,GACRsrB,KAAM,aAGV5rB,KAAM,CACJC,EAAImN,EAAKlN,MAAM8xB,EAAW,EACxB7xB,EAAIiN,EAAKhN,OAAO6xB,EAAY,IAC5BG,WAAY,EACZ/xB,SAAS,EACTC,QAAQ,EACRsrB,KAAM,qBAKLiJ,EAAQC,GAAah1B,YAAU,MACpCb,OAAO,CACLc,SAAU,KAIZC,KAAM,CACJC,EAAImN,EAAKlN,MAAM8xB,EAAW,EACxB7xB,EAAIiN,EAAKhN,OAAO6xB,EAAY,IAC9B5xB,SAAS,IACNC,QAAS,OAGd2B,oBAAU,KACR,MAAM4wB,EAAQnuB,WAAW,KACvBowB,EAAU,CACR70B,EAAImN,EAAKlN,MAAM8xB,EAAW,EAC5B7xB,EAAIiN,EAAKhN,OAAO6xB,EAAY,IAC1B5xB,SAAS,MAEX00B,EAAeF,IAEd,MACH,MAAO,IAAM7B,aAAaH,IACzB,IACL,MAAOmC,EAAYD,GAAiB1zB,mBAASszB,IAMtCM,EAAWC,GAAkBp1B,YAAU,KAAI,CAChDszB,MAAM,IACNn0B,OAAO,CAACc,SAAU,IAAImyB,OAAOC,MAC7B1xB,GAAIqI,MAAO2pB,EAAMC,WACTD,EAAK,CACTxyB,EAAImN,EAAKlN,MAAM8xB,EAAW,EAC1B7xB,EAAIiN,EAAKhN,OAAO6xB,EAAY,IAE5B5xB,SAAS,IACTC,QAAQ,GACRsrB,KAAM,aAGV5rB,KAAM,CACJC,EAAImN,EAAKlN,MAAM8xB,EAAW,EACxB7xB,EAAIiN,EAAKhN,OAAO6xB,EAAY,EAC5BG,WAAY,EACZ/xB,UAAU,IACVC,QAAQ,EACRsrB,KAAM,qBAKLuJ,GAAQC,IAAat1B,YAAU,MACpCb,OAAO,CACLc,SAAU,KAIZC,KAAM,CACJC,EAAImN,EAAKlN,MAAM8xB,EAAW,EACxB7xB,EAAIiN,EAAKhN,OAAO6xB,EAAY,IAC9B5xB,SAAS,IACNC,QAAS,OAGd2B,oBAAU,KACR,MAAM4wB,EAAQnuB,WAAW,KACvB0wB,GAAU,CACRn1B,EAAImN,EAAKlN,MAAM8xB,EAAW,EAC5B7xB,EAAIiN,EAAKhN,OAAO6xB,EAAY,IAC1B5xB,SAAS,MAEXg1B,GAAeF,KAEd,MACH,MAAO,IAAMnC,aAAaH,IACzB,IACL,MAAOyC,GAAYD,IAAiBh0B,mBAAS4zB,IAMtCM,GAAWC,IAAkB11B,YAAU,KAAI,CAChDszB,MAAM,IACNn0B,OAAO,CAACc,SAAU,IAAImyB,OAAOC,MAC7B1xB,GAAIqI,MAAO2pB,EAAMC,WACTD,EAAK,CACTxyB,EAAImN,EAAKlN,MAAM8xB,EAAW,IAC1B7xB,EAAIiN,EAAKhN,OAAO6xB,EAAY,IAE5B5xB,SAAS,IACTE,OAAO,GACPC,OAAO,GACPF,QAAQ,GACRJ,MAAO,GACPE,OAAS,MAGbJ,KAAM,CACJC,EAAImN,EAAKlN,MAAM8xB,EAAW,EACxB7xB,EAAIiN,EAAKhN,OAAO6xB,EAAY,EAC5BG,WAAY,EACZ/xB,SAAS,EACTE,OAAO,EACPC,OAAO,EACPF,QAAQ,OAIPm1B,GAAQC,IAAa51B,YAAU,MACpCb,OAAO,CACLc,SAAU,KAIZC,KAAM,CACFC,EAAImN,EAAKlN,MAAM8xB,EAAW,EAC1B7xB,EAAIiN,EAAKhN,OAAO6xB,EAAY,IAC5B5xB,SAAS,IACTE,OAAO,GACPC,OAAO,GACPF,QAAS,QAGb2B,oBAAU,KACR,MAAM4wB,EAAQnuB,WAAW,KACvBgxB,GAAU,CACRz1B,EAAImN,EAAKlN,MAAM8xB,EAAW,EAC1B7xB,EAAIiN,EAAKhN,OAAO6xB,EAAY,EAAE,EAC9B1xB,OAAO,GACPC,OAAO,GACPH,SAAS,IACTC,QAAS,MAEXq1B,GAAeF,KAEd,MACH,MAAO,IAAMzC,aAAaH,IACzB,IACL,MAAO+C,GAAYD,IAAiBt0B,mBAASk0B,IAU3C,OAEE10B,aAFI,CAEH0B,IAAK,CAACrC,MAAOkN,EAAKlN,MACnBE,OAAQgN,EAAKhN,OACbG,OAAQwxB,EACRvxB,OAAQuxB,EAAOzsB,UAAW,eAAe9C,SACvCC,eAACC,IAAK,CAAAF,SAAA,CAIJ3B,cAACC,IAAS+0B,KAAI70B,wBAAA,GAAKkyB,GAAa,IAAE4C,OAAQ,CAAC,EAAG,EAAG,IAAM,KAAMC,OAAQ,YAAaC,YAAa,EAAGC,QAAQ,KAC1Gp1B,cAACC,IAAS+0B,KAAI70B,wBAAA,GAAKkyB,GAAa,IAAE4C,OAAQ,CAAC,EAAG,IAAK,IAAK,GAAIC,OAAQ,YAAaC,YAAa,EAAGC,QAAQ,KAEzGp1B,cAACC,IAASuuB,KAAIruB,YAAA,CAAC2b,KAAK,qBAAMiP,KAAI,QAAWsK,UAAS,OAAUC,SAAU,IAAKC,WAAY,IAAK9wB,UAAW,eAAkB8D,IACzHvI,cAACC,IAASuuB,KAAIruB,YAAA,CAAC2b,KAAK,kBAAkB0Z,SAAU,IAAKC,QAAS,GAAK1K,KAAI,UAAasK,UAAS,OAAUC,SAAU,GAAK7wB,UAAW,eAAkB8D,IAEnJvI,cAACC,IAAS+0B,KAAI70B,wBAAA,GAAKyyB,GAAc,IAAE4C,QAAS,GAAIC,QAAS,IAAKR,OAAQ,CAAC,GAAI,GAAI,GAAI,IAAK,IAAK,IAAKlK,KAAM,SAAUmK,OAAQ,QAASC,YAAa,EAAGC,QAAQ,KAC3Jp1B,cAACC,IAAS+0B,KAAI70B,wBAAA,GAAKiyB,GAAmB,IAAGoD,QAAS,IAAKC,QAAS,IAAKR,OAAQ,CAAC,GAAI,GAAI,GAAI,IAAK,IAAK,IAAKx1B,QAAS,EAAGsrB,KAAM,QAASmK,OAAQ,QAASC,YAAa,EAAGC,QAAQ,KAC7Kp1B,cAACC,IAAS+0B,KAAI70B,wBAAA,GAAKiyB,GAAmB,IAAGoD,QAAS,IAAKC,QAAS,IAAKR,OAAQ,CAAC,GAAI,GAAI,GAAI,IAAK,IAAK,IAAMlK,KAAM,WAAYmK,OAAQ,QAASC,YAAa,EAAGC,QAAQ,KAGrKp1B,cAACC,IAASC,MAAKC,YAAA,CAAEtB,MAAOuuB,GAAYmG,IAIpCvzB,cAACC,IAASC,MAAKC,YAAA,CAAEtB,MAAO+xB,GAAWqC,IAEnCjzB,cAACC,IAAS+0B,KAAI70B,wBAAA,GAAK0zB,GAAW,IAAEoB,OAAQ,CAAC,GAAI,GAAI,GAAI,IAAK,IAAK,IAAKO,QAAS,GAAIC,QAAS,IAAKh2B,QAAS,EAAGsrB,KAAM,QAASmK,OAAQ,QAASC,YAAa,EAAGC,QAAQ,KACnKp1B,cAACC,IAAS+0B,KAAI70B,wBAAA,GAAK0zB,GAAW,IAAEoB,OAAQ,CAAC,GAAI,GAAI,GAAI,IAAK,IAAK,IAAKO,QAAS,GAAIC,QAAS,IAAK1K,KAAM,UAAWmK,OAAQ,QAASC,YAAa,EAAGC,QAAQ,KAEzJp1B,cAACC,IAAS+0B,KAAI70B,wBAAA,GAAKg0B,GAAW,IAAEc,OAAQ,CAAC,GAAI,GAAI,GAAI,IAAK,GAAI,IAAKO,QAAS,GAAIC,QAAS,IAAKh2B,QAAS,EAAGsrB,KAAM,QAASmK,OAAQ,QAASC,YAAa,EAAGC,QAAQ,KAClKp1B,cAACC,IAAS+0B,KAAI70B,wBAAA,GAAKg0B,GAAW,IAAEc,OAAQ,CAAC,GAAI,GAAI,GAAI,IAAK,GAAI,IAAKO,QAAS,GAAIC,QAAS,IAAK1K,KAAM,UAAWmK,OAAQ,QAASC,YAAa,EAAGC,QAAQ,KAExJp1B,cAACC,IAAS+0B,KAAI70B,wBAAA,GAAMs0B,IAAW,IAAEQ,OAAQ,CAAC,GAAI,GAAI,GAAI,IAAK,GAAI,IAAKO,QAAS,GAAIC,QAAS,IAAKh2B,QAAS,EAAGsrB,KAAM,QAASmK,OAAQ,QAASC,YAAa,EAAGC,QAAQ,KACnKp1B,cAACC,IAAS+0B,KAAI70B,wBAAA,GAAMs0B,IAAW,IAAEQ,OAAQ,CAAC,GAAI,GAAI,GAAI,IAAK,GAAI,IAAKO,QAAS,GAAIC,QAAS,IAAK1K,KAAM,SAAUmK,OAAQ,QAASC,YAAa,EAAGC,QAAQ,SAQlK,CCvsBO,SAASM,GAAS92B,GACrB,MAAOwY,EAAWH,GAAgBzW,mBAAiB,GAMnD,OALAY,oBAAU,KACY,IAAdgW,GACAxY,EAAM+L,cAAa,IAExB,CAAC/L,EAAOwY,IAEPxV,eAAA,OAAAD,SAAA,CACI3B,cAAA,WAASyE,UAAW,kBAAkB9C,SAClC3B,cAAC2wB,GAAc,MAEnB3wB,cAAA,WAAA2B,SACI3B,cAAC+sB,GAAY,MAEjB/sB,cAAA,WAAA2B,SACI3B,cAAC4vB,GAAa,CACVjlB,aAAc/L,EAAM+L,aACpByM,UAAWA,EACXH,aAAcA,MAGtBjX,cAAA,WAAA2B,SACI3B,cAACkwB,GAAc,MAEnBlwB,cAAA,WAAA2B,SACI3B,cAAC0wB,GAAe,QAIhC,C,qEChBO,SAASiF,KACZ,MAAMziB,EAAkBjQ,YACnBC,GAAqBA,EAAM4R,QAAQ5B,iBAGlChL,EAAWiD,cASjB,OACInL,cAAA,OAAKyE,UAAU,UAAS9C,SACpBC,eAACg0B,KAAU,CAACC,UAAW3iB,EAAiB7T,MAAM,QAAOsC,SAAA,CACjD3B,cAAC81B,KAAa,CAAAn0B,SAEV3B,cAAA,OACIyE,UAAU,kBACV1C,QAdUg0B,KAC1B7tB,EAASoZ,IAAapO,KAayBvR,SAE9BuR,EACGlT,cAACg2B,KAAkB,IAEnBh2B,cAACi2B,KAAiB,QAI9Bj2B,cAACk2B,KAAc,CAAAv0B,SACXC,eAACu0B,KAAI,CAACC,UAAU,SAAQz0B,SAAA,CACpBC,eAACy0B,KAAO,CAAC9tB,MAAM,2BAAO4X,KAAMngB,cAACs2B,KAAM,IAAI30B,SAAA,CACnCC,eAAC20B,KAAQ,CAAA50B,SAAA,CAAC,uCAEN3B,cAACkZ,QAAI,CAACtZ,GAAG,4BAEbgC,eAAC20B,KAAQ,CAAA50B,SAAA,CAAC,uCAEN3B,cAACkZ,QAAI,CAACtZ,GAAG,wCAGjBgC,eAAC20B,KAAQ,CAACpW,KAAMngB,cAACw2B,KAAqB,IAAI70B,SAAA,CAAC,iCAEvC3B,cAACkZ,QAAI,CAACtZ,GAAG,mCAEbgC,eAACy0B,KAAO,CAAC9tB,MAAM,eAAK4X,KAAMngB,cAACy2B,KAAU,IAAI90B,SAAA,CACrC3B,cAACu2B,KAAQ,CAAA50B,SACL3B,cAACkZ,QAAI,CAACtZ,GAAG,yBAAwB+B,SAAC,+BAItC3B,cAACu2B,KAAQ,CAAA50B,SACL3B,cAACkZ,QAAI,CAACtZ,GAAG,wBAAuB+B,SAAC,kCAGzCC,eAAC20B,KAAQ,CAACpW,KAAMngB,cAAC02B,KAAY,IAAI/0B,SAAA,CAAC,2BAE9B3B,cAACkZ,QAAI,CAACtZ,GAAG,wCAIrBI,cAAC22B,KAAa,CAAAh1B,SACV3B,cAACm2B,KAAI,CAACC,UAAU,SAAQz0B,SACpB3B,cAACu2B,KAAQ,CAACpW,KAAMngB,cAAC42B,KAAQ,IAAIj1B,SACzB3B,cAACkZ,QAAI,CACDtZ,GAAG,IACHmC,QAAU6G,IACNA,EAAE6a,iBACFvb,EAAS6N,MACT7N,EAAS0B,aAAK,OAElBnF,UAAU,WAAU9C,SACvB,2BAS7B,C,kBC5Ge,OAA0B,sCCgB1Bk1B,OAbf,WAGE,OAEE72B,cAACyY,KAAM,CAACC,UAAU,EAAMC,SAAS,EAAMme,WAAW,EAAMryB,UAAU,qBAAoB9C,SACxFC,eAAA,OAAK6C,UAAU,2BAA0B9C,SAAA,CACvC3B,cAAC4Y,KAAU,CAAAjX,SAAC,6EACZ3B,cAAC6Y,KAAW,CAACpU,UAAU,oBAI3B,ECWO,SAASsyB,KACZ,MAAM7uB,EAAWiD,cAEXnD,EAAQgC,aAAaC,QAAQ,SAC7B0B,EAAO1I,YAAaC,GAAqBA,EAAMqR,UAAU5I,MACzD0Y,EAAWrD,KAAKrX,MAAMqX,KAAKC,UAAUtV,IAE3C,IAAIqrB,EAAU3S,EAAS/U,YACvB,MAAM5D,EAAiBzI,YAClBC,GAAqBA,EAAMyI,KAAKD,iBAE9BurB,EAAcC,GAAoB12B,oBAAS,IAC3C22B,EAAgBC,GAAqB52B,oBAAS,IAC9C4Z,EAAOC,GAAY7Z,mBAAsBR,cAAAwH,WAAA,KAC1C8S,EAAU0W,IAAMpwB,OAAO,OACtB4jB,EAAOC,GAAYjkB,mBAAS,IAkBnCY,oBAAU,KACkB,kBAAbijB,IAEF8S,GACDzrB,GACA2Y,GACoB,kBAAbA,QACMje,IAAbie,GAC2B,aAA3BA,EAAUtS,eAELklB,IACDG,GAAkB,GAClB/c,EAASra,cAAC62B,GAAS,KACnBK,GAAiB,MAI9B,CAACC,EAAgBzrB,EAAgB2Y,EAAU4S,IAE9C,MAAM,SAAEna,EAAQ,aAAEC,EAAY,MAAEsa,GAAUra,gBAGnCmI,EAAeC,GAAoB5kB,qBA0E1C,MAAOgb,EAAWC,GAAgBjb,oBAAS,IAMpC6e,EAAYC,GAAiB9e,mBAAS,gBAgB7C,OAfAY,oBAAU,KAUNyC,WAAW,KACPyb,EAAc,gBACf,MACJ,CAAC+E,IAEkB,iBAAfhF,EACHrf,cAAA,OAAKyE,UAAW4a,EAAW1d,SACvB3B,cAACgc,GAAmB,MAGxBpa,eAAA,OAAAD,SAAA,CACKyY,EACGpa,cAAC8a,KAAQ,CACLzY,IAAKiY,EACL1Q,KAAMwQ,EACNW,UAAU,aACVzX,GAAG,UAGPtD,cAAA,OAAA2B,SAAK,MAETC,eAAC0qB,KAAG,CAAC7nB,UAAW,oBAAoB9C,SAAA,CAChC3B,cAACusB,KAAG,CAAC9nB,UAAW,oBAAqB+nB,GAAI,GAAIC,GAAI,EAAE9qB,SAC/CC,eAAC0sB,KAAI,CAAC7pB,UAAU,YAAW9C,SAAA,CACvB3B,cAAA,OAAKyE,UAAU,gBAAe9C,cACbyE,IAAZ4wB,GACGh3B,cAAA,OAAKyE,UAAU,oDAAmD9C,SAC9D3B,cAACE,KAAK,CACFiH,IAAG,GAAAhF,OACC60B,EAAQl0B,OACJ,6BACA,EACE+B,mIACKC,sBACL,IACAkyB,EACAA,GAEV33B,MAAM,KACNE,OAAO,KACP8sB,eAAa,EACb5nB,UAAU,eACV4C,IAAI,eAKpBzF,eAAC0sB,KAAKlC,KAAI,CAAAzqB,SAAA,CACN3B,cAACsuB,KAAKnC,MAAK,CAAAxqB,SAAE0iB,EAAS9lB,WAGtByB,cAACsuB,KAAKE,KAAI,CAAC/pB,UAAW,iBAAiB9C,SAClC0iB,EAASjS,qBAAoB,GAAAjQ,OACrBkiB,EAASnS,eACZ,qEAEVlS,cAACsuB,KAAKE,KAAI,CAAA7sB,SAEL0iB,EAAShf,YAAW,UAAAlD,OACVkiB,EAAShf,YAAW,WACzB,sDAMtBrF,cAACusB,KAAG,CACA9nB,UAAW,iCACX+nB,GAAI,GACJC,GAAI,EAAE9qB,SAGNC,eAAA,OAAK6C,UAAW,uCAAuC9C,SAAA,CACnD3B,cAAA,OAAKyE,UAAW,cAAc9C,SAAC,yCAC/BC,eAAA,QAAMub,SAAUJ,EAvJO9U,UACvC,IAEIqvB,EAAkB,IAAInR,SAE1B7d,EAAK/J,UACC+4B,EAAgBtS,OAAO,WAAY1c,EAAK/J,UAE9C4mB,GACMmS,EAAgBtS,OAAO,aAAcG,GAE3C7c,EAAKwR,aACCwd,EAAgBtS,OAAO,cAAe1c,EAAKwR,YAAYzL,YAE7D/F,EAAKivB,iBACCD,EAAgBtS,OACZ,kBAAkB,IAAD7iB,OACbmG,EAAKivB,kBAInBjvB,EAAKkvB,SACCF,EAAgBtS,OAAO,UAAW1c,EAAKkvB,SAE7CF,EAAgBtS,OAAO,SAAUX,EAAS/gB,IAE1C,MAAMm0B,QAAgB5W,MAAM,GAAD1e,OACpB0C,mIAAYC,sBAAqB,+BACpC,CACIgc,OAAQ,MACRC,KAAMuW,UAGSG,EAAQvW,OvDChC,IAA4BrQ,EuDCd,MAAT7I,UAIEE,GvDLqB2I,EuDKOwT,EAAS/gB,GvDFxC2E,UAEH,GAAa,MADC+B,aAAaC,QAAQ,SAKnC,IACI,MAAM7B,QAAiBC,IAAM,GAADlG,OACrB0C,mIAAYC,sBAAqB,wBACpC,CACIgc,OAAQ,OACR3W,QAAS,CAAE,eAAgB,oBAC3B7B,KAAM,CAAEuI,OAAO,GAAD1O,OAAK0O,MAI3B3I,EAAS0N,GAAMxN,EAAIE,KAAKN,QACxBE,EAAS8M,GAAU5M,EAAIE,KAAKN,QAC5BgC,aAAaoM,QAAQ,QAAShO,EAAIE,KAAKN,MAC3C,CAAE,MAAOyI,GACL5H,QAAQC,IAAI,QAAS2H,EACzB,KuDlBA4mB,IACAjS,EAAiB,OA8GsCzjB,SAAA,CACnCC,eAAA,OAAK6C,UAAW,YAAY9C,SAAA,CACxB3B,cAAA,SAAA2B,SAAO,8BAAc,IACrB3B,cAAA,QAAAG,wBAAA,CACIsE,UAAW,qBACPqY,EAAS,aAAW,IACxBvN,YAAa8U,EAAS9lB,eAG9BqD,eAAA,OAAK6C,UAAW,YAAY9C,SAAA,CACxB3B,cAAA,SAAA2B,SAAO,8BAAc,IACrB3B,cAAA,SACIyE,UAAW,uBACX8K,YAAa8U,EAASzS,MACtB8lB,UAAQ,OAGhB91B,eAAA,OAAK6C,UAAW,YAAY9C,SAAA,CACxB3B,cAAA,SAAA2B,SAAO,8BAAc,IACrB3B,cAAA,QAAAG,wBAAA,CACIuH,KAAK,SACLjD,UAAW,qBACPqY,EAAS,gBAAc,IAC3BvN,YAC8B,aAA1B8U,EAAStS,aACH,eACAsS,EAAStS,aACTsS,EAAStS,aACT,qBAIlBnQ,eAAA,OAAK6C,UAAW,mBAAmB9C,SAAA,CAC/B3B,cAAA,SAAA2B,SAAO,2BAAoB,IAAC3B,cAAA,OAAA2B,SAAK,OACjC3B,cAAA,QAAAG,wBAAA,CACIsE,UAAW,qBACPqY,EAAS,oBAAkB,IAC/BvN,YACI8U,EAASnS,cAAa,GAAA/P,OACbkiB,EAASnS,cAAcylB,UACtB,IAEJ,kBAGd33B,cAAA,OACIyE,UACI4f,EAASnS,cACHmS,EAASjS,qBACL,kBACA,oBACJ,oBAKdxQ,eAAA,OAAK6C,UAAW,6BAA6B9C,SAAA,CACzC3B,cAAA,KAAG43B,KAAK,2BAA0Bj2B,SAC9B3B,cAAA,OACIyE,UAAW,iBACX0C,IAAK0wB,GACLxwB,IAAI,oBAGZzF,eAAA,OAAK6C,UAAW,WAAW9C,SAAA,CACvB3B,cAAA,OAAA2B,SAAK,sFAILC,eAAA,MAAAD,SAAA,CACI3B,cAAA,MAAA2B,SAAI,0CACJ3B,cAAA,MAAA2B,SAAI,iFAIJC,eAAA,MAAAD,SAAA,CAAI,yEAEa,OAEjBC,eAAA,MAAAD,SAAA,CAAI,yCAEA3B,cAAC4b,mBAAe,CACZC,OA5KjCA,KACXJ,GAAa,IA4K+BK,KACI,UACe,IAAduI,EAAS/gB,IACL+K,SAAS,IACTypB,cACRn2B,SAEDC,eAAA,QACI6C,UACI,mBACH9C,SAAA,CACJ,OAEI,UAGO,IADA0iB,EAAS/gB,IAGR+K,SAAS,IACTypB,cAAc,OAEvB93B,cAACioB,GAAW,SAEF,yDAQtCrmB,eAAA,OAAK6C,UAAW,iBAAiB9C,SAAA,CAC7B3B,cAAA,SAAA2B,SAAO,yBAAc,IACrB3B,cAAA,WAAAG,wBAAA,CACIsE,UAAW,oBACXszB,UAAW,KACPjb,EAAS,YAAU,IACvBvN,YACI8U,EAAShf,YACHgf,EAAShf,YACT,oCAIlBzD,eAAA,OAAK6C,UAAW,aAAa9C,SAAA,CACzB3B,cAAA,SAAA2B,SAAO,8BAAc,IACrB3B,cAAA,OAAKyE,UAAW,gBAAgB9C,SAC5B3B,cAAA,QAAAG,wBAAA,CACIuH,KAAK,OACLof,OAAO,WACHhK,EAAS,eAAa,IAC1BrN,SA1Sf7G,IACbA,EAAE8G,OAAOqX,OAASne,EAAE8G,OAAOqX,MAAM9kB,OAAS,IAEG,SAAzCwc,KAAKoH,QAAQjd,EAAE8G,OAAOqX,MAAM,GAAG7H,OACU,UAAzCT,KAAKoH,QAAQjd,EAAE8G,OAAOqX,MAAM,GAAG7H,OACU,SAAzCT,KAAKoH,QAAQjd,EAAE8G,OAAOqX,MAAM,GAAG7H,OAE/BkG,EAAiBxc,EAAE8G,OAAOqX,MAAM,WAsShB/mB,cAAA,OAAKyE,UAAW,kBAAkB9C,SAAC,gFAItCwjB,GACGvjB,eAAA,OAAK6C,UAAW,mBAAmB9C,SAAA,CAC/B3B,cAAA,OACIyE,UACI,oCAEJ0C,IAAK6f,IAAIC,gBACL9B,GAEJ9d,IAAI,KAERzF,eAAA,OAAK6C,UAAW,sBAAsB9C,SAAA,CAElC3B,cAAA,OAAA2B,SAAMwjB,EAAczd,OACpB1H,cAAA,OAAA2B,SAAA,GAAAQ,QAESgjB,EAAc5Y,KACf,KAEC8B,WACA6Y,MAAM,sBACX,eAMhBlnB,cAAA,SACIyE,UAAW,iBACXiD,KAAK,wBASrC,C,cC3ZO,SAASswB,GAASp5B,GACrB,MAAMsJ,EAAWiD,eACViM,EAAWH,GAAgBzW,mBAAiB,GAC7CkL,EAAiBzI,YAClBC,GAAqBA,EAAMyI,KAAKD,gBAE/BkL,EAAe3T,YAChBC,GAAqBA,EAAM+R,SAASpE,QAEnConB,EAAqBh1B,YACtBC,GAAqBA,EAAM+R,SAASrN,SAEnCswB,EAAkBj1B,YACnBC,GAAqBA,EAAM+R,SAASnE,aAEnCD,EAAS5N,YAAaC,IAAsB,IAAD+U,EAI3CC,EAHF,MACoC,kBAAzBhV,EAAMqR,UAAU5I,MACH,QADoBsM,EACxC/U,EAAMqR,UAAU5I,YAAI,IAAAsM,GAApBA,EAAsB3U,GAEK,QAA3B4U,EAAOhV,EAAMqR,UAAU5I,YAAI,IAAAuM,OAAA,EAApBA,EAAsB5U,GAE1B,IA0BX,OAxBAlC,oBAAU,KACY,IAAdgW,GACAxY,EAAM+L,cAAa,IAExB,CAACyM,EAAWxY,IACfwC,oBAAU,KACN8G,EAASuO,IAAe,KACzB,CAACvO,IACJ9G,oBAAU,KACFwV,EAAa3U,OAAS,EACtBiG,EACI6O,GACIH,EACA,WACAhY,EAAM+L,aACNsM,IAGuB,IAAxBL,EAAa3U,QAAgBg2B,IACpCr5B,EAAM+L,cAAa,GACnBsM,EAAcG,GAAcA,EAAY,KAE7C,CAAClP,EAAU0O,EAAchY,EAAOq5B,IAG/Bj4B,cAAA,OAAKyE,UAAU,2BAA0B9C,SACnC+J,EAGE9J,eAAA,OAAK6C,UAAU,MAAK9C,SAAA,CACY,IAA3Bu2B,EAAgBj2B,QACbi2B,EAAgBlxB,IAAKkJ,GACjBlQ,cAAA,OACIyE,UAAU,yCAAwC9C,SAGlDC,eAAC0sB,KAAI,CAAC7pB,UAAU,YAAW9C,SAAA,CACvB3B,cAAA,OAAKyE,UAAU,gBAAe9C,cACTyE,IAAhB8J,EAAKioB,QACFn4B,cAAA,OAAKyE,UAAU,oDAAmD9C,SAC9D3B,cAACE,KAAK,CACFiH,IAAG,GAAAhF,OACC+N,EAAKioB,OAAOr1B,OACR,6BACA,EACE+B,mIACKC,sBACL,IACAoL,EAAKioB,OACLjoB,EAAKioB,QAEf94B,MAAM,KACNE,OAAO,KACP8sB,eAAa,EACb5nB,UAAU,eACV4C,IAAI,eAKpBzF,eAAC0sB,KAAKlC,KAAI,CAAAzqB,SAAA,CACN3B,cAACsuB,KAAKnC,MAAK,CAAAxqB,SAAEuO,EAAK3R,WAGlByB,cAACsuB,KAAKE,KAAI,CAAC/pB,UAAW,iBAAiB9C,SAClCuO,EAAKkoB,aAAY,GAAAj2B,OACT+N,EAAKkoB,cACR,qEAEVp4B,cAACsuB,KAAKE,KAAI,CAAA7sB,SACLuO,EAAK7K,YAAW,UAAAlD,OACN+N,EAAK7K,YAAW,oDAAAlD,OACV+N,EAAK3R,SAAQ,aAElCyB,cAACsX,GAAe,CACZS,SAAU7H,EAAK5M,GACfuN,OAAQA,WA1CfX,EAAK3R,WAgDM,IAA3B25B,EAAgBj2B,QAA8B,IAAdmV,GAC7BpX,cAAA,OAAKyE,UAAU,WAAU9C,SAAC,kDAxDlC3B,cAACmZ,GAAK,CAACjL,QAAS,8BA8DhC,CCjHO,SAASmqB,GAAUz5B,GACtB,MAAMsJ,EAAWiD,eACViM,EAAWH,GAAgBzW,mBAAiB,GAC7CkL,EAAiBzI,YAClBC,GAAqBA,EAAMyI,KAAKD,gBAE/BoL,EAAgB7T,YACjBC,GAAqBA,EAAMgS,UAAUrE,QAEpCynB,EAAsBr1B,YACvBC,GAAqBA,EAAM+R,SAASrN,SAEnC8jB,EAAmBzoB,YACpBC,GAAqBA,EAAMgS,UAAUpE,aAEpCD,EAAS5N,YAAaC,IAAsB,IAAD+U,EAI3CC,EAHF,MACoC,kBAAzBhV,EAAMqR,UAAU5I,MACH,QADoBsM,EACxC/U,EAAMqR,UAAU5I,YAAI,IAAAsM,GAApBA,EAAsB3U,GAEK,QAA3B4U,EAAOhV,EAAMqR,UAAU5I,YAAI,IAAAuM,OAAA,EAApBA,EAAsB5U,GAE1B,IA0BX,OAxBAlC,oBAAU,KACY,IAAdgW,GACAxY,EAAM+L,cAAa,IAExB,CAACyM,EAAWxY,IACfwC,oBAAU,KACN8G,EAASuO,IAAe,KACzB,CAACvO,IACJ9G,oBAAU,KACF0V,EAAc7U,OAAS,EACvBiG,EACI6O,GACID,EACA,YACAlY,EAAM+L,aACNsM,IAGwB,IAAzBH,EAAc7U,QAAgBq2B,IACrC15B,EAAM+L,cAAa,GACnBsM,EAAcG,GAAcA,EAAY,KAE7C,CAAClP,EAAU4O,EAAelY,EAAO05B,IAGhCt4B,cAAA,OAAKyE,UAAU,4BAA2B9C,SACpC+J,EAGE9J,eAAA,OAAK6C,UAAU,MAAK9C,SAAA,CACa,IAA5B+pB,EAAiBzpB,QACdypB,EAAiB1kB,IAAKkJ,GAClBlQ,cAAA,OACIyE,UAAU,yCAAwC9C,SAGlDC,eAAC0sB,KAAI,CAAC7pB,UAAU,YAAW9C,SAAA,CACvB3B,cAAA,OAAKyE,UAAU,gBAAe9C,cACTyE,IAAhB8J,EAAKioB,QACFn4B,cAAA,OAAKyE,UAAU,oDAAmD9C,SAC9D3B,cAACE,KAAK,CACFiH,IAAG,GAAAhF,OACC+N,EAAKioB,OAAOr1B,OACR,6BACA,EACE+B,mIACKC,sBACL,IACAoL,EAAKioB,OACLjoB,EAAKioB,QAEf94B,MAAM,KACNE,OAAO,KACP8sB,eAAa,EACb5nB,UAAU,eACV4C,IAAI,eAKpBzF,eAAC0sB,KAAKlC,KAAI,CAAAzqB,SAAA,CACN3B,cAACsuB,KAAKnC,MAAK,CAAAxqB,SAAEuO,EAAK3R,WAGlByB,cAACsuB,KAAKE,KAAI,CAAC/pB,UAAW,iBAAiB9C,SAClCuO,EAAKkoB,aAAY,GAAAj2B,OACT+N,EAAKkoB,cACR,qEAEVp4B,cAACsuB,KAAKE,KAAI,CAAA7sB,SACLuO,EAAK7K,YAAW,UAAAlD,OACN+N,EAAK7K,YAAW,oDAAAlD,OACV+N,EAAK3R,SAAQ,aAElCyB,cAACsX,GAAe,CACZS,SAAU7H,EAAK5M,GACfuN,OAAQA,WA1CfX,EAAK3R,WAgDO,IAA5BmtB,EAAiBzpB,QAA8B,IAAdmV,GAC9BpX,cAAA,OAAKyE,UAAU,WAAU9C,SAAC,8DAxDlC3B,cAACmZ,GAAK,CAACjL,QAAS,8BA8DhC,CC9FO,SAASqqB,GAAWzlB,GACvB,MAAO,CACHpL,KAAM,wBACNoL,SAER,CAEO,SAAS0lB,GAAmBzlB,GAC/B,MAAO,CACHrL,KAAM,iCACNqL,iBAER,CAgBO,SAAS0lB,GAAiB1lB,GAC7B,MAAO,CACHrL,KAAM,8BACNqL,iBAER,C,OCpDO,SAAS2lB,KACZ,MAAMxwB,EAAWiD,cAEX8jB,EAAQhsB,YAAaC,GACvBmf,OAAOC,OAAOpf,EAAM4P,OAAOA,SAGzBnH,EAAO1I,YAAaC,GAAqBA,EAAMqR,UAAU5I,MACzD0Y,EAAWrD,KAAKrX,MAAMqX,KAAKC,UAAUtV,IAE3CvK,oBAAU,KACN8G,EDmDGD,MAAOC,EAA6BC,KACvC,IACI,MAAMC,QAAYyY,MAAM,GAAD1e,OAChB0C,mIAAYC,sBAAqB,wBAGlCoc,QAAa9Y,EAAI8Y,OAGnBhZ,EAASqwB,GADTrX,EACoBA,EAAK5Y,KAAKuC,QAAQsW,KAElB,IAE5B,CAAE,MAAO1Q,GACL5H,QAAQC,IAAI2H,EAChB,KCjED,CAACvI,IAEJ,MAAO7E,EAAQs1B,GAAan4B,mBAAS,GAMrC,OAJAY,oBAAU,KACN8G,EDiHD,SAA0B7E,GAC7B,OAAO4E,MAAOC,EAA6BC,KACvC,IACI,MAAMC,QAAYyY,MAAM,GAAD1e,OAChB0C,mIAAYC,sBAAqB,4BAA4B,CAChEgc,OAAQ,MACR3W,QAAS,CACL,eAAgB,mCAGpB4W,KAAMC,KAAKC,UAAU,CAAE5d,aAGrB6d,QAAa9Y,EAAI8Y,OACnBA,EAAKtZ,SACLM,EAhHT,SAAwB7E,GAC3B,MAAO,CACHqE,KAAM,4BACNrE,SAER,CA2GyBu1B,CAAe1X,EAAK5Y,KAAKuC,SAI1C,CAAE,MAAO4F,GACL5H,QAAQC,IAAI2H,EAEhB,EAER,CCzIiBooB,CAAiBx1B,KAC3B,CAAC6E,EAAU7E,IAGVzB,eAAA,OAAK6C,UAAU,cAAa9C,SAAA,CACxB3B,cAACgkB,KAAS,CAACvf,UAAU,MAAK9C,SACtB3B,cAAA,MAAIyE,UAAU,OAAM9C,SAAC,+BAEzB3B,cAACgkB,KAAS,CAACvf,UAAU,6BAA4B9C,SAC7C3B,cAAA,OAAKyE,UAAU,YAAW9C,SACrBstB,EAAMjoB,IACFqoB,GACGA,EAAKvD,UAAYzH,EAAS/gB,IACtBtD,cAAA,OACIyE,UAAU,yCAAwC9C,SAGlDC,eAAC0sB,KAAI,CACD7pB,UAAU,wCACVE,MAAO,CAAEtF,MAAO,SAAUsC,SAAA,CAE1B3B,cAAA,OAAKyE,UAAU,iBAAgB9C,SAC3B3B,cAAA,OAAKyE,UAAU,oDAAmD9C,SAC9D3B,cAACE,KAAK,CACFuE,UAAU,mBACV0C,IAAG,GAAAhF,OAAK0C,mIAAYC,sBAAqB,KAAA3C,OAAIktB,EAAKxwB,OAClD0vB,OAAK,QAIjB3sB,eAAC0sB,KAAKlC,KAAI,CAAC3nB,UAAU,wBAAuB9C,SAAA,CACxC3B,cAACsuB,KAAKnC,MAAK,CAAAxqB,SACN0tB,EAAK9mB,QAEVvI,cAACsuB,KAAKE,KAAI,CAAA7sB,SACL+tB,KACGL,EAAK3a,eACPib,OACE,2BAIPN,EAAK1a,SACF/S,eAAA,OAAK6C,UAAU,QAAO9C,SAAA,CAClBC,eAAC0sB,KAAKE,KAAI,CAAA7sB,SAAA,CAAC,iCACD,IACL0tB,EAAKyJ,eAEV94B,cAAC2b,KAAM,CACHsI,QAAQ,eACRxf,UAAU,kBACVkW,UAAQ,EAAAhZ,SACX,gCAKLC,eAAA,OAAK6C,UAAU,sCAAqC9C,SAAA,CAChD3B,cAAC2b,KAAM,CACHsI,QAAQ,eACRxf,UAAU,aACV1C,QAASA,KD8E1D,IAA8BiR,EC7EuB9K,GD6EvB8K,EC3E+Bqc,EAAK/rB,GD4E9D2E,MAAOC,EAA6BC,KACvC,IAEI,MAAMC,QAAYyY,MAAM,GAAD1e,OAEhB0C,mIAAYC,sBAAqB,2BAA2B,CAC/Dgc,OAAQ,MACR3W,QAAS,CACL,eAAgB,mCAGpB4W,KAAMC,KAAKC,UAAU,CAAEjO,eAIrBkO,QAAa9Y,EAAI8Y,OACnBA,EAAKtZ,SAELM,EAvIT,SAA4B8K,GAC/B,MAAO,CACHtL,KAAM,iCACNsL,WAER,CAkIyB+lB,CAAmB7X,EAAK5Y,KAAKuC,SAG9C,CAAE,MAAO4F,GACL5H,QAAQC,IAAI2H,EAEhB,KCjGoDvI,EACI0B,aAAK,8BAADzH,OAC8BktB,EAAK2J,gBAG7Cr3B,SACL,6BAGD3B,cAAC2b,KAAM,CACHsI,QAAQ,eACRxf,UAAU,aACV1C,QAASA,KACL42B,EAAUtJ,EAAK/rB,KACjB3B,SACL,uCAnEZ0tB,EAAK/rB,WAiF9C,C,+BClHO,SAAS21B,GAAwBr6B,GACpC,MAAOwY,EAAWH,GAAgBzW,mBAAiB,GAInD,IAAI04B,EAHmBj2B,YAAaC,GAChCmf,OAAOC,OAAOpf,EAAM4P,OAAOC,iBAE6Bc,KACxD,CAACslB,EAAOC,IAAUA,EAAM9J,QAAU6J,EAAM7J,SAExC+J,EAAwC,GACxCnyB,EAAM,EAEV,KAAOA,EAAMgyB,EAAqBj3B,QACG,IAA7Bo3B,EAAkBp3B,QAClBo3B,EAAkBzvB,KAAK,SACWxD,IAA9B8yB,EAAqBhyB,KACrBmyB,EAAkB,GAAGzvB,KAAKsvB,EAAqBhyB,IAC/CA,MAIAmyB,EAAkBA,EAAkBp3B,OAAS,GAAG,GAAGqB,IACnD41B,EAAqBhyB,GAAKooB,UACtB+J,EAAkBA,EAAkBp3B,OAAS,GAAG,GAAGqtB,SAEvD+J,EAAkBA,EAAkBp3B,OAAS,GAAG2H,KAC5CsvB,EAAqBhyB,IAEzBA,MAEAmyB,EAAkBzvB,KAAK,IACvByvB,EAAkBA,EAAkBp3B,OAAS,GAAG2H,KAC5CsvB,EAAqBhyB,IAEzBA,KAKZ,MAAMgB,EAAWiD,cAEjB/J,oBAAU,KACY,IAAdgW,GACAxY,EAAM+L,cAAa,IAExB,CAACyM,EAAWxY,IAEfwC,oBAAU,KACN8G,EFkCD,SACHyC,EACAsM,GAEA,OAAOhP,MAAOC,EAA6BC,KACvC,IACI,MAAMC,QAAYyY,MAAM,GAAD1e,OAChB0C,mIAAYC,sBAAqB,+BAGlCoc,QAAa9Y,EAAI8Y,OAGnBhZ,EAASuwB,GADTvX,EAC0BA,EAAK5Y,KAAKuC,QAAQsW,KAElB,KAE9BxW,GAAa,GACbsM,EAAcG,GAAcA,EAAY,EAC5C,CAAE,MAAO3G,GACL5H,QAAQC,IAAI2H,EAChB,EAER,CEzDiB6oB,CAAkB16B,EAAM+L,aAAcsM,KAChD,CAAC/O,EAAUtJ,IAEd,MAAM+M,EAAO1I,YAAaC,GAAqBA,EAAMqR,UAAU5I,MACzD0Y,EAAWrD,KAAKrX,MAAMqX,KAAKC,UAAUtV,IAE3C,OACI/J,eAAA,OAAK6C,UAAU,sBAAqB9C,SAAA,CAChC3B,cAACgkB,KAAS,CAAAriB,SACN3B,cAAA,MAAIyE,UAAU,OAAM9C,SAAC,2CAEzB3B,cAACgkB,KAAS,CAACvf,UAAU,kCAAiC9C,SAClD3B,cAACu5B,KAAS,CAACC,iBAAiB,IAAIC,OAAK,EAAA93B,SAChC03B,EAAkBryB,IACf,CAAC0yB,EAAkBnT,IACfmT,EAAiB,GAAGzN,YAAc5H,EAAS/gB,IACvC1B,eAAC23B,KAAUI,KAAI,CACXC,SAAQ,GAAAz3B,OAAKokB,GAAQ5kB,SAAA,CAGrBC,eAAC23B,KAAUpX,OAAM,CAAAxgB,SAAA,CAAC,kCACP+3B,EAAiB,GAAGnxB,SAE/BvI,cAACu5B,KAAUnN,KAAI,CAAAzqB,SACXC,eAACi4B,KAAK,CAACvhB,WAAW,KAAI3W,SAAA,CAClB3B,cAAA,SAAA2B,SACIC,eAAA,MAAAD,SAAA,CACI3B,cAAA,MAAA2B,SAAI,MACJ3B,cAAA,MAAA2B,SAAI,6BACJ3B,cAAA,MAAA2B,SAAI,uBACJ3B,cAAA,MAAA2B,SAAI,iBACJ3B,cAAA,MAAA2B,SAAI,6BACJ3B,cAAA,MAAA2B,SAAI,6BACJ3B,cAAA,MAAA2B,SAAI,oCAGX+3B,EAAiB1yB,IACd,CAACC,EAASsf,IACNvmB,cAAA,SAAA2B,SAKIC,eAAA,MAAAD,SAAA,CACI3B,cAAA,MAAA2B,SAAA,GAAAQ,OACIokB,EAAQ,KAEZvmB,cAAA,MAAA2B,SAEQsF,EAAQuoB,eAIZ,OADHvoB,EAAQ6yB,UAEL7yB,EAAQ6yB,WACJ7yB,EAAQglB,WACRjsB,cAAA,MAAA2B,SAEQsF,EAAQwnB,gBAMpB,OADHxnB,EAAQ6yB,UAEL7yB,EAAQ6yB,WACJ7yB,EAAQglB,WACRjsB,cAAA,MAAA2B,SAEQsF,EAAQ1I,WAKpB,OADH0I,EAAQ6yB,UAEL7yB,EAAQ6yB,WACJ7yB,EAAQglB,WACRjsB,cAAA,MAAA2B,SAEQsF,EAAQ2K,QAKpB,OADH3K,EAAQ6yB,UAEL7yB,EAAQ6yB,WACJ7yB,EAAQglB,WACRjsB,cAAA,MAAA2B,SAEQsF,EAAQ8K,eAKpB,OADH9K,EAAQ6yB,UAEL7yB,EAAQ6yB,WACJ7yB,EAAQglB,WACRjsB,cAAA,MAAA2B,SAEQsF,EAAQiL,oBA3DxBjL,EAAQuoB,sBAtB3BjJ,UAkGzC,C,OCnKO,SAASwT,GAAan7B,GACzB,MAAOwY,EAAWH,GAAgBzW,mBAAiB,GAC7Cw5B,EAAiB/2B,YAAaC,GAChCmf,OAAOC,OAAOpf,EAAM4P,OAAOC,iBAEzB7K,EAAWiD,cAEjB/J,oBAAU,KACY,IAAdgW,GACAxY,EAAM+L,cAAa,IAExB,CAACyM,EAAWxY,IACfwC,oBAAU,KACN8G,EH6FD,SACHyC,EACAsM,GAEA,OAAOhP,MAAOC,EAA6BC,KACvC,IACI,MAAMC,QAAYyY,MAAM,GAAD1e,OAChB0C,mIAAYC,sBAAqB,gCAGlCoc,QAAa9Y,EAAI8Y,OAGnBhZ,EAASswB,GADTtX,EAC4BA,EAAK5Y,KAAKuC,QAAQsW,KAElB,KAEhCxW,GAAa,GACbsM,EAAcG,GAAcA,EAAY,EAC5C,CAAE,MAAO3G,GACL5H,QAAQC,IAAI2H,EAChB,EAER,CGpHiBwpB,CAAoBr7B,EAAM+L,aAAcsM,KAClD,CAAC/O,EAAUtJ,IAEd,MAAM+M,EAAO1I,YAAaC,GAAqBA,EAAMqR,UAAU5I,MACzD0Y,EAAWrD,KAAKrX,MAAMqX,KAAKC,UAAUtV,IAE3C,OACI/J,eAAA,OAAK6C,UAAU,oBAAmB9C,SAAA,CAC9B3B,cAACgkB,KAAS,CAAAriB,SACN3B,cAAA,MAAIyE,UAAU,OAAM9C,SAAC,iDAEzB3B,cAACgkB,KAAS,CAACvf,UAAU,yBAAwB9C,SACzC3B,cAAA,OAAKyE,UAAU,MAAK9C,SACfq4B,EAAehzB,IACXkzB,GAC6B,OAA1BA,EAAaJ,UACbI,EAAaJ,WAAazV,EAAS/gB,IACnC42B,EAAajO,YAAc5H,EAAS/gB,IAChCtD,cAAA,OAAKyE,UAAU,yCAAwC9C,SACnDC,eAAC0sB,KAAI,CACD7pB,UAAU,uCACVE,MAAO,CAAEtF,MAAO,SAAUsC,SAAA,CAG1B3B,cAAA,OAAKyE,UAAU,iBAAgB9C,SAC3B3B,cAAA,OAAKyE,UAAU,oDAAmD9C,SAC9D3B,cAACE,KAAK,CACFuE,UAAU,mBACV0C,IAAG,GAAAhF,OACC+3B,EAAa3K,cAAczsB,OACvB,6BACA,EACE+B,mIACKC,sBACL,IACAo1B,EAAa3K,cACb2K,EAAa3K,eAEvBhB,OAAK,QAIjB3sB,eAAC0sB,KAAKlC,KAAI,CAAC3nB,UAAU,6BAA4B9C,SAAA,CAC7CC,eAAC0sB,KAAKnC,MAAK,CAAAxqB,SAAA,CAAC,iCACF,IACLu4B,EAAa1K,gBAElB5tB,eAAC0sB,KAAKE,KAAI,CAAA7sB,SAAA,CAAC,iCACD,IACL+tB,KACGwK,EAAaxlB,eACfib,OAAO,iBAEb/tB,eAAC0sB,KAAKE,KAAI,CAAA7sB,SAAA,CAAC,iCACD,IACLu4B,EAAazL,iBAElB7sB,eAAC0sB,KAAKE,KAAI,CAAA7sB,SAAA,CAAC,kCACAu4B,EAAatoB,SAExBhQ,eAAC0sB,KAAKE,KAAI,CAAA7sB,SAAA,CAAC,iCACD,IACLu4B,EAAanoB,gBAElBnQ,eAAC0sB,KAAKE,KAAI,CAAA7sB,SAAA,CAAC,yCACO,IACbu4B,EAAahoB,iBAElBtQ,eAAC0sB,KAAKE,KAAI,CAAA7sB,SAAA,CAAC,UACJu4B,EAAa37B,SAAS,wBA/C5B27B,EAAa52B,aA0D1D,CC1FO,SAAS62B,GAAYv7B,GACxB,OACIgD,eAAA,OAAK6C,UAAU,eAAc9C,SAAA,CACzB3B,cAAC21B,GAAO,IACR/zB,eAAC0c,KAAM,CAAA3c,SAAA,CACH3B,cAACue,KAAK,CAACE,KAAK,wBAAuB9c,SAC/B3B,cAACg4B,GAAQ,CAACrtB,aAAc/L,EAAM+L,iBAElC3K,cAACue,KAAK,CAACE,KAAK,yBAAwB9c,SAChC3B,cAACq4B,GAAS,CAAC1tB,aAAc/L,EAAM+L,iBAEnC3K,cAACue,KAAK,CAACE,KAAK,8BAA6B9c,SACrC3B,cAAC+2B,GAAc,MAEnB/2B,cAACue,KAAK,CAACE,KAAK,gCAA+B9c,SACvC3B,cAACi5B,GAAuB,CACpBtuB,aAAc/L,EAAM+L,iBAG5B3K,cAACue,KAAK,CAACE,KAAK,uBAAsB9c,SAC9B3B,cAAC04B,GAAM,MAEX14B,cAACue,KAAK,CAACE,KAAK,8BAA6B9c,SACrC3B,cAAC+5B,GAAY,CAACpvB,aAAc/L,EAAM+L,sBAKtD,C,wCC3BO,SAASyvB,KACZ,MAAMC,EAAmBp3B,YACpBC,GAAqBA,EAAMsR,cAAc5B,cAGvC0nB,EAAeC,GAAoB/5B,mBAAS,KAEnD,OACIR,cAAA,OAAKyE,UAAU,gBAAe9C,SAC1BC,eAACoiB,KAAS,CAAAriB,SAAA,CACNC,eAAC8Z,KAAW,CACR,aAAW,gBACXjX,UAAU,oBAAmB9C,SAAA,CAE7BC,eAAA,OAAAD,SAAA,CACI3B,cAACmkB,KAAe,CACZhE,KAAMqa,KACN/1B,UAAU,gBACZ,2BACG,OAET7C,eAAC64B,KAAc,CACXrY,GAAI1G,KACJnT,MAAM,2BACNjF,GAAG,qBAAoB3B,SAAA,CAEvB3B,cAAC06B,KAASf,KAAI,CACVC,SAAS,IACT73B,QAASA,IAAMw4B,EAAiB,KAAK54B,SACxC,6BAGD3B,cAAC06B,KAASf,KAAI,CACVC,SAAS,IACT73B,QAASA,KACLw4B,EAAiB,MACnB54B,SACL,gCAILC,eAAC64B,KAAc,CACXrY,GAAI1G,KACJnT,MAAM,eACNjF,GAAG,qBAAoB3B,SAAA,CAEvB3B,cAAC06B,KAASf,KAAI,CACVC,SAAS,IACT73B,QAASA,KACLw4B,EAAiB,MACnB54B,SACL,6BAGD3B,cAAC06B,KAASf,KAAI,CACVC,SAAS,IACT73B,QAASA,KACLw4B,EAAiB,MACnB54B,SACL,mCAKT3B,cAAA,SAECq6B,IACsB,MAAlBC,EACK,IAAID,GAAkBxmB,KAAK,CAACC,EAAGC,IAEvB,IAAIrK,KAAKA,KAAKC,MAAMmK,EAAEY,gBACtB,IAAIhL,KAAKA,KAAKC,MAAMoK,EAAEW,gBAEf,EAGP,IAAIhL,KAAKA,KAAKC,MAAMmK,EAAEY,gBACtB,IAAIhL,KAAKA,KAAKC,MAAMoK,EAAEW,iBAEd,EAEL,GAEO,MAAlB4lB,EACA,IAAID,GAAkBxmB,KAAK,CAACC,EAAGC,IAEvB,IAAIrK,KAAKA,KAAKC,MAAMmK,EAAEY,gBACtB,IAAIhL,KAAKA,KAAKC,MAAMoK,EAAEW,iBAEd,EAGR,IAAIhL,KAAKA,KAAKC,MAAMmK,EAAEY,gBACtB,IAAIhL,KAAKA,KAAKC,MAAMoK,EAAEW,gBAEf,EAEJ,GAEO,MAAlB4lB,EACA,IAAID,GAAkBxmB,KAAK,CAACC,EAAGC,IACvBD,EAAE2b,UAAY1b,EAAE0b,UACT,EAEP3b,EAAE2b,UAAY1b,EAAE0b,WACR,EAEL,GAEX,IAAI4K,GAAkBxmB,KAAK,CAACC,EAAGC,IACvBD,EAAE2b,UAAY1b,EAAE0b,WACR,EAER3b,EAAE2b,UAAY1b,EAAE0b,UACT,EAEJ,IAEfzoB,IAAK2zB,GACH/4B,eAAA,OACI6C,UAAU,gCAA+B9C,SAAA,CAGzC3B,cAACusB,KAAG,CACAC,GAAI,EACJC,GAAI,EACJhoB,UAAU,yBAAwB9C,SAElC3B,cAACkZ,QAAI,CACDtZ,GAAE,uBAAAuC,OAAyBw4B,EAAgBrqB,YAAa3O,SAExD3B,cAACE,KAAK,CAEFiH,IAAG,GAAAhF,OAAK0C,mIAAYC,sBAAqB,KAAA3C,OAAIw4B,EAAgBpL,eAC7DhB,OAAK,GAFAoM,EAAgBr3B,QAMjC1B,eAAA,OAAK6C,UAAU,wBAAuB9C,SAAA,CAClC3B,cAACkZ,QAAI,CACDzU,UAAU,oBACV7E,GAAE,uBAAAuC,OAAyBw4B,EAAgBrqB,YAAa3O,SAExD3B,cAAA,MAAA2B,SAAKg5B,EAAgBnL,iBAEzB5tB,eAAA,MAAAD,SAAA,CAAI,sBAAKg5B,EAAgBlL,aACzB7tB,eAAA,MAAAD,SAAA,CAAI,4BAAMg5B,EAAgBC,aAC1Bh5B,eAAA,MAAAD,SAAA,CAAI,iCAEC+tB,KACGiL,EAAgBjmB,eAClBib,OAAO,4BAEb/tB,eAAA,MAAAD,SAAA,CAAI,4BAAMg5B,EAAgBp8B,YAC1BqD,eAAA,KAAG6C,UAAU,uBAAsB9C,SAAA,CAAC,kCACzBg5B,EAAgBt1B,oBAlC1Bs1B,EAAgBr3B,SA0CjD,C,cCnKO,SAASu3B,KACZ,MAAMC,EAAiB73B,YAClBC,GAAqBA,EAAMsR,cAAcjC,aAGvC+nB,EAAeC,GAAoB/5B,mBAAS,KAEnD,OACIR,cAAA,OAAKyE,UAAU,gBAAe9C,SAC1BC,eAACoiB,KAAS,CAAAriB,SAAA,CACNC,eAAC8Z,KAAW,CACR,aAAW,gBACXjX,UAAU,oBAAmB9C,SAAA,CAE7BC,eAAA,OAAAD,SAAA,CACI3B,cAACmkB,KAAe,CACZhE,KAAMqa,KACN/1B,UAAU,gBACZ,2BACG,OAET7C,eAAC64B,KAAc,CACXrY,GAAI1G,KACJnT,MAAM,2BACNjF,GAAG,qBAAoB3B,SAAA,CAEvB3B,cAAC06B,KAASf,KAAI,CACVC,SAAS,IACT73B,QAASA,IAAMw4B,EAAiB,KAAK54B,SACxC,6BAGD3B,cAAC06B,KAASf,KAAI,CACVC,SAAS,IACT73B,QAASA,IAAMw4B,EAAiB,KAAK54B,SACxC,gCAILC,eAAC64B,KAAc,CACXrY,GAAI1G,KACJnT,MAAM,eACNjF,GAAG,qBAAoB3B,SAAA,CAEvB3B,cAAC06B,KAASf,KAAI,CACVC,SAAS,IACT73B,QAASA,IAAMw4B,EAAiB,KAAK54B,SACxC,6BAGD3B,cAAC06B,KAASf,KAAI,CACVC,SAAS,IACT73B,QAASA,IAAMw4B,EAAiB,KAAK54B,SACxC,mCAKT3B,cAAA,SAEC86B,IACsB,MAAlBR,EACK,IAAIQ,GAAgBjnB,KAAK,CAACC,EAAGC,IAErB,IAAIrK,KAAKA,KAAKC,MAAMmK,EAAEY,gBACtB,IAAIhL,KAAKA,KAAKC,MAAMoK,EAAEW,gBAEf,EAGP,IAAIhL,KAAKA,KAAKC,MAAMmK,EAAEY,gBACtB,IAAIhL,KAAKA,KAAKC,MAAMoK,EAAEW,iBAEd,EAEL,GAEO,MAAlB4lB,EACA,IAAIQ,GAAgBjnB,KAAK,CAACC,EAAGC,IAErB,IAAIrK,KAAKA,KAAKC,MAAMmK,EAAEY,gBACtB,IAAIhL,KAAKA,KAAKC,MAAMoK,EAAEW,iBAEd,EAGR,IAAIhL,KAAKA,KAAKC,MAAMmK,EAAEY,gBACtB,IAAIhL,KAAKA,KAAKC,MAAMoK,EAAEW,gBAEf,EAEJ,GAEO,MAAlB4lB,EACA,IAAIQ,GAAgBjnB,KAAK,CAACC,EAAGC,IACrBD,EAAE2b,UAAY1b,EAAE0b,UACT,EAEP3b,EAAE2b,UAAY1b,EAAE0b,WACR,EAEL,GAEX,IAAIqL,GAAgBjnB,KAAK,CAACC,EAAGC,IACrBD,EAAE2b,UAAY1b,EAAE0b,WACR,EAER3b,EAAE2b,UAAY1b,EAAE0b,UACT,EAEJ,IAEfzoB,IAAK+zB,GACHn5B,eAAA,OACI6C,UAAU,gCAA+B9C,SAAA,CAGzC3B,cAACusB,KAAG,CACAC,GAAI,EACJC,GAAI,EACJhoB,UAAU,yBAAwB9C,SAElC3B,cAACkZ,QAAI,CACDtZ,GAAE,uBAAAuC,OAAyB44B,EAAczqB,YAAa3O,SAEtD3B,cAACE,KAAK,CAEFiH,IAAG,GAAAhF,OAAK0C,mIAAYC,sBAAqB,KAAA3C,OAAI44B,EAAcxL,eAC3DhB,OAAK,GAFAwM,EAAcz3B,QAM/B1B,eAAA,OAAK6C,UAAU,wBAAuB9C,SAAA,CAClC3B,cAACkZ,QAAI,CACDzU,UAAU,oBACV7E,GAAE,uBAAAuC,OAAyB44B,EAAczqB,YAAa3O,SAEtD3B,cAAA,MAAA2B,SAAKo5B,EAAcvL,iBAEvB5tB,eAAA,MAAAD,SAAA,CAAI,sBAAKo5B,EAActL,aACvB7tB,eAAA,MAAAD,SAAA,CAAI,4BAAMo5B,EAAcH,aACxBh5B,eAAA,MAAAD,SAAA,CAAI,iCAEC+tB,KAAOqL,EAAcrmB,eAAeib,OACjC,4BAGR/tB,eAAA,MAAAD,SAAA,CAAI,4BAAMo5B,EAAcx8B,YACxBqD,eAAA,KAAG6C,UAAU,uBAAsB9C,SAAA,CAAC,kCACzBo5B,EAAc11B,oBAlCxB01B,EAAcz3B,SA0C/C,CC3JO,SAAS03B,KACZ,MAAM9yB,EAAWiD,eAEV8vB,EAAcC,GAAmB16B,mBAAS,KAEjDY,oBAAU,KACN8G,E7C4GD,SAAgC+yB,GACnC,OAAOhzB,MAAOC,EAA6BC,KACvC,IACI,MAAMC,QAAYyY,MAAM,iBAAD1e,OAErB0C,mIAAYC,sBAAqB,4CAE/B,CACIgc,OAAQ,OACR3W,QAAS,CACL,eAAgB,mCAEpB4W,KAAMC,KAAKC,UAAU,CAAEga,mBAM/B/yB,EA7FD,CACHR,KAAM,qCACNmL,qBAwFuBzK,EAAI8Y,QAGY5Y,KAAKuC,QAAQsW,MAIpD,CAAE,MAAO1Q,GACL5H,QAAQC,IAAI2H,EAChB,EAER,C6CtIiB0qB,CAAuBF,KACjC,CAAC/yB,EAAU+yB,IAEd,MAAMz1B,EAAWvC,YAAaC,GAC1Bmf,OAAOC,OAAOpf,EAAMsR,cAAc3B,gBAGtC,OACI7S,cAAA,OAAKyE,UAAU,gBAAe9C,SAC1BC,eAACoiB,KAAS,CAAAriB,SAAA,CACNC,eAAC8Z,KAAW,CACR,aAAW,gBACXjX,UAAU,oBAAmB9C,SAAA,CAE7BC,eAAA,OAAAD,SAAA,CACI3B,cAACmkB,KAAe,CACZhE,KAAMqa,KACN/1B,UAAU,gBACZ,2BACG,OAET7C,eAAC64B,KAAc,CACXrY,GAAI1G,KACJnT,MAAM,2BACNjF,GAAG,qBAAoB3B,SAAA,CAEvB3B,cAAC06B,KAASf,KAAI,CACVC,SAAS,IACT73B,QAASA,KACLm5B,EAAgB,gBAChBhzB,EACI0B,aAAK,oCAEXjI,SACL,6BAID3B,cAAC06B,KAASf,KAAI,CACVC,SAAS,IACT73B,QAASA,KACLm5B,EAAgB,gBAChBhzB,EACI0B,aAAK,oCAEXjI,SACL,gCAILC,eAAC64B,KAAc,CACXrY,GAAI1G,KACJnT,MAAM,eACNjF,GAAG,qBAAoB3B,SAAA,CAEvB3B,cAAC06B,KAASf,KAAI,CACVC,SAAS,IACT73B,QAASA,KACLm5B,EAAgB,YAChBhzB,EAAS0B,aAAK,gCAChBjI,SACL,6BAGD3B,cAAC06B,KAASf,KAAI,CACVC,SAAS,IACT73B,QAASA,KACLm5B,EAAgB,YAChBhzB,EAAS0B,aAAK,gCAChBjI,SACL,mCAKT3B,cAAA,SAECwF,GACGA,EAASwB,IAAKC,GACVrF,eAAA,OACI6C,UAAU,gCAA+B9C,SAAA,CAGzC3B,cAACusB,KAAG,CACAC,GAAI,EACJC,GAAI,EACJhoB,UAAU,yBAAwB9C,SAElC3B,cAACkZ,QAAI,CACDtZ,GAAE,uBAAAuC,OAAyB8E,EAAQqJ,YAAa3O,SAEhD3B,cAACE,KAAK,CAEFiH,IAAG,GAAAhF,OAAK0C,mIAAYC,sBAAqB,KAAA3C,OAAI8E,EAAQsoB,eACrDhB,OAAK,GAFAtnB,EAAQ3D,QAMzB1B,eAAA,OAAK6C,UAAU,wBAAuB9C,SAAA,CAClC3B,cAACkZ,QAAI,CACDzU,UAAU,oBACV7E,GAAE,uBAAAuC,OAAyB8E,EAAQqJ,YAAa3O,SAEhD3B,cAAA,MAAA2B,SAAKsF,EAAQuoB,iBAEjB5tB,eAAA,MAAAD,SAAA,CAAI,sBAAKsF,EAAQwoB,aACjB7tB,eAAA,MAAAD,SAAA,CAAI,4BAAMsF,EAAQ2zB,aAClBh5B,eAAA,MAAAD,SAAA,CAAI,iCAEC+tB,KAAOzoB,EAAQyN,eAAeib,OAC3B,4BAGR/tB,eAAA,MAAAD,SAAA,CAAI,4BAAMsF,EAAQ1I,YAClBqD,eAAA,KAAG6C,UAAU,uBAAsB9C,SAAA,CAAC,kCACzBsF,EAAQ5B,oBAlClB4B,EAAQ3D,SA0CzC,C,OC5He83B,OArBR,WACH,OACIx5B,eAAA,OAAK6C,UAAU,kFAAiF9C,SAAA,CAC5F3B,cAAA,OACIyE,UAAU,OACV0C,IAAI,mCACJE,IAAI,QAERzF,eAAA,OAAK6C,UAAU,mBAAkB9C,SAAA,CAAC,qIACA3B,cAAA,SAAM,iDAGxCA,cAAA,OACIyE,UAAU,yBACV0C,ICjBD,i1PDkBCE,IAAI,WAIpB,E,qBEmHeg0B,OA9Gf,WACI,MAAMnzB,EAAWiD,eACVgsB,EAAgBC,GAAqB52B,oBAAS,GAC/C6jB,EAAWphB,YAAaC,GAAqBA,EAAMqR,UAAU5I,MAC7DD,EAAiBzI,YAClBC,GAAqBA,EAAMyI,KAAKD,gBAE/ByH,EAAelQ,YAChBC,GAAqBA,EAAM4R,QAAQ3B,cAElCmoB,EAAS16B,iBAAuB,OAC/B26B,EAAWzY,GAAgBtiB,sBAC3BioB,EAAW9d,GAAgBnK,oBAAkB,GAEpDY,oBAAU,KACN,MAAMo6B,EAAa5yB,KAEVuK,GACDooB,GACA3yB,EAAE6yB,QAAUF,EAAUG,wBAAwBn8B,QAE9C2I,EAASqZ,GAAcpO,GAAc,KAG7C,GAAImoB,GAAUA,EAAOv6B,QAEjB,OADAu6B,EAAOv6B,QAAQqM,iBAAiB,QAASouB,GAClC,KACCF,GAAUA,EAAOv6B,SAEjBu6B,EAAOv6B,QAAQ2M,oBAAoB,QAAS8tB,KAIzD,CAACtzB,EAAUiL,EAAcooB,IAK5Bn6B,oBAAU,KACD+1B,IACDjvB,EAASgO,MAETkhB,GAAkB,KAIvB,CAAClvB,EAAUivB,EAAgB9S,EAAU3Y,IAExC,MAAM,SAAEiwB,GAAaC,gCACK5a,KAAKC,UAAU0a,GAEzC,MAAMlpB,EAAQxP,YAAaC,GAAqBA,EAAMC,WAAWsP,OAEjE,OACIzS,cAAA,OAAKyE,UAAU,MAAMpC,IAAKi5B,EAAO35B,SAE5Bg6B,EACG37B,cAACo7B,GAAO,IAERx5B,eAAA4F,WAAA,CAAA7F,SAAA,CACK8mB,GACG7mB,eAAA,OAAK6C,UAAU,SAAQ9C,SAAA,CACnB3B,cAAA,OAAKyE,UAAU,eACfzE,cAAA,OAAKyE,UAAU,iBAAgB9C,SAC3B3B,cAACgc,GAAmB,SAIhChc,cAACwhB,GAAc,CAACsB,aAAcA,IAC9B9iB,cAAC67B,KAAiB,IAClBj6B,eAAC0c,KAAM,CAAA3c,SAAA,CAEH3B,cAACue,KAAK,CAACE,KAAK,IAAID,OAAK,EAAA7c,SACjB3B,cAAC01B,GAAQ,CAAC/qB,aAAcA,MAE5B3K,cAACue,KAAK,CAACE,KAAK,cAAa9c,SACrB3B,cAACwT,GAAU,MAEfxT,cAACue,KAAK,CAACE,KAAK,iBAAgB9c,SACxB3B,cAACib,GAAU,CAACtQ,aAAcA,KADI8H,GAGlCzS,cAACue,KAAK,CAACE,KAAK,uBAAsB9c,SAC9B3B,cAAC87B,GAAgB,CAACnxB,aAAcA,MAEpC3K,cAACue,KAAK,CAACE,KAAK,gBAAe9c,SACvB3B,cAACo6B,GAAa,MAElBp6B,cAACue,KAAK,CAACE,KAAK,kBAAiB9c,SACzB3B,cAAC66B,GAAgB,MAErB76B,cAACue,KAAK,CAACE,KAAK,oBAAmB9c,SAC3B3B,cAACg7B,GAAc,MAEnBh7B,cAACue,KAAK,CAACE,KAAK,eAAc9c,SACtB3B,cAACm6B,GAAW,CAACxvB,aAAcA,MAE/B3K,cAACue,KAAK,CAACE,KAAK,aAAY9c,SACpB3B,cAAC8e,GAAS,MAEd9e,cAACue,KAAK,CAACE,KAAK,IAAG9c,SACX3B,cAACgb,GAAS,SAGlBhb,cAAC+jB,GAAM,QAK3B,ECzHegY,OAZUC,IACnBA,GAAeA,aAAuBC,UACxC,8BAAqB3S,KAAKzL,IAAkD,IAAjD,OAAEqe,EAAM,OAAEC,EAAM,OAAEC,EAAM,OAAEC,EAAM,QAAEC,GAASze,EACpEqe,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,MCIdO,IAASnV,OACLpnB,cAACgxB,IAAMwL,WAAU,CAAA76B,SACb3B,cAACuf,IAAQ,CAAChK,MAAOA,GAAM5T,SACnB3B,cAACwf,IAAe,CAACrP,QAASA,GAAQxO,SAE9B3B,cAACq7B,GAAG,UAKhBoB,SAASC,eAAe,SAM5BX,I","file":"static/js/main.6e749f7e.chunk.js","sourcesContent":["import { Configuration } from \"ion-sdk-js/lib/client.d\";\r\n\r\nexport const config: Configuration = {\r\n    iceServers: [\r\n        {\r\n            urls: \"stun:stun.l.google.com:19302\",\r\n        },\r\n        // {\r\n        //     urls: \"turn:turn.ctosan.xyz:3478\",\r\n        //     username: \"hello\",\r\n        //     credential: \"world\",\r\n        // },\r\n        {\r\n            urls: \"turn:turn.bidcast.online:3478\",\r\n            username: \"hello\",\r\n            credential: \"world\",\r\n        },\r\n    ],\r\n    codec: \"h264\",\r\n};\r\n\r\nexport const webSocketIP = \"wss://ws.bidcast.online/ws\";\r\n\r\nexport const webSocketIPBackup = \"wss://ws.ctosan.xyz/ws\";\r\n","export default __webpack_public_path__ + \"static/media/start.7dbbc8cb.png\";","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { Stage, Layer } from \"react-konva\";\r\nimport { useSpring, animated } from \"@react-spring/konva\";\r\nimport star from \"../assets/start.png\";\r\nimport heart from \"../assets/heart-with-arrow_hires.png\";\r\nimport useImage from \"use-image\";\r\n\r\n// setup pattern & animation field\r\n\r\nfunction Starpop(props) {\r\n    const [image] = useImage(star);\r\n    const p3 = useSpring({\r\n        config: { duration: 5000 },\r\n        from: {\r\n            x: props.width - 50,\r\n            y: props.height - 150,\r\n            rotation: 0,\r\n            opacity: 0.7,\r\n            scaleX: 1,\r\n            scaleY: 1,\r\n        },\r\n        to: {\r\n            config: { duration: 500 },\r\n            x: props.width - 100 + Math.floor(Math.random() * 100),\r\n            y: -100,\r\n            rotation: Math.floor(Math.random() * 350),\r\n            scaleX: 1,\r\n            scaleY: 1,\r\n        },\r\n    });\r\n    return (\r\n        <animated.Image\r\n            key={Math.random()}\r\n            image={image}\r\n            {...p3}\r\n            width={30}\r\n            height={30}\r\n        />\r\n    );\r\n}\r\n\r\nfunction Heartpop(props) {\r\n    const [image] = useImage(heart);\r\n    const p3 = useSpring({\r\n        config: { duration: 5000 },\r\n        from: {\r\n            x: props.width - 100,\r\n            y: props.height - 150,\r\n            rotation: 0,\r\n            opacity: 0.7,\r\n            scaleX: 1,\r\n            scaleY: 1,\r\n        },\r\n        to: {\r\n            config: { duration: 500 },\r\n            x: props.width - 150 + Math.floor(Math.random() * 100),\r\n            y: -100,\r\n            rotation: Math.floor(Math.random() * 350),\r\n            scaleX: 1,\r\n            scaleY: 1,\r\n        },\r\n    });\r\n    return (\r\n        <animated.Image\r\n            key={Math.random()}\r\n            image={image}\r\n            {...p3}\r\n            width={30}\r\n            height={30}\r\n        />\r\n    );\r\n}\r\n\r\nexport function Canvass(props) {\r\n    const [starList, setStar] = useState([]);\r\n    const [heartList, setHeart] = useState([]);\r\n    const starRef = useRef(null);\r\n    const heartRef = useRef(null);\r\n    const width = props.video.current.scrollWidth;\r\n    const height = props.video.current.scrollHeight;\r\n    const onAddBtnClick = (event) => {\r\n        setStar(\r\n            starList.length > 15\r\n                ? starList\r\n                      .splice(1, 15)\r\n                      .concat(\r\n                          <Starpop\r\n                              key={Math.random()}\r\n                              width={width}\r\n                              height={height}\r\n                          />\r\n                      )\r\n                : starList.concat(\r\n                      <Starpop\r\n                          key={Math.random()}\r\n                          width={width}\r\n                          height={height}\r\n                      />\r\n                  )\r\n        );\r\n    };\r\n    const onAddBtn2Click = (event) => {\r\n        setHeart(\r\n            heartList.length > 15\r\n                ? heartList\r\n                      .splice(1, 15)\r\n                      .concat(\r\n                          <Heartpop\r\n                              key={Math.random()}\r\n                              width={width}\r\n                              height={height}\r\n                          />\r\n                      )\r\n                : heartList.concat(\r\n                      <Heartpop\r\n                          key={Math.random()}\r\n                          width={width}\r\n                          height={height}\r\n                      />\r\n                  )\r\n        );\r\n    };\r\n    const starAnimation = useSpring({\r\n        config: { duration: 1000 },\r\n        from: {\r\n            x: props.video.current.scrollWidth - 50,\r\n            y: props.video.current.scrollHeight - 10,\r\n        },\r\n        to: {\r\n            x: props.video.current.scrollWidth - 50,\r\n            y: props.video.current.scrollHeight - 10,\r\n        },\r\n    });\r\n    const heartAnimation = useSpring({\r\n        config: { duration: 1000 },\r\n        from: {\r\n            x: props.video.current.scrollWidth - 100,\r\n            y: props.video.current.scrollHeight - 10,\r\n        },\r\n        to: {\r\n            x: props.video.current.scrollWidth - 100,\r\n            y: props.video.current.scrollHeight - 10,\r\n        },\r\n    });\r\n    useEffect(() => {\r\n        if (props.ws) {\r\n            props.ws.on(\"starOnClick\", () => {\r\n                starRef.current.eventListeners.click[0].handler();\r\n            });\r\n            props.ws.on(\"heartOnClick\", () => {\r\n                heartRef.current.eventListeners.click[0].handler();\r\n            });\r\n        }\r\n    }, [props.ws]);\r\n\r\n    return (\r\n        <Stage\r\n            width={props.video.current.scrollWidth}\r\n            height={props.video.current.scrollHeight - 100}\r\n        >\r\n            <Layer>\r\n                {starList}\r\n                <animated.Image\r\n                    image={\"\"}\r\n                    {...starAnimation}\r\n                    width={30}\r\n                    height={30}\r\n                    onClick={onAddBtnClick}\r\n                    key={1}\r\n                    ref={starRef}\r\n                />\r\n                {heartList}\r\n                <animated.Image\r\n                    image={\"\"}\r\n                    {...heartAnimation}\r\n                    width={30}\r\n                    height={30}\r\n                    onClick={onAddBtn2Click}\r\n                    key={2}\r\n                    ref={heartRef}\r\n                />\r\n            </Layer>\r\n        </Stage>\r\n    );\r\n}\r\n","export default \"data:image/png;base64,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\"","import React, { useEffect, useRef } from \"react\";\r\nimport { Client } from \"ion-sdk-js\";\r\nimport { IonSFUJSONRPCSignal } from \"ion-sdk-js/lib/signal/json-rpc-impl\";\r\nimport { config, webSocketIP } from \"../../configuration/ion-sfu\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../store\";\r\nimport { Canvass } from \"../../pages/LiveStream/components/Konva2\";\r\nimport { Socket } from \"socket.io-client\";\r\n\r\ninterface LiveStreamWindowProps {\r\n    ws: Socket | null;\r\n}\r\n\r\nfunction LiveStreamWindow(props: LiveStreamWindowProps) {\r\n    //Get States\r\n    const subVideo = useRef<HTMLVideoElement>(null);\r\n    let client: Client | null = null;\r\n    let signal: IonSFUJSONRPCSignal | null = null;\r\n    const room: string | null = new URLSearchParams(window.location.search).get(\r\n        \"room\"\r\n    );\r\n    const thumbnail = useSelector(\r\n        (state: RootState) => state.liveStream.liveStreamInfo.thumbnail\r\n    );\r\n    const liveId = useSelector(\r\n        (state: RootState) => state.liveStream.liveStreamInfo.id\r\n    );\r\n    //Get States\r\n\r\n    //WebRTC Setup\r\n    useEffect(() => {\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        signal = new IonSFUJSONRPCSignal(webSocketIP);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        client = new Client(signal, config);\r\n        signal.onopen = () => {\r\n            if (client == null) {\r\n                return;\r\n            }\r\n            client.join(`room ${room}`, \"\");\r\n        };\r\n        let timerId: NodeJS.Timeout = setInterval(() => {}, 10000);\r\n        setTimeout(() => {\r\n            timerId = setInterval(\r\n                () => signal != null && signal.notify(\"method\", \"params\"),\r\n                10000\r\n            );\r\n        }, 10000);\r\n\r\n        client.ontrack = (track, stream) => {\r\n            track.onunmute = () => {\r\n                if (subVideo.current === null) {\r\n                    return;\r\n                }\r\n                subVideo.current.srcObject = stream;\r\n                subVideo.current.controls = true;\r\n                subVideo.current.autoplay = true;\r\n                subVideo.current.muted = false;\r\n\r\n                stream.onremovetrack = () => {\r\n                    if (subVideo.current === null) {\r\n                        return;\r\n                    }\r\n                    subVideo.current.srcObject = null;\r\n                };\r\n            };\r\n        };\r\n\r\n        return clearInterval(timerId);\r\n    }, []);\r\n    //WebRTC Setup\r\n\r\n    //starOnClickHandler\r\n    const starOnClickHandler = () => {\r\n        if (props.ws && liveId !== null) {\r\n            props.ws.emit(\"starOnClick\", liveId);\r\n        }\r\n    };\r\n    const heartOnClickHandler = () => {\r\n        if (props.ws && liveId !== null) {\r\n            props.ws.emit(\"heartOnClick\", liveId);\r\n        }\r\n    };\r\n    //starOnClickHandler\r\n\r\n    return (\r\n        <div className=\"LiveStreamWindow\">\r\n            <div className=\"flex flex-col h-screen relative\">\r\n                <div className=\"video_canvas_combine\">\r\n                    {subVideo.current !== null && (\r\n                        <Canvass video={subVideo} ws={props.ws} />\r\n                    )}\r\n                    <video\r\n                        id=\"subVideo\"\r\n                        poster=\"transparent.png\"\r\n                        className=\"w-100 h-100\"\r\n                        controls\r\n                        ref={subVideo}\r\n                        style={{\r\n                            backgroundImage: `${\r\n                                thumbnail\r\n                                    ? `url(\"${process.env.REACT_APP_BACKEND_URL}/${thumbnail}\")`\r\n                                    : \"\"\r\n                            }`,\r\n                            backgroundRepeat: \"no-repeat\",\r\n                            backgroundSize: \"100% 100%\",\r\n                        }}\r\n                    ></video>\r\n                    <div className=\"star-button\" onClick={starOnClickHandler}>\r\n                        <i className=\"fas fa-star\"></i>\r\n                    </div>\r\n                    <div className=\"heart-button\" onClick={heartOnClickHandler}>\r\n                        <i className=\"fas fa-heart\"></i>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LiveStreamWindow;\r\n","import React from \"react\";\r\n\r\ninterface DescriptionProps {\r\n    description: string;\r\n}\r\n\r\nfunction LiveStreamDescription(props: DescriptionProps) {\r\n    return (\r\n        <div className=\"LiveStreamDescription me-3 p-3 h-75 w-100\">\r\n            {props.description}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LiveStreamDescription;\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Carousel from \"react-tiny-slider\";\r\nimport { TinySliderInstance } from \"tiny-slider\";\r\nimport { RootState } from \"../../store\";\r\nimport { Socket } from \"socket.io-client\";\r\nimport LiveStreamDescription from \"./LiveStreamDescription\";\r\n\r\ninterface LiveStreamControlPanelProps {\r\n    isDesktop: boolean;\r\n    isTablet: boolean;\r\n    ws: Socket | null;\r\n}\r\n\r\nfunction LiveStreamControlPanel(props: LiveStreamControlPanelProps) {\r\n    //Get States\r\n    const carousel = useRef<TinySliderInstance>(null);\r\n    const products = useSelector(\r\n        (state: RootState) =>\r\n            state.liveStream.liveStreamProducts.liveStreamProductsArr\r\n    );\r\n    const liveStreamControlPanelDesktopSetting = { maxHeight: \"600px\" };\r\n    //Get States\r\n\r\n    //Carousel Next Page Handler\r\n    const goNextSlide = (dir: \"next\" | \"prev\") => {\r\n        carousel.current != null && carousel.current.goTo(dir);\r\n    };\r\n    //Carousel Next Page Handler\r\n\r\n    //WebSocket Signal Handler\r\n    useEffect(() => {\r\n        if (props.ws) {\r\n            props.ws.on(\"render\", (productId: number) => {\r\n                let page: number = 0;\r\n                let slideCollection = carousel.current?.getInfo().slideItems;\r\n                if (slideCollection !== undefined) {\r\n                    let slideItems = Array.from(slideCollection);\r\n                    for (let slideItem of slideItems) {\r\n                        if (\r\n                            slideItem.id &&\r\n                            productId ===\r\n                                parseInt(\r\n                                    slideItem.ariaLabel.split(\"card\").join(\"\")\r\n                                )\r\n                        ) {\r\n                            page = parseInt(slideItem.id.split(\"item\")[1]);\r\n                        }\r\n                    }\r\n                }\r\n                carousel.current != null && carousel.current.goTo(page);\r\n            });\r\n        }\r\n    }, [props.ws]);\r\n    //WebSocket Signal Handler\r\n\r\n    return (\r\n        <div className=\"LiveStreamControlPanel rounded my-4\">\r\n            <div\r\n                className=\"row g-0 panel_bar\"\r\n                style={\r\n                    props.isDesktop ? {} : liveStreamControlPanelDesktopSetting\r\n                }\r\n            >\r\n                <div\r\n                    className={`col-12 d-flex d-col carousel position-relative`}\r\n                >\r\n                    {products.length !== 0 ? (\r\n                        products.length > 1 ? (\r\n                            <Carousel\r\n                                swipeAngle={false}\r\n                                items={1}\r\n                                ref={carousel}\r\n                                controls={false}\r\n                                nav={false}\r\n                            >\r\n                                {products.map((product, ind) => (\r\n                                    <div\r\n                                        key={product.id}\r\n                                        className={`carousel_card d-flex align-items-center justify-content-between`}\r\n                                        aria-label={`card${product.id}`}\r\n                                    >\r\n                                        <img\r\n                                            key={product.id}\r\n                                            className={`carousel_img ms-3`}\r\n                                            src={product.productImage}\r\n                                            alt={`pic${product.id}`}\r\n                                        />\r\n                                        <div className=\"product_info mh-100 d-flex flex-column justify-content-center align-items-start\">\r\n                                            <div className=\"product_name\">\r\n                                                <i className=\"fas fa-gift\"></i>{\" \"}\r\n                                                競價項目:\r\n                                                <br />\r\n                                                {product.productName}\r\n                                            </div>\r\n                                            <div className=\"product_price\">\r\n                                                <i className=\"fas fa-chart-line\"></i>{\" \"}\r\n                                                起標價:\r\n                                                <br />${product.minPrice}\r\n                                            </div>\r\n                                        </div>\r\n                                        <LiveStreamDescription\r\n                                            description={\r\n                                                product.description\r\n                                                    ? product.description\r\n                                                    : \"\"\r\n                                            }\r\n                                        />\r\n                                    </div>\r\n                                ))}\r\n                            </Carousel>\r\n                        ) : (\r\n                            <div\r\n                                className={`carousel_card w-100 d-flex align-items-center justify-content-between`}\r\n                                aria-label={`card${products[0].id}`}\r\n                            >\r\n                                <img\r\n                                    key={products[0].id}\r\n                                    className={`carousel_img ms-3`}\r\n                                    src={products[0].productImage}\r\n                                    alt={`pic${products[0].id}`}\r\n                                />\r\n                                <div className=\"product_info mh-100 d-flex flex-column justify-content-center align-items-start\">\r\n                                    <div className=\"product_name\">\r\n                                        <i className=\"fas fa-gift\"></i>{\" \"}\r\n                                        競價項目:\r\n                                        <br />\r\n                                        {products[0].productName}\r\n                                    </div>\r\n                                    <div className=\"product_price\">\r\n                                        <i className=\"fas fa-chart-line\"></i>{\" \"}\r\n                                        起標價:\r\n                                        <br />${products[0].minPrice}\r\n                                    </div>\r\n                                </div>\r\n                                <LiveStreamDescription\r\n                                    description={\r\n                                        products[0].description\r\n                                            ? products[0].description\r\n                                            : \"\"\r\n                                    }\r\n                                />\r\n                            </div>\r\n                        )\r\n                    ) : (\r\n                        <></>\r\n                    )}\r\n                    {products.length > 1 && (\r\n                        <>\r\n                            <button\r\n                                className=\"btn btn-secondary carousel_btn carousel_btn_left\"\r\n                                onClick={() => goNextSlide(\"prev\")}\r\n                            >\r\n                                <i className=\"fas fa-caret-left\"></i>\r\n                            </button>\r\n                            <button\r\n                                className=\"btn btn-secondary carousel_btn carousel_btn_right\"\r\n                                onClick={() => goNextSlide(\"next\")}\r\n                            >\r\n                                <i className=\"fas fa-caret-right\"></i>\r\n                            </button>\r\n                        </>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LiveStreamControlPanel;\r\n","import { RootState, RootThunkDispatch } from \"../../store\";\r\nimport axios from \"axios\";\r\nimport { Socket } from \"socket.io-client\";\r\n\r\nexport interface LiveStreamInfo {\r\n    id: number;\r\n    title: string;\r\n    seller: string;\r\n    sellerId: number;\r\n    sellerImage: string;\r\n    currentViewers: number;\r\n    thumbnail: string;\r\n    description: string;\r\n    success: boolean;\r\n}\r\n\r\nexport interface LiveStreamProduct {\r\n    id: number;\r\n    productName: string;\r\n    minPrice: number;\r\n    buyPrice: number;\r\n    bidIncrement: number;\r\n    productImage: string;\r\n    description?: string;\r\n    categoryId: number;\r\n    success: boolean;\r\n}\r\n\r\nexport interface LiveStreamProductDynamicInfo {\r\n    id: number;\r\n    currentPrice: number;\r\n    isSelected: boolean;\r\n    buyer: string;\r\n    countdownStartTime?: Date;\r\n    countdownEndTime?: Date;\r\n    duration: number;\r\n    success: boolean;\r\n}\r\n\r\ninterface LiveStreamProductAll {\r\n    id: number;\r\n    productName: string;\r\n    minPrice: number;\r\n    buyPrice: number;\r\n    bidIncrement: number;\r\n    productImage: string;\r\n    description?: string;\r\n    categoryId: number;\r\n    currentPrice: number;\r\n    isSelected: boolean;\r\n    buyer: string;\r\n    countdownStartTime?: string;\r\n    countdownEndTime?: string;\r\n    duration: number;\r\n    success: boolean;\r\n}\r\n\r\nexport interface UpdateProduct {\r\n    id: number;\r\n    newPrice?: number;\r\n    countdownStartTime?: string;\r\n    countdownEndTime?: string;\r\n    duration?: number;\r\n    buyer?: string;\r\n    isEnded?: boolean;\r\n    success: boolean;\r\n}\r\n\r\nexport interface ChatMessage {\r\n    id: number;\r\n    username: string;\r\n    profile_pic: string;\r\n    message: string;\r\n    created_at: Date;\r\n}\r\n\r\nexport interface UpdateMessage {\r\n    id: number;\r\n    username: string;\r\n    profile_pic: string;\r\n    message: string;\r\n    created_at: string;\r\n    success: boolean;\r\n}\r\n\r\nexport interface ChatMessagesResponse {\r\n    chatMessages: ChatMessage[];\r\n    success: boolean;\r\n}\r\n\r\nexport interface Recommend {\r\n    title: string;\r\n    image: string;\r\n    buyer_link: string;\r\n    username: string;\r\n}\r\n\r\nexport interface RecommendList {\r\n    results: Recommend[];\r\n    success: boolean;\r\n}\r\n\r\nexport function loadliveStreamInfo(liveStreamInfo: LiveStreamInfo) {\r\n    return {\r\n        type: \"@@liveStream/LOAD_LIVE_STREAM_INFO\" as const,\r\n        liveStreamInfo,\r\n    };\r\n}\r\n\r\nexport function loadLiveStreamProducts(\r\n    liveStreamProducts: LiveStreamProduct[],\r\n    success: boolean\r\n) {\r\n    return {\r\n        type: \"@@liveStream/LOAD_LIVE_STREAM_PRODUCTS\" as const,\r\n        liveStreamProducts,\r\n        success,\r\n    };\r\n}\r\n\r\nexport function loadLiveStreamProductsDynamicInfo(\r\n    liveStreamProductsDynamicInfo: LiveStreamProductDynamicInfo[],\r\n    success: boolean\r\n) {\r\n    return {\r\n        type: \"@@liveStream/LOAD_LIVE_STREAM_PRODUCTS_DYNAMIC_INFO\" as const,\r\n        liveStreamProductsDynamicInfo,\r\n        success,\r\n    };\r\n}\r\n\r\nexport function selectProduct(id: number) {\r\n    return {\r\n        type: \"@@liveStream/SELECT_PRODUCT\" as const,\r\n        id,\r\n    };\r\n}\r\n\r\nexport function bidIncrement(id: number, newPrice: number, buyer: string) {\r\n    return {\r\n        type: \"@@liveStream/BID_INCREMENT\" as const,\r\n        id,\r\n        newPrice,\r\n        buyer,\r\n    };\r\n}\r\n\r\nexport function updateProductTime(id: number, endTime: Date) {\r\n    return {\r\n        type: \"@@liveStream/UPDATE_PRODUCT_TIME\" as const,\r\n        id,\r\n        endTime,\r\n    };\r\n}\r\n\r\nexport function loadChatMessages(\r\n    chatMessages: ChatMessage[],\r\n    success: boolean\r\n) {\r\n    return {\r\n        type: \"@@liveStream/LOAD_CHAT_MESSAGES\" as const,\r\n        chatMessages,\r\n        success,\r\n    };\r\n}\r\n\r\nexport function sendChatMessages(chatMessage: UpdateMessage) {\r\n    return {\r\n        type: \"@@liveStream/SEND_CHAT_MESSAGE\" as const,\r\n        chatMessage,\r\n    };\r\n}\r\n\r\nexport function loadRecommendList(\r\n    recommendList: Recommend[],\r\n    success: boolean\r\n) {\r\n    return {\r\n        type: \"@@liveStream/LOAD_RECOMMEND_LISTS\" as const,\r\n        recommendList,\r\n        success,\r\n    };\r\n}\r\n\r\nexport function changeDummy() {\r\n    return {\r\n        type: \"@@liveStream/CHANGE_DUMMY\" as const,\r\n    };\r\n}\r\n\r\nexport function resetLiveId() {\r\n    return {\r\n        type: \"@@liveStream/RESET_LIVE_ID\" as const,\r\n    };\r\n}\r\n\r\nexport type LiveStreamActions =\r\n    | ReturnType<typeof loadliveStreamInfo>\r\n    | ReturnType<typeof loadLiveStreamProducts>\r\n    | ReturnType<typeof loadLiveStreamProductsDynamicInfo>\r\n    | ReturnType<typeof bidIncrement>\r\n    | ReturnType<typeof selectProduct>\r\n    | ReturnType<typeof updateProductTime>\r\n    | ReturnType<typeof loadChatMessages>\r\n    | ReturnType<typeof sendChatMessages>\r\n    | ReturnType<typeof loadRecommendList>\r\n    | ReturnType<typeof changeDummy>\r\n    | ReturnType<typeof resetLiveId>;\r\n\r\nexport function fetchliveStreamInfo(room: string, token: string) {\r\n    return async (dispatch: RootThunkDispatch, getState: () => RootState) => {\r\n        try {\r\n            const res = await axios.get<LiveStreamInfo>(\r\n                `${process.env.REACT_APP_BACKEND_URL}/liveStream/info?room=${room}&token=${token}`\r\n            );\r\n\r\n            if (res.data.success) {\r\n                dispatch(loadliveStreamInfo(res.data));\r\n            } else {\r\n                dispatch(\r\n                    loadliveStreamInfo({\r\n                        id: -1,\r\n                        title: \"Error\",\r\n                        seller: \"Error\",\r\n                        sellerId: 0,\r\n                        sellerImage: \"defaultUser.png\",\r\n                        currentViewers: 0,\r\n                        thumbnail: \"\",\r\n                        description: \"\",\r\n                        success: false,\r\n                    })\r\n                );\r\n            }\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n}\r\n\r\nexport function fetchliveStreamProducts(liveId: number, isFull: boolean) {\r\n    return async (dispatch: RootThunkDispatch, getState: () => RootState) => {\r\n        try {\r\n            const res = await axios.get<{\r\n                liveStreamProducts: LiveStreamProductAll[];\r\n                success: boolean;\r\n            }>(\r\n                `${process.env.REACT_APP_BACKEND_URL}/liveStream/products?liveId=${liveId}`\r\n            );\r\n\r\n            if (res.data.success) {\r\n                const liveStreamProducts: LiveStreamProduct[] = [];\r\n                const liveStreamProductsDynamicInfo: LiveStreamProductDynamicInfo[] =\r\n                    [];\r\n                for (let product of res.data.liveStreamProducts) {\r\n                    let productObj: LiveStreamProduct = {\r\n                        id: 0,\r\n                        productName: \"\",\r\n                        minPrice: 0,\r\n                        buyPrice: 0,\r\n                        bidIncrement: 0,\r\n                        productImage: \"\",\r\n                        description: \"\",\r\n                        categoryId: 0,\r\n                        success: false,\r\n                    };\r\n                    let productObjDynamic: LiveStreamProductDynamicInfo = {\r\n                        id: 0,\r\n                        currentPrice: 0,\r\n                        isSelected: false,\r\n                        buyer: \"\",\r\n                        duration: 0,\r\n                        success: false,\r\n                    };\r\n\r\n                    productObj.id = product.id;\r\n                    productObjDynamic.id = product.id;\r\n                    productObj.productName = product.productName;\r\n                    productObj.minPrice = product.minPrice;\r\n                    productObjDynamic.currentPrice = product.currentPrice;\r\n                    productObj.buyPrice = product.buyPrice;\r\n                    productObj.bidIncrement = product.bidIncrement;\r\n                    productObj.productImage = product.productImage;\r\n                    productObjDynamic.isSelected = product.isSelected;\r\n                    productObjDynamic.duration = product.duration;\r\n                    if (product.countdownEndTime) {\r\n                        productObjDynamic.countdownEndTime = new Date(\r\n                            Date.parse(product.countdownEndTime)\r\n                        );\r\n                    }\r\n                    productObj.description = product.description;\r\n                    productObj.categoryId = product.categoryId;\r\n                    productObjDynamic.buyer = product.buyer;\r\n                    liveStreamProducts.push(productObj);\r\n                    liveStreamProductsDynamicInfo.push(productObjDynamic);\r\n                }\r\n\r\n                if (isFull) {\r\n                    dispatch(\r\n                        loadLiveStreamProducts(\r\n                            liveStreamProducts,\r\n                            res.data.success\r\n                        )\r\n                    );\r\n                }\r\n\r\n                dispatch(\r\n                    loadLiveStreamProductsDynamicInfo(\r\n                        liveStreamProductsDynamicInfo,\r\n                        res.data.success\r\n                    )\r\n                );\r\n            } else {\r\n                dispatch(loadLiveStreamProducts([], false));\r\n                dispatch(loadLiveStreamProductsDynamicInfo([], false));\r\n            }\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n}\r\n\r\nexport function fetchBidIncrement(\r\n    productId: number,\r\n    bidAmount: number,\r\n    ws: Socket,\r\n    liveId: number,\r\n    addCurrentPrice: boolean\r\n) {\r\n    return async (dispatch: RootThunkDispatch, getState: () => RootState) => {\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n\r\n            if (token == null) {\r\n                return;\r\n            }\r\n\r\n            const res = await axios.put<UpdateProduct>(\r\n                `${process.env.REACT_APP_BACKEND_URL}/liveStream/products/currentPrice`,\r\n                {\r\n                    productId,\r\n                    bidAmount,\r\n                    addCurrentPrice,\r\n                },\r\n                {\r\n                    headers: {\r\n                        Authorization: \"Bearer \" + token,\r\n                    },\r\n                }\r\n            );\r\n            if (res.data.success) {\r\n                if (res.data.newPrice && res.data.buyer) {\r\n                    dispatch(\r\n                        bidIncrement(\r\n                            productId,\r\n                            res.data.newPrice,\r\n                            res.data.buyer\r\n                        )\r\n                    );\r\n                    if (ws) {\r\n                        ws.emit(\"updateCurrentPrice\", liveId, res.data.isEnded);\r\n                    }\r\n                }\r\n            } else {\r\n                if (ws) {\r\n                    ws.emit(\"updateCurrentPriceFail\", res.data.newPrice);\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n}\r\n\r\nexport function fetchSelectedProduct(\r\n    productId: number,\r\n    ws: Socket,\r\n    liveId: number\r\n) {\r\n    return async (dispatch: RootThunkDispatch, getState: () => RootState) => {\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n\r\n            if (token == null) {\r\n                return;\r\n            }\r\n\r\n            let liveStreamProductsArrDynamic =\r\n                getState().liveStream.liveStreamProducts\r\n                    .liveStreamProductsArrDynamic;\r\n            let now = new Date();\r\n            let isBidding = false;\r\n            for (let product of liveStreamProductsArrDynamic) {\r\n                if (\r\n                    product.countdownEndTime &&\r\n                    now <= product.countdownEndTime\r\n                ) {\r\n                    isBidding = true;\r\n                }\r\n            }\r\n\r\n            if (!isBidding) {\r\n                const res = await axios.put<UpdateProduct>(\r\n                    `${process.env.REACT_APP_BACKEND_URL}/liveStream/products/isSelected`,\r\n                    {\r\n                        productId,\r\n                    },\r\n                    {\r\n                        headers: {\r\n                            Authorization: \"Bearer \" + token,\r\n                        },\r\n                    }\r\n                );\r\n\r\n                if (res.data.success) {\r\n                    dispatch(selectProduct(res.data.id));\r\n                    if (ws) {\r\n                        ws.emit(\"render\", [liveId, productId]);\r\n                    }\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n}\r\n\r\nexport function fetchProductTime(\r\n    productId: number,\r\n    seconds: number,\r\n    setTimerId: React.Dispatch<React.SetStateAction<number>>,\r\n    ws: Socket,\r\n    liveId: number\r\n) {\r\n    return async (dispatch: RootThunkDispatch, getState: () => RootState) => {\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n\r\n            if (token == null) {\r\n                return;\r\n            }\r\n\r\n            const res = await axios.put<UpdateProduct>(\r\n                `${process.env.REACT_APP_BACKEND_URL}/liveStream/products/productTime`,\r\n                {\r\n                    productId,\r\n                    seconds,\r\n                },\r\n                {\r\n                    headers: {\r\n                        Authorization: \"Bearer \" + token,\r\n                    },\r\n                }\r\n            );\r\n\r\n            if (res.data.success) {\r\n                if (res.data.countdownEndTime) {\r\n                    dispatch(\r\n                        updateProductTime(\r\n                            res.data.id,\r\n                            new Date(Date.parse(res.data.countdownEndTime))\r\n                        )\r\n                    );\r\n                    setTimerId(0);\r\n                    if (ws) {\r\n                        ws.emit(\"startBid\", liveId);\r\n                    }\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n}\r\n\r\nexport function fetchInitialChatMessages(liveId: number) {\r\n    return async (dispatch: RootThunkDispatch, getState: () => RootState) => {\r\n        try {\r\n            const res = await axios.get<ChatMessagesResponse>(\r\n                `${process.env.REACT_APP_BACKEND_URL}/liveStream/chatMessage?liveId=${liveId}`\r\n            );\r\n            if (res.data.success) {\r\n                dispatch(\r\n                    loadChatMessages(res.data.chatMessages, res.data.success)\r\n                );\r\n            }\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n}\r\n\r\nexport function fetchChatMessages(\r\n    ws: Socket,\r\n    liveId: number,\r\n    message: string = \"\"\r\n) {\r\n    return async (dispatch: RootThunkDispatch, getState: () => RootState) => {\r\n        try {\r\n            if (message === \"\") {\r\n                return;\r\n            }\r\n            const token = localStorage.getItem(\"token\");\r\n\r\n            if (token == null) {\r\n                return;\r\n            }\r\n\r\n            const res = await axios.post<UpdateMessage>(\r\n                `${process.env.REACT_APP_BACKEND_URL}/liveStream/chatMessage`,\r\n                { liveId, message },\r\n                {\r\n                    headers: {\r\n                        Authorization: \"Bearer \" + token,\r\n                    },\r\n                }\r\n            );\r\n\r\n            if (res.data.success) {\r\n                if (ws) {\r\n                    ws.emit(\r\n                        \"sendMessage\",\r\n                        liveId.toString() + \"chatroom\",\r\n                        res.data\r\n                    );\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n}\r\n\r\nexport function fetchSameCategoryLive(\r\n    liveId: number,\r\n    categoryIdSet: Set<number>,\r\n    setIsLoading: React.Dispatch<React.SetStateAction<boolean>>\r\n) {\r\n    return async (dispatch: RootThunkDispatch, getState: () => RootState) => {\r\n        try {\r\n            const categoryIdArr = Array.from(categoryIdSet);\r\n            let categoryId = categoryIdArr.join(\",\");\r\n            if (categoryId === \"\") {\r\n                return;\r\n            }\r\n            const res = await axios.get<RecommendList>(\r\n                `${process.env.REACT_APP_BACKEND_URL}/liveStream/otherLives?category=${categoryId}&liveId=${liveId}`\r\n            );\r\n            if (res.data.success) {\r\n                dispatch(loadRecommendList(res.data.results, res.data.success));\r\n                window.setTimeout(() => {\r\n                    setIsLoading(false);\r\n                }, 200);\r\n            }\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n}\r\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport CustomScroll from \"react-custom-scroll\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { io, Socket } from \"socket.io-client\";\r\nimport {\r\n    fetchChatMessages,\r\n    sendChatMessages,\r\n    UpdateMessage,\r\n} from \"../../redux/LiveStream/actions\";\r\nimport { RootState } from \"../../store\";\r\n\r\ninterface LiveStreamChatRoomProps {\r\n    liveStreamRef: React.RefObject<HTMLDivElement>;\r\n    isTablet: boolean;\r\n}\r\n\r\nfunction getRandomColor() {\r\n    var letters = \"456789ABCDEF\".split(\"\");\r\n    var color = \"#\";\r\n    for (var i = 0; i < 6; i++) {\r\n        color += letters[Math.floor(Math.random() * letters.length)];\r\n    }\r\n    return color;\r\n}\r\n\r\nfunction LiveStreamChatRoom(props: LiveStreamChatRoomProps) {\r\n    //Get States\r\n    const dispatch = useDispatch();\r\n    const [inputMessage, setInputMessage] = useState<string>(\"\");\r\n    const liveId = useSelector(\r\n        (state: RootState) => state.liveStream.liveStreamInfo.id\r\n    );\r\n    const messages = useSelector(\r\n        (state: RootState) => state.liveStream.chat.chatMessages\r\n    );\r\n    const [color, setColor] = useState<string[]>([\"#000000\"]);\r\n    useEffect(() => {\r\n        let colorArr = [];\r\n        for (let ind = 0; ind < 10; ind++) {\r\n            colorArr.push(getRandomColor());\r\n        }\r\n        setColor(colorArr);\r\n    }, []);\r\n    const isAuthenticate = useSelector(\r\n        (state: RootState) => state.user.isAuthenticate\r\n    );\r\n\r\n    //Get States\r\n\r\n    //Scroll button\r\n    const messagesRef = useRef<HTMLDivElement>(null);\r\n    const [isVisible, setIsVisible] = useState<boolean>(false);\r\n\r\n    const scrollHandler = (event: React.UIEvent<HTMLDivElement>) => {\r\n        const containerHeight = event.currentTarget.clientHeight;\r\n        const scrollHeight = event.currentTarget.scrollHeight;\r\n\r\n        const scrollTop = event.currentTarget.scrollTop;\r\n        setIsVisible(scrollTop + containerHeight < scrollHeight ? true : false);\r\n    };\r\n\r\n    const scrollToBottom = () => {\r\n        messagesRef.current?.parentElement?.parentElement?.scrollTo({\r\n            top: messagesRef.current?.scrollHeight,\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        scrollToBottom();\r\n    }, []);\r\n    //Scroll button\r\n\r\n    //Drag function\r\n    const [size, setSize] = useState<number>(0);\r\n    const dragRef = useRef<HTMLDivElement>(null);\r\n\r\n    const dragHandler = useCallback(() => {\r\n        function onMouseMove(e: MouseEvent) {\r\n            setSize((currentSize) => currentSize + e.movementY);\r\n        }\r\n        function onMouseUp() {\r\n            props.liveStreamRef?.current?.removeEventListener(\r\n                \"mousemove\",\r\n                onMouseMove\r\n            );\r\n            props.liveStreamRef?.current?.removeEventListener(\r\n                \"mouseup\",\r\n                onMouseUp\r\n            );\r\n        }\r\n        props.liveStreamRef?.current?.addEventListener(\r\n            \"mousemove\",\r\n            onMouseMove\r\n        );\r\n        props.liveStreamRef?.current?.addEventListener(\"mouseup\", onMouseUp);\r\n    }, [props.liveStreamRef]);\r\n    //Drag function\r\n\r\n    //Chatroom mobile mode resize\r\n    function getWindowDimensions() {\r\n        const { innerWidth: width, innerHeight: height } = window;\r\n        return {\r\n            width,\r\n            height,\r\n        };\r\n    }\r\n\r\n    const [windowDimensions, setWindowDimensions] = useState(\r\n        getWindowDimensions()\r\n    );\r\n\r\n    useEffect(() => {\r\n        function handleResize() {\r\n            setWindowDimensions(getWindowDimensions());\r\n        }\r\n\r\n        window.addEventListener(\"resize\", handleResize);\r\n        return () => window.removeEventListener(\"resize\", handleResize);\r\n    }, []);\r\n    //Chatroom mobile mode resize\r\n\r\n    //Send Message Handler\r\n    const sendMessageHandler = (inputMessage: string) => {\r\n        if (ws) {\r\n            dispatch(fetchChatMessages(ws, liveId, inputMessage));\r\n        }\r\n    };\r\n    //Send Message Handler\r\n\r\n    //WebSocket Signal Handler\r\n    const [ws, setWs] = useState<Socket | null>(null);\r\n\r\n    useEffect(() => {\r\n        const connectWebSocket = () => {\r\n            if (process.env.REACT_APP_BACKEND_URL !== undefined) {\r\n                setWs(io(process.env.REACT_APP_BACKEND_URL));\r\n            }\r\n        };\r\n\r\n        if (liveId > 0 && ws === null) {\r\n            connectWebSocket();\r\n        }\r\n\r\n        if (ws && liveId > 0) {\r\n            const initWebSocket = () => {\r\n                if (ws) {\r\n                    ws.emit(\"joinRoom\", liveId.toString() + \"chatroom\");\r\n                    ws.on(\"sendMessage\", (message: UpdateMessage) => {\r\n                        dispatch(sendChatMessages(message));\r\n                    });\r\n                }\r\n            };\r\n            initWebSocket();\r\n        }\r\n    }, [dispatch, ws, liveId]);\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            ws?.close();\r\n        };\r\n    }, [ws]);\r\n\r\n    return (\r\n        <div className=\"LiveStreamChatRoom\">\r\n            <div\r\n                className=\"LiveStreamChatRoomMainBody p-3\"\r\n                style={\r\n                    props.isTablet\r\n                        ? { height: `${658 + size}px`, minHeight: \"200px\" }\r\n                        : {\r\n                              height: `${\r\n                                  windowDimensions.height -\r\n                                  windowDimensions.width / 2 -\r\n                                  175\r\n                              }px`,\r\n                          }\r\n                }\r\n            >\r\n                <div className=\"chat\">\r\n                    <div className=\"head text-center\">聊天室</div>\r\n                    <CustomScroll\r\n                        className=\"customScroll\"\r\n                        keepAtBottom={true}\r\n                        onScroll={scrollHandler}\r\n                    >\r\n                        <div\r\n                            className=\"messages\"\r\n                            style={\r\n                                props.isTablet\r\n                                    ? {\r\n                                          height: `${535 + size}px`,\r\n                                          minHeight: \"77px\",\r\n                                      }\r\n                                    : {\r\n                                          height: `${\r\n                                              windowDimensions.height -\r\n                                              windowDimensions.width / 2 -\r\n                                              300\r\n                                          }px`,\r\n                                      }\r\n                            }\r\n                            ref={messagesRef}\r\n                        >\r\n                            {messages.map((m, i) => (\r\n                                <div\r\n                                    key={i}\r\n                                    className={`msg${\r\n                                        i % 2 !== 0 ? \" dark\" : \"\"\r\n                                    } pe-3 mt-1 mx-1 d-flex`}\r\n                                >\r\n                                    <img\r\n                                        className=\"chat_propic rounded-circle me-1\"\r\n                                        src={`${\r\n                                            m.profile_pic.search(\r\n                                                /(https:\\/\\/)|(http:\\/\\/)/i\r\n                                            ) < 0\r\n                                                ? process.env\r\n                                                      .REACT_APP_BACKEND_URL +\r\n                                                  \"/\" +\r\n                                                  m.profile_pic\r\n                                                : m.profile_pic\r\n                                        }`}\r\n                                        alt={`profile pic ${m.username}`}\r\n                                    />\r\n                                    <div>\r\n                                        <span\r\n                                            className=\"chat_username me-2\"\r\n                                            style={{\r\n                                                color: color[\r\n                                                    m.username.length %\r\n                                                        color.length\r\n                                                ],\r\n                                            }}\r\n                                        >\r\n                                            {m.username}\r\n                                        </span>\r\n                                        {m.message}\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </CustomScroll>\r\n                    <div className=\"dummyLayer\">\r\n                        {isVisible && (\r\n                            <button\r\n                                className=\"scrollToBottom btn btn-primary rounded-circle\"\r\n                                onClick={scrollToBottom}\r\n                                style={{}}\r\n                            >\r\n                                <i className=\"fas fa-arrow-down\"></i>\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                    {isAuthenticate ? (\r\n                        <div className=\"footer d-flex mb-3\">\r\n                            <input\r\n                                className=\"inputBox w-100\"\r\n                                type=\"text\"\r\n                                placeholder=\"請在此輸入留言...\"\r\n                                value={inputMessage}\r\n                                onChange={(\r\n                                    e: React.ChangeEvent<HTMLInputElement>\r\n                                ) => setInputMessage(e.target.value)}\r\n                                onKeyDown={(\r\n                                    e: React.KeyboardEvent<HTMLInputElement>\r\n                                ) => {\r\n                                    if (e.key === \"Enter\") {\r\n                                        sendMessageHandler(inputMessage);\r\n                                        setInputMessage(\"\");\r\n                                    }\r\n                                }}\r\n                            />\r\n                            <div className=\"position-relative\">\r\n                                <button\r\n                                    className=\"sendBtn ripple\"\r\n                                    onClick={() => {\r\n                                        sendMessageHandler(inputMessage);\r\n                                        setInputMessage(\"\");\r\n                                    }}\r\n                                >\r\n                                    <i className=\"fas fa-paper-plane\"></i>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"login_message mt-2 text-center\">\r\n                            需先登入才可留言\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n            {props.isTablet && (\r\n                <div\r\n                    className=\"dragBtn text-center px-3\"\r\n                    ref={dragRef}\r\n                    onMouseDown={dragHandler}\r\n                >\r\n                    <i className=\"fas fa-arrows-alt-v\"></i>{\" \"}\r\n                    按此拉動滑鼠調整聊天室長度\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LiveStreamChatRoom;\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { changeDummy } from \"../../redux/LiveStream/actions\";\r\nimport { RootState } from \"../../store\";\r\nimport { Recommend } from \"../../redux/LiveStream/actions\";\r\n\r\ninterface LiveStreamRecommendProps {\r\n    setIsLoading: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nfunction LiveStreamRecommend(props: LiveStreamRecommendProps) {\r\n    const dispatch = useDispatch();\r\n\r\n    const recommendList = useSelector(\r\n        (state: RootState) => state.liveStream.recommendList.results\r\n    );\r\n\r\n    const recommendListCopy = [...recommendList];\r\n    let len = recommendListCopy.length;\r\n    const recommendation: Recommend[] = [];\r\n    for (let ind = 0; ind < Math.min(10, len); ind++) {\r\n        recommendation.push(\r\n            recommendListCopy.splice(\r\n                Math.floor(Math.random() * recommendListCopy.length),\r\n                1\r\n            )[0]\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"LiveStreamRecommend my-3\">\r\n            {recommendation.map((item, ind) => (\r\n                <div\r\n                    className=\"recommendAuction m-3 d-flex flex-row justify-content-between align-items-start\"\r\n                    key={ind}\r\n                    onClick={() => {\r\n                        window.history.pushState(\r\n                            null,\r\n                            \"\",\r\n                            `${process.env.REACT_APP_FRONTEND_URL}/liveStreaming?room=${item.buyer_link}`\r\n                        );\r\n                        dispatch(changeDummy());\r\n                        props.setIsLoading(true);\r\n                    }}\r\n                >\r\n                    <img\r\n                        className=\"thumbnail mb-3\"\r\n                        src={`${process.env.REACT_APP_BACKEND_URL}/${item.image}`}\r\n                        alt=\"recommendAuction\"\r\n                    />\r\n                    <div className=\"info d-flex flex-column h-100 justify-content-between\">\r\n                        <div className=\"title text-start ms-3 mt-3\">\r\n                            {item.title}\r\n                        </div>\r\n                        <div className=\"username text-start ms-3 mt-3\">\r\n                            {item.username}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LiveStreamRecommend;\r\n","import produce from \"immer\";\r\nimport {\r\n    UserActions,\r\n    AuthActions,\r\n    FollowerActions,\r\n    FollowingActions,\r\n    sellerFollowerActions,\r\n    UserCardInfo,\r\n} from \"./actions\";\r\nimport jwt, { JwtPayload, VerifyOptions } from \"jsonwebtoken\";\r\n\r\nexport interface UserState {\r\n    isAuthenticate: boolean;\r\n    // userId: string | null;\r\n    token: string | null;\r\n}\r\n\r\nconst initialState: UserState = {\r\n    isAuthenticate: false,\r\n    // userId: null,\r\n    token: null,\r\n};\r\n\r\nconst loadTokenInitalState: AuthState = {\r\n    user: {},\r\n    error: \"\",\r\n};\r\n\r\nexport type AuthState = {\r\n    user?: JWTPayload | string;\r\n    error?: string;\r\n};\r\n\r\nexport type JWTPayload = {\r\n    id?: number;\r\n    username?: string;\r\n    email?: string;\r\n    role_id?: number;\r\n    created_at?: Date;\r\n    updated_at?: Date;\r\n    profile_pic?: string;\r\n    status_id?: number;\r\n    phone_number?: string;\r\n    telegram_acct?: string;\r\n    telegram_is_verified?: boolean;\r\n    telegram_chat_id?: number;\r\n    login_method_id?: number;\r\n    description?: string;\r\n};\r\nexport interface sellerFollowerState {\r\n    sellerId: number[];\r\n    liveRecord: number[];\r\n}\r\nexport interface FollowerState {\r\n    userId: number[];\r\n    userDetails: UserCardInfo[];\r\n    success: boolean;\r\n}\r\n\r\nexport interface FollowingState {\r\n    userId: number[];\r\n    userDetails: UserCardInfo[];\r\n    success: boolean;\r\n}\r\nconst sellerFollowerInitalState: sellerFollowerState = {\r\n    sellerId: [],\r\n    liveRecord: []\r\n}\r\n\r\nconst followerInitalState: FollowerState = {\r\n    userId: [],\r\n    userDetails: [],\r\n    success: false,\r\n};\r\nconst followingInitalState: FollowingState = {\r\n    userId: [],\r\n    userDetails: [],\r\n    success: false,\r\n};\r\n\r\nexport function sellerFollowerReducer(\r\n    state: sellerFollowerState = sellerFollowerInitalState,\r\n    action: sellerFollowerActions\r\n): sellerFollowerState {\r\n    return produce(state, (newState) => {\r\n        if (action.type === \"@@sellerFollower/LOAD_SELLERFOLLOWER\") {\r\n            newState.sellerId = action.sellerId;\r\n            newState.liveRecord = action.liveRecord;\r\n        }\r\n    });\r\n}\r\n\r\nexport function followerReducer(\r\n    state: FollowerState = followerInitalState,\r\n    action: FollowerActions\r\n): FollowerState {\r\n    return produce(state, (newState) => {\r\n        switch (action.type) {\r\n            case \"@@follower/LOAD_FOLLOWER\":\r\n                newState.userId = action.userId;\r\n                newState.success = action.success;\r\n                break;\r\n            case \"@@follower/LOAD_FOLLOWER_DETAILS\":\r\n                newState.userDetails = action.userDetails;\r\n                break;\r\n        }\r\n    });\r\n}\r\nexport function followingReducer(\r\n    state: FollowingState = followingInitalState,\r\n    action: FollowingActions\r\n): FollowingState {\r\n    return produce(state, (newState) => {\r\n        switch (action.type) {\r\n            case \"@@following/LOAD_FOLLOWING\":\r\n                newState.userId = action.userId;\r\n                newState.success = action.success;\r\n                break;\r\n            case \"@@following/LOAD_FOLLOWING_DETAILS\":\r\n                newState.userDetails = action.userDetails;\r\n                break;\r\n        }\r\n    });\r\n}\r\n\r\nexport function userReducer(\r\n    state: UserState = initialState,\r\n    action: UserActions\r\n): UserState {\r\n    return produce(state, (state) => {\r\n        if (action.type === \"@@user/LOGIN\") {\r\n            state.token = action.token;\r\n            state.isAuthenticate = true;\r\n        } else if (action.type === \"@@user/LOGOUT\") {\r\n            state.token = null;\r\n            state.isAuthenticate = false;\r\n        }\r\n    });\r\n}\r\n\r\nexport let authReducer = (\r\n    state: AuthState = loadTokenInitalState,\r\n    action: AuthActions\r\n): AuthState => {\r\n    return produce(state, (state) => {\r\n        switch (action.type) {\r\n            case \"@@Auth/load_token\":\r\n                try {\r\n                    const verifyOptions: VerifyOptions = {\r\n                        maxAge: \"12h\",\r\n                        algorithms: [\"RS512\"],\r\n                    };\r\n\r\n                    let publicKey = process.env.REACT_APP_PUBLIC_KEY!.replace(\r\n                        /\\\\n/g,\r\n                        \"\\n\"\r\n                    );\r\n                    let payload: string | JwtPayload | any = jwt.verify(\r\n                        action.token,\r\n                        publicKey,\r\n                        verifyOptions\r\n                    );\r\n                    // console.log('payload= ', payload)\r\n                    const user: JWTPayload = {\r\n                        id: payload.id,\r\n                        username: payload.username,\r\n                        email: payload.email,\r\n                        created_at: payload.created_at,\r\n                        login_method_id: payload.login_method_id,\r\n                        phone_number: payload.phone_number,\r\n                        profile_pic: payload.profile_pic,\r\n                        role_id: payload.role_id,\r\n                        status_id: payload.status_id,\r\n                        telegram_acct: payload.telegram_acct,\r\n                        telegram_chat_id: payload.telegram_chat_id,\r\n                        telegram_is_verified: payload.telegram_is_verified,\r\n                        updated_at: payload.updated_at,\r\n                        description: payload.description,\r\n                    };\r\n                    return {\r\n                        user,\r\n                        error: undefined,\r\n                    };\r\n                } catch (error) {\r\n                    return {\r\n                        error: \"invalid JWT Token\",\r\n                        user: undefined,\r\n                    };\r\n                }\r\n            default:\r\n                return state;\r\n        }\r\n    });\r\n};\r\n","// import produce from \"immer\";\r\nimport { CreateBids,createBidsActions } from \"./actions\";\r\n\r\n\r\n\r\n  const initialState:CreateBids = {\r\n      bids: []\r\n  }\r\n\r\n  export function createBidsReducer(state: CreateBids = initialState): CreateBids {\r\n      return initialState;\r\n  }\r\n\r\n\r\n  ","import produce from \"immer\";\r\nimport { Category, Product, ProductsActions } from \"./actions\";\r\n\r\nexport interface ProductsState {\r\n    products: {\r\n        [id: string]: Product;\r\n    };\r\n    categories: {\r\n        [id: string]: Category;\r\n    };\r\n}\r\n\r\nconst initialState: ProductsState = {\r\n    products: {},\r\n    categories: {\r\n        // '1': {\r\n        //   id: 1,\r\n        //   name: '電子產品',\r\n        //   order: 99,\r\n        //   productIds: [1, 2]\r\n        // },\r\n        // '2': {\r\n        //   id: 1,\r\n        //   name: '時尚服飾',\r\n        //   order: 1,\r\n        //   productIds: [3, 4]\r\n        // },\r\n    },\r\n};\r\n\r\nexport function productsReducer(\r\n    state: ProductsState = initialState,\r\n    action: ProductsActions\r\n): ProductsState {\r\n    //fetch ser 拎 categories data\r\n\r\n    return produce(state, (newState) => {\r\n\r\n        switch (action.type) {\r\n            case \"@@products/LOAD_CATEGORIES\":\r\n                for (let category of action.categories) {\r\n                    newState.categories[category.id] = category;\r\n                }\r\n                break;\r\n            //fetch ser 拎 products data\r\n        }\r\n    });\r\n}\r\n","import {\r\n    ChatMessage,\r\n    LiveStreamActions,\r\n    LiveStreamInfo,\r\n    LiveStreamProduct,\r\n    LiveStreamProductDynamicInfo,\r\n    Recommend,\r\n} from \"./actions\";\r\nimport produce from \"immer\";\r\n\r\nexport interface LiveStreamState {\r\n    liveStreamInfo: LiveStreamInfo;\r\n    liveStreamProducts: {\r\n        liveStreamProductsArr: LiveStreamProduct[];\r\n        liveStreamProductsArrDynamic: LiveStreamProductDynamicInfo[];\r\n        success: boolean;\r\n    };\r\n    chat: {\r\n        chatMessages: ChatMessage[];\r\n        success: boolean;\r\n    };\r\n    recommendList: {\r\n        results: Recommend[];\r\n        success: boolean;\r\n    };\r\n    dummy: number;\r\n}\r\n\r\nconst initialState: LiveStreamState = {\r\n    liveStreamInfo: {\r\n        id: 0,\r\n        title: \"Loading...\",\r\n        seller: \"Loading...\",\r\n        sellerId: 0,\r\n        sellerImage: \"defaultUser.png\",\r\n        currentViewers: 0,\r\n        thumbnail: \"\",\r\n        description: \"description\",\r\n        success: true,\r\n    },\r\n    liveStreamProducts: {\r\n        liveStreamProductsArr: [],\r\n        liveStreamProductsArrDynamic: [],\r\n        success: true,\r\n    },\r\n    chat: {\r\n        chatMessages: [],\r\n        success: false,\r\n    },\r\n    recommendList: {\r\n        results: [],\r\n        success: false,\r\n    },\r\n    dummy: 0,\r\n};\r\n\r\nexport function liveStreamReducer(\r\n    state: LiveStreamState = initialState,\r\n    action: LiveStreamActions\r\n): LiveStreamState {\r\n    return produce(state, (newState) => {\r\n        switch (action.type) {\r\n            case \"@@liveStream/LOAD_LIVE_STREAM_INFO\":\r\n                newState.liveStreamInfo = action.liveStreamInfo;\r\n                break;\r\n            case \"@@liveStream/LOAD_LIVE_STREAM_PRODUCTS\":\r\n                newState.liveStreamProducts.liveStreamProductsArr =\r\n                    action.liveStreamProducts.sort((a, b) => b.id - a.id);\r\n                newState.liveStreamProducts.success = action.success;\r\n                break;\r\n            case \"@@liveStream/LOAD_LIVE_STREAM_PRODUCTS_DYNAMIC_INFO\":\r\n                newState.liveStreamProducts.liveStreamProductsArrDynamic =\r\n                    action.liveStreamProductsDynamicInfo.sort(\r\n                        (a, b) => b.id - a.id\r\n                    );\r\n                newState.liveStreamProducts.success = action.success;\r\n                break;\r\n            case \"@@liveStream/SELECT_PRODUCT\":\r\n                let indSelectProduct = 0;\r\n                for (let liveStreamProduct of newState.liveStreamProducts\r\n                    .liveStreamProductsArrDynamic) {\r\n                    if (liveStreamProduct.id === action.id) {\r\n                        newState.liveStreamProducts.liveStreamProductsArrDynamic[\r\n                            indSelectProduct\r\n                        ].isSelected = true;\r\n                    }\r\n                    indSelectProduct++;\r\n                }\r\n\r\n                break;\r\n            case \"@@liveStream/UPDATE_PRODUCT_TIME\":\r\n                let indUpdateProductTime = 0;\r\n                for (let liveStreamProduct of newState.liveStreamProducts\r\n                    .liveStreamProductsArrDynamic) {\r\n                    if (liveStreamProduct.id === action.id) {\r\n                        newState.liveStreamProducts.liveStreamProductsArrDynamic[\r\n                            indUpdateProductTime\r\n                        ].countdownEndTime = action.endTime;\r\n                    }\r\n                    indUpdateProductTime++;\r\n                }\r\n                break;\r\n            case \"@@liveStream/BID_INCREMENT\":\r\n                let indUpdateBidIncrement = 0;\r\n                for (let liveStreamProduct of newState.liveStreamProducts\r\n                    .liveStreamProductsArrDynamic) {\r\n                    if (liveStreamProduct.id === action.id) {\r\n                        newState.liveStreamProducts.liveStreamProductsArrDynamic[\r\n                            indUpdateBidIncrement\r\n                        ].currentPrice = action.newPrice;\r\n                        newState.liveStreamProducts.liveStreamProductsArrDynamic[\r\n                            indUpdateBidIncrement\r\n                        ].buyer = action.buyer;\r\n                    }\r\n                    indUpdateBidIncrement++;\r\n                }\r\n                break;\r\n            case \"@@liveStream/LOAD_CHAT_MESSAGES\":\r\n                newState.chat.chatMessages = action.chatMessages.sort(\r\n                    (a, b) => a.id - b.id\r\n                );\r\n                newState.chat.success = action.success;\r\n                break;\r\n            case \"@@liveStream/SEND_CHAT_MESSAGE\":\r\n                let created_at = new Date(\r\n                    Date.parse(action.chatMessage.created_at)\r\n                );\r\n                let tempMessage = {\r\n                    id: action.chatMessage.id,\r\n                    username: action.chatMessage.username,\r\n                    profile_pic: action.chatMessage.profile_pic,\r\n                    message: action.chatMessage.message,\r\n                    created_at,\r\n                };\r\n                if (newState.chat.success && action.chatMessage.success) {\r\n                    newState.chat.chatMessages.push(tempMessage);\r\n                }\r\n                break;\r\n            case \"@@liveStream/LOAD_RECOMMEND_LISTS\":\r\n                newState.recommendList.results = action.recommendList;\r\n                newState.chat.success = action.success;\r\n                break;\r\n            case \"@@liveStream/CHANGE_DUMMY\":\r\n                newState.dummy = Math.floor(Math.random() * 10000);\r\n                break;\r\n            case \"@@liveStream/RESET_LIVE_ID\":\r\n                newState.liveStreamInfo.id = 0;\r\n                break;\r\n        }\r\n    });\r\n}\r\n","import { ComingAuction, ComingAuctionActions, ProductDetails } from \"./action\";\r\nimport produce from \"immer\";\r\n\r\nexport interface ComingAuctionState {\r\n    comingAuctions: ComingAuction[];\r\n    productDetails: ProductDetails[];\r\n}\r\n\r\nconst initialState: ComingAuctionState = {\r\n    comingAuctions: [],\r\n    productDetails: []\r\n}\r\n\r\nexport function comingAuctionReducer(state: ComingAuctionState = initialState, action: ComingAuctionActions): ComingAuctionState {\r\n    return produce(state, (newState) => {\r\n        switch (action.type) {\r\n            case \"@@comingAuction/LOAD_COMING_AUCTION\":\r\n                newState.comingAuctions = action.comingAuctions;\r\n                break;\r\n            case \"@@productDetails/LOAD_PRODUCT_DETAILS\":\r\n                newState.productDetails = action.productDetails;\r\n                break;\r\n        }\r\n    })\r\n}","import { CategoriesFilter, ProductFilter, SearchProduct, SearchProductsActions } from \"./action\";\r\nimport produce from \"immer\";\r\n\r\nexport interface ProductSearchState {\r\n    productList: SearchProduct[]\r\n    categories: CategoriesFilter[]\r\n    productFilter: ProductFilter[]\r\n}\r\n\r\nconst initialState: ProductSearchState = {\r\n    productList: [],\r\n    categories: [],\r\n    productFilter: [],\r\n}\r\n\r\nexport function productSearchReducer(\r\n    state: ProductSearchState = initialState,\r\n    action: SearchProductsActions\r\n): ProductSearchState {\r\n    return produce(state, (newState) => {\r\n\r\n        switch (action.type) {\r\n            case \"@@products/LOAD_PRODUCT_SEARCH_RESULT\":\r\n                // console.log(\"newState\", newState.productList)\r\n                newState.productList = action.productList\r\n                break;\r\n            case \"@@products/SORT_BY_DATE\":\r\n                newState.productList = action.sortByDates\r\n                const searchResults = [...newState.productList]\r\n                searchResults.sort((a, b) => a.starting_time > b.starting_time ? 1 : -1)\r\n                break;\r\n            case \"@@products/LOAD_PRODUCT_CATEGORIES\":\r\n                newState.categories = action.categories\r\n                break;\r\n            case \"@@products/LOAD_PRODUCT_FOR_FILTER\":\r\n                newState.productFilter = action.productFilter\r\n                break;\r\n        }\r\n    })\r\n}\r\n","import produce from \"immer\";\r\nimport { LoadMyLiveActions, MyLive, MyLiveProducts } from \"./action\";\r\n\r\n\r\nexport interface MyLiveState {\r\n    myLive: MyLive[],\r\n    myLiveProducts: MyLiveProducts[],\r\n    liveId: MyLive[],\r\n    myLiveId: MyLive[]\r\n}\r\n\r\nconst initialState: MyLiveState = {\r\n    myLive: [],\r\n    myLiveProducts: [],\r\n    liveId: [],\r\n    myLiveId: []\r\n}\r\n\r\nexport function myLiveReducer(\r\n    state: MyLiveState = initialState,\r\n    action: LoadMyLiveActions\r\n): MyLiveState {\r\n    return produce(state, (newState) => {\r\n        switch (action.type) {\r\n            case \"@@myLive/LOAD_MY_LIVE\":\r\n                newState.myLive = action.myLive;\r\n                break;\r\n            case \"@@myLive/LOAD_MY_LIVE_PRODUCTS\":\r\n                newState.myLiveProducts = action.myLiveProducts;\r\n                break;\r\n            case \"@@myLive/LOAD_SOLD_PRODUCTS\":\r\n                newState.myLiveProducts = action.myLiveProducts;\r\n                break;\r\n            case \"@@myLive/LOAD_LIVE_STATUS\":\r\n                newState.liveId = action.liveId;\r\n                for (let ind in newState.myLive) {\r\n                    if (newState.myLive[ind].id === action.liveId[0].id) {\r\n\r\n                        newState.myLive[ind].is_ended = true\r\n                    }\r\n                }\r\n                break;\r\n            case \"@@myLive/LOAD_OPEN_LIVE_STATUS\":\r\n                newState.myLiveId = action.myLiveId;\r\n\r\n                console.log(newState.myLiveId);\r\n\r\n                for (let ind in newState.myLive) {\r\n                    if (newState.myLive[ind].id === action.myLiveId[0].id) {\r\n                        newState.myLive[ind].is_live = true\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n    })\r\n}","import produce from \"immer\";\r\nimport { BroadcastingProductActions, BroadcastingProducts } from \"./actions\";\r\n\r\n\r\nexport interface BroadcastProductState {\r\n    broadcastingProduct: BroadcastingProducts[]\r\n}\r\n\r\nconst initialState: BroadcastProductState = {\r\n    broadcastingProduct: []\r\n}\r\n\r\nexport function broadcastingProductReducer(\r\n    state: BroadcastProductState = initialState,\r\n    action: BroadcastingProductActions\r\n): BroadcastProductState {\r\n    return produce(state, (newState) => {\r\n        switch (action.type) {\r\n            case \"@@products/LOAD_BROADCASTING_PRODUCTS\":\r\n                newState.broadcastingProduct = action.broadcastingProducts\r\n        }\r\n    })\r\n}","import produce from \"immer\";\r\nimport { UtilityActions } from \"./actions\";\r\n\r\nexport interface UtilityState {\r\n    sidebarCollapse: boolean;\r\n    menuCollapse: boolean;\r\n    isClicking: boolean;\r\n}\r\n\r\nconst initialState: UtilityState = {\r\n    sidebarCollapse: true,\r\n    menuCollapse: true,\r\n    isClicking: false,\r\n};\r\n\r\nexport function utilityReducer(\r\n    state: UtilityState = initialState,\r\n    action: UtilityActions\r\n): UtilityState {\r\n    return produce(state, (newState) => {\r\n        switch (action.type) {\r\n            case \"@@utility/SIDEBAR_ONCLICK\":\r\n                newState.sidebarCollapse = action.isCollapse;\r\n                break;\r\n            case \"@@utility/MENU_ICON_ONCLICK\":\r\n                newState.menuCollapse = action.isCollapse;\r\n                newState.isClicking = action.isClicking;\r\n                break;\r\n        }\r\n    });\r\n}\r\n","import {\r\n    connectRouter,\r\n    RouterAction,\r\n    routerMiddleware,\r\n    RouterState,\r\n} from \"connected-react-router\";\r\nimport { createBrowserHistory } from \"history\";\r\nimport { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\r\nimport {\r\n    userReducer,\r\n    UserState,\r\n    AuthState,\r\n    authReducer,\r\n    FollowerState,\r\n    FollowingState,\r\n    followerReducer,\r\n    followingReducer,\r\n    sellerFollowerState,\r\n    sellerFollowerReducer,\r\n} from \"./redux/user/reducer\";\r\nimport thunk, { ThunkDispatch } from \"redux-thunk\";\r\nimport {\r\n    UserActions,\r\n    AuthActions,\r\n    FollowerActions,\r\n    FollowingActions,\r\n    sellerFollowerActions,\r\n} from \"./redux/user/actions\";\r\nimport { createBidsReducer } from \"./redux/createbid/reducer\";\r\nimport { productsReducer, ProductsState } from \"./redux/products/reducer\";\r\nimport { liveStreamReducer, LiveStreamState } from \"./redux/LiveStream/reducer\";\r\nimport { LiveStreamActions } from \"./redux/LiveStream/actions\";\r\nimport { ProductsActions } from \"./redux/products/actions\";\r\nimport { CreateBids, createBidsActions } from \"./redux/createbid/actions\";\r\nimport { ComingAuctionActions } from \"./redux/homepage/action\";\r\nimport {\r\n    comingAuctionReducer,\r\n    ComingAuctionState,\r\n} from \"./redux/homepage/reducer\";\r\nimport { SearchProductsActions } from \"./redux/searchResult/action\";\r\nimport { productSearchReducer, ProductSearchState } from \"./redux/searchResult/reducer\";\r\nimport { LoadMyLiveActions } from \"./redux/myLiveProducts/action\";\r\nimport { myLiveReducer, MyLiveState } from \"./redux/myLiveProducts/reducer\";\r\n// import { LoadMyLiveProductsActions } from \"./redux/myLiveProducts/action\";\r\n// import {\r\n//     myLiveProductsReducer,\r\n//     MyLiveProductsState,\r\n// } from \"./redux/myLiveProducts/reducer\";\r\nimport { BroadcastingProductActions } from \"./redux/broadcastingProducts/actions\";\r\nimport {\r\n    broadcastingProductReducer,\r\n    BroadcastProductState,\r\n} from \"./redux/broadcastingProducts/reducer\";\r\nimport { UtilityActions } from \"./redux/utility/actions\";\r\nimport { utilityReducer, UtilityState } from \"./redux/utility/reducer\";\r\n\r\nexport const history = createBrowserHistory();\r\n\r\nexport type RootAction =\r\n    | RouterAction\r\n    | UserActions\r\n    | ProductsActions\r\n    | LiveStreamActions\r\n    | createBidsActions\r\n    | ComingAuctionActions\r\n    | SearchProductsActions\r\n    | LoadMyLiveActions\r\n    | BroadcastingProductActions\r\n    | UtilityActions\r\n    | AuthActions\r\n    | sellerFollowerActions\r\n    | FollowerActions\r\n    | FollowingActions;\r\n\r\nexport type RootThunkDispatch = ThunkDispatch<RootState, null, RootAction>;\r\n\r\nexport interface RootState {\r\n    user: UserState;\r\n    router: RouterState;\r\n    CreateBids: CreateBids;\r\n    products: ProductsState;\r\n    liveStream: LiveStreamState;\r\n    comingAuction: ComingAuctionState;\r\n    authState: AuthState;\r\n    searchProduct: ProductSearchState;\r\n    myLive: MyLiveState;\r\n    broadcastingProducts: BroadcastProductState;\r\n    utility: UtilityState;\r\n    loadToken: AuthState;\r\n    follower: FollowerState;\r\n    following: FollowingState;\r\n    sellerFollower: sellerFollowerState;\r\n}\r\n\r\nconst reducer = combineReducers<RootState>({\r\n    user: userReducer,\r\n    CreateBids: createBidsReducer,\r\n    products: productsReducer,\r\n    router: connectRouter(history),\r\n    liveStream: liveStreamReducer,\r\n    comingAuction: comingAuctionReducer,\r\n    authState: authReducer,\r\n    searchProduct: productSearchReducer,\r\n    myLive: myLiveReducer,\r\n    broadcastingProducts: broadcastingProductReducer,\r\n    utility: utilityReducer,\r\n    loadToken: authReducer,\r\n    follower: followerReducer,\r\n    following: followingReducer,\r\n    sellerFollower: sellerFollowerReducer, \r\n});\r\n\r\ndeclare global {\r\n    interface Window {\r\n        __REDUX_DEVTOOLS_EXTENSION_COMPOSE__: any;\r\n    }\r\n}\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport const store = createStore(\r\n    reducer,\r\n    composeEnhancers(\r\n        applyMiddleware(routerMiddleware(history)),\r\n        applyMiddleware(thunk)\r\n    )\r\n);\r\n","import { RootState, RootThunkDispatch } from \"../../store\";\r\nimport axios from \"axios\";\r\nimport { history } from \"../../store\";\r\n// import jwt, { JwtPayload, VerifyOptions } from \"jsonwebtoken\";\r\n// import { push } from \"connected-react-router\";\r\n// import { JWTPayload } from \"./reducer\";\r\n\r\ninterface SubscriptionRes {\r\n    success: boolean;\r\n}\r\n\r\ninterface GetSubscriptionRes {\r\n    followerList: number[];\r\n    followingList: number[];\r\n    success: boolean;\r\n}\r\n\r\ninterface loadSellerFollowerRes {\r\n    sellerFollowerList: number[];\r\n    liveRecordList: number[];\r\n    success: boolean;\r\n}\r\nexport interface UserCardInfo {\r\n    id: number;\r\n    username: string;\r\n    propic: string;\r\n    telegramAcct: string;\r\n    description: string;\r\n}\r\n\r\nexport function login(token: string) {\r\n    return {\r\n        type: \"@@user/LOGIN\" as const,\r\n        token,\r\n    };\r\n}\r\n\r\nexport function logout() {\r\n    return {\r\n        type: \"@@user/LOGOUT\" as const,\r\n    };\r\n}\r\n\r\nexport function loadToken(token: string) {\r\n    return {\r\n        type: \"@@Auth/load_token\" as const,\r\n        token,\r\n    };\r\n}\r\nexport function loadSellerFollower(sellerId: number[], liveRecord: number[]) {\r\n    return {\r\n        type: \"@@sellerFollower/LOAD_SELLERFOLLOWER\" as const,\r\n        sellerId,\r\n        liveRecord,\r\n    };\r\n}\r\n\r\nexport function loadFollower(userId: number[], success: boolean) {\r\n    return {\r\n        type: \"@@follower/LOAD_FOLLOWER\" as const,\r\n        userId,\r\n        success,\r\n    };\r\n}\r\nexport function loadFollowerDetails(userDetails: UserCardInfo[]) {\r\n    return {\r\n        type: \"@@follower/LOAD_FOLLOWER_DETAILS\" as const,\r\n        userDetails,\r\n    };\r\n}\r\nexport function loadFollowing(userId: number[], success: boolean) {\r\n    return {\r\n        type: \"@@following/LOAD_FOLLOWING\" as const,\r\n        userId,\r\n        success,\r\n    };\r\n}\r\nexport type sellerFollowerActions = ReturnType<typeof loadSellerFollower>;\r\n\r\nexport function loadFollowingDetails(userDetails: UserCardInfo[]) {\r\n    return {\r\n        type: \"@@following/LOAD_FOLLOWING_DETAILS\" as const,\r\n        userDetails,\r\n    };\r\n}\r\n\r\nexport type FollowerActions =\r\n    | ReturnType<typeof loadFollower>\r\n    | ReturnType<typeof loadFollowerDetails>;\r\nexport type FollowingActions =\r\n    | ReturnType<typeof loadFollowing>\r\n    | ReturnType<typeof loadFollowingDetails>;\r\n\r\nexport type AuthActions = ReturnType<typeof loadToken>;\r\n\r\nexport type UserActions = ReturnType<typeof login> | ReturnType<typeof logout>;\r\n\r\nexport function logoutThunk() {\r\n    return (dispatch: RootThunkDispatch) => {\r\n        localStorage.removeItem(\"token\");\r\n        dispatch(logout());\r\n    };\r\n}\r\n\r\n// eslint-disable-next-line react-hooks/rules-of-hooks\r\n\r\nexport function checkPhoneNumber() {\r\n    return async (dispatch: RootThunkDispatch, getState: () => RootState) => {\r\n        try {\r\n            const state = getState();\r\n\r\n            if (\r\n                state.user.isAuthenticate &&\r\n                typeof state.authState.user !== \"string\" &&\r\n                state.authState.user !== undefined &&\r\n                state.authState.user!.phone_number === \"11111111\"\r\n            ) {\r\n                history.push(\"/profilePage/accountDetails\");\r\n            } else {\r\n                history.push(\"/\");\r\n            }\r\n\r\n            return;\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n}\r\n\r\nexport function refreshCurrentUser(userId: number) {\r\n    // console.log(\"userId\", userId);\r\n    // let dataId = {\"userId\":userId}\r\n    return async (dispatch: RootThunkDispatch) => {\r\n        const token = localStorage.getItem(\"token\");\r\n        if (token == null) {\r\n            // console.log(\"no token\")\r\n            return;\r\n        }\r\n        try {\r\n            const res: any = await axios(\r\n                `${process.env.REACT_APP_BACKEND_URL}/user/refreshCurrent`,\r\n                {\r\n                    method: \"POST\",\r\n                    headers: { \"Content-Type\": \"application/json\" },\r\n                    data: { userId: `${userId}` },\r\n                }\r\n            );\r\n            // console.log(\"refreshCurrentUser\",res.data.token)\r\n            dispatch(login(res.data.token));\r\n            dispatch(loadToken(res.data.token));\r\n            localStorage.setItem(\"token\", res.data.token);\r\n        } catch (error) {\r\n            console.log(\"error\", error);\r\n        }\r\n    };\r\n}\r\n\r\nexport function checkCurrentUser() {\r\n    return async (dispatch: RootThunkDispatch, getState: () => RootState) => {\r\n        const token = localStorage.getItem(\"token\");\r\n\r\n        if (token == null) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const res = await axios.get(\r\n                `${process.env.REACT_APP_BACKEND_URL}/user/current`,\r\n                {\r\n                    headers: {\r\n                        Authorization: \"Bearer \" + token,\r\n                    },\r\n                }\r\n            );\r\n            // console.log(\"fetched\")\r\n            const newToken: any = res.data;\r\n\r\n            localStorage.setItem(\"token\", newToken);\r\n            dispatch(login(newToken));\r\n            dispatch(loadToken(newToken));\r\n\r\n            const state = getState();\r\n\r\n            if (\r\n                state.user.isAuthenticate &&\r\n                typeof state.authState.user !== \"string\" &&\r\n                state.authState.user !== undefined &&\r\n                state.authState.user!.phone_number === \"11111111\"\r\n            ) {\r\n                history.push(\"/profilePage/accountDetails\");\r\n            }\r\n\r\n            return;\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n}\r\nexport function fetchSellerSubscribe(sellerId: number) {\r\n    return async (dispatch: RootThunkDispatch, getState: () => RootState) => {\r\n        const token = localStorage.getItem(\"token\");\r\n\r\n        if (token == null) {\r\n            console.log(\"no token\");\r\n            return;\r\n        }\r\n        try {\r\n            const res = await axios.get<loadSellerFollowerRes>(\r\n                `${process.env.REACT_APP_BACKEND_URL}/subscription/${sellerId}`,\r\n                {\r\n                    headers: {\r\n                        Authorization: \"Bearer \" + token,\r\n                    },\r\n                }\r\n            );\r\n            // console.log(res.data)\r\n            if (res.data.success) {\r\n                dispatch(\r\n                    loadSellerFollower(\r\n                        res.data.sellerFollowerList,\r\n                        res.data.liveRecordList\r\n                    )\r\n                );\r\n            }\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n}\r\nexport function fetchSubscribe(isGet: boolean, followingId: number = 0) {\r\n    return async (dispatch: RootThunkDispatch, getState: () => RootState) => {\r\n        const token = localStorage.getItem(\"token\");\r\n\r\n        if (token == null) {\r\n            console.log(\"no token\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            if (isGet) {\r\n                const res = await axios.get<GetSubscriptionRes>(\r\n                    `${process.env.REACT_APP_BACKEND_URL}/subscription`,\r\n                    {\r\n                        headers: {\r\n                            Authorization: \"Bearer \" + token,\r\n                        },\r\n                    }\r\n                );\r\n\r\n                if (res.data.success) {\r\n                    dispatch(\r\n                        loadFollower(res.data.followerList, res.data.success)\r\n                    );\r\n                    dispatch(\r\n                        loadFollowing(res.data.followingList, res.data.success)\r\n                    );\r\n                }\r\n            } else {\r\n                const res = await axios.post<SubscriptionRes>(\r\n                    `${process.env.REACT_APP_BACKEND_URL}/subscription`,\r\n                    { followingId },\r\n                    {\r\n                        headers: {\r\n                            Authorization: \"Bearer \" + token,\r\n                        },\r\n                    }\r\n                );\r\n\r\n                if (res.data.success) {\r\n                    dispatch(fetchSubscribe(true));\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n}\r\n\r\nexport function fetchUserCardInfo(\r\n    idArr: number[],\r\n    type: string,\r\n    setIsLoading: React.Dispatch<React.SetStateAction<boolean>>,\r\n    setLoadState: React.Dispatch<React.SetStateAction<number>>\r\n) {\r\n    return async (dispatch: RootThunkDispatch, getState: () => RootState) => {\r\n        const token = localStorage.getItem(\"token\");\r\n\r\n        if (token == null) {\r\n            console.log(\"no token\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            let idString = idArr.join(\",\");\r\n            const res = await axios.get<{\r\n                result: UserCardInfo[];\r\n                success: boolean;\r\n            }>(\r\n                `${process.env.REACT_APP_BACKEND_URL}/userCardInfo?idString=${idString}`,\r\n                {\r\n                    headers: {\r\n                        Authorization: \"Bearer \" + token,\r\n                    },\r\n                }\r\n            );\r\n\r\n            if (res.data.success) {\r\n                if (type === \"following\") {\r\n                    dispatch(loadFollowingDetails(res.data.result));\r\n                } else if (type === \"follower\") {\r\n                    dispatch(loadFollowerDetails(res.data.result));\r\n                }\r\n                setIsLoading(false);\r\n                setLoadState((loadState) => loadState + 1);\r\n            }\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n}\r\nexport function fetchUserProfileCardInfo(\r\n    idArr: number[],\r\n    type: string,\r\n) {\r\n    return async (dispatch: RootThunkDispatch, getState: () => RootState) => {\r\n        const token = localStorage.getItem(\"token\");\r\n\r\n        if (token == null) {\r\n            console.log(\"no token\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            let idString = idArr.join(\",\");\r\n            const res = await axios.get<{\r\n                result: UserCardInfo[];\r\n                success: boolean;\r\n            }>(\r\n                `${process.env.REACT_APP_BACKEND_URL}/userCardInfo?idString=${idString}`,\r\n                {\r\n                    headers: {\r\n                        Authorization: \"Bearer \" + token,\r\n                    },\r\n                }\r\n            );\r\n\r\n            if (res.data.success) {\r\n                if (type === \"following\") {\r\n                    dispatch(loadFollowingDetails(res.data.result));\r\n                } else if (type === \"follower\") {\r\n                    dispatch(loadFollowerDetails(res.data.result));\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { fetchSellerSubscribe, fetchSubscribe } from \"../../redux/user/actions\";\r\nimport { RootState } from \"../../store\";\r\n\r\ninterface SubscriptionBtnProps {\r\n    targetId: number;\r\n    userId: number;\r\n}\r\n\r\nfunction SubscribeButton(props: SubscriptionBtnProps) {\r\n    //Get States\r\n    const dispatch = useDispatch();\r\n    const [isSubscribed, setIsSubscribed] = useState<boolean>(false);\r\n    const [isSelf, setIsSelf] = useState<boolean>(false);\r\n    const subscribeList = useSelector(\r\n        (state: RootState) => state.following.userId\r\n    );\r\n    //Get States\r\n\r\n    //React-responsive\r\n    const isTablet = useMediaQuery({\r\n        query: \"(min-width: 768px)\",\r\n    });\r\n    //React-responsive\r\n\r\n    //Check Subscription\r\n    useEffect(() => {\r\n        dispatch(fetchSubscribe(true));\r\n    }, [dispatch]);\r\n    useEffect(() => {\r\n        let check = false;\r\n        for (let item of subscribeList) {\r\n            if (item === props.targetId) {\r\n                check = true;\r\n            }\r\n        }\r\n        if (check) {\r\n            setIsSubscribed(true);\r\n        } else {\r\n            setIsSubscribed(false);\r\n        }\r\n    }, [subscribeList, props.targetId]);\r\n    //Check Subscription\r\n\r\n    //Check Same Person\r\n    useEffect(() => {\r\n        if (props.targetId === props.userId) {\r\n            setIsSelf(true);\r\n        } else {\r\n            setIsSelf(false);\r\n        }\r\n    }, [props.targetId, props.userId]);\r\n\r\n    const trigger = async () => {\r\n        await dispatch(fetchSubscribe(false, props.targetId));\r\n        await dispatch(fetchSellerSubscribe(props.targetId));\r\n    };\r\n\r\n    //Check Same Person\r\n    return (\r\n        <>\r\n            {!isSelf && (\r\n                <div className=\"subscribe\">\r\n                    <button\r\n                        className={`subscribe_btn btn ${\r\n                            isSubscribed ? \"btn-secondary\" : \"btn-danger\"\r\n                        } ${isTablet ? \"\" : \"small_font px-2\"}`}\r\n                        // onClick={() => {\r\n                        //     dispatch(fetchSubscribe(false, props.targetId));\r\n                        // }}\r\n                        onClick={trigger}\r\n                    >\r\n                        {isSubscribed ? \"已關注\" : \"關注\"}{\" \"}\r\n                        {isSubscribed ? (\r\n                            <i className=\"fas fa-bell-slash\"></i>\r\n                        ) : (\r\n                            <i className=\"fas fa-bell\"></i>\r\n                        )}\r\n                    </button>\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default SubscribeButton;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { Socket } from \"socket.io-client\";\r\nimport { RootState } from \"../../store\";\r\nimport SubscribeButton from \"../common/subscribeButton\";\r\n\r\ninterface LiveStreamHeaderProps {\r\n    ws: Socket | null;\r\n}\r\n\r\nfunction LiveStreamHeader(props: LiveStreamHeaderProps) {\r\n    //Get States\r\n    const title = useSelector(\r\n        (state: RootState) => state.liveStream.liveStreamInfo.title\r\n    );\r\n    const seller = useSelector(\r\n        (state: RootState) => state.liveStream.liveStreamInfo.seller\r\n    );\r\n    const sellerId = useSelector(\r\n        (state: RootState) => state.liveStream.liveStreamInfo.sellerId\r\n    );\r\n    const sellerImage = useSelector(\r\n        (state: RootState) => state.liveStream.liveStreamInfo.sellerImage\r\n    );\r\n    const description = useSelector(\r\n        (state: RootState) => state.liveStream.liveStreamInfo.description\r\n    );\r\n    const liveId = useSelector(\r\n        (state: RootState) => state.liveStream.liveStreamInfo.id\r\n    );\r\n    const userId = useSelector((state: RootState) => {\r\n        if (\r\n            typeof state.authState.user !== \"string\" &&\r\n            state.authState.user?.id\r\n        ) {\r\n            return state.authState.user?.id;\r\n        }\r\n        return 0;\r\n    });\r\n    const isAuthenticate = useSelector(\r\n        (state: RootState) => state.user.isAuthenticate\r\n    );\r\n    const [onlineUsers, setOnlineUsers] = useState<number>(0);\r\n    const [timerId, setTimerId] = useState<number>(0);\r\n    const responsive = useMediaQuery({\r\n        query: \"(min-width: 420px)\",\r\n    });\r\n    //Get States\r\n\r\n    //WebSocket Signal Handler\r\n    useEffect(() => {\r\n        if (timerId === 0) {\r\n            if (props.ws) {\r\n                setTimerId(\r\n                    window.setInterval(() => {\r\n                        if (props.ws) {\r\n                            props.ws.emit(\"checkOnlineUsers\", liveId);\r\n                        }\r\n                    }, 10000)\r\n                );\r\n                props.ws.on(\"checkOnlineUsers\", (clientsInRoom: number) => {\r\n                    setOnlineUsers(clientsInRoom);\r\n                });\r\n            }\r\n        }\r\n\r\n        return () => {\r\n            clearInterval(timerId);\r\n        };\r\n    }, [props.ws, timerId, liveId]);\r\n    //WebSocket Signal Handler\r\n\r\n    return (\r\n        <div className=\"LiveStreamHeader px-3\">\r\n            <div className=\"mainInfo\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-10 col-8\">\r\n                        <div\r\n                            className={`${\r\n                                responsive ? \"title\" : \"responsive_title\"\r\n                            } my-3`}\r\n                        >\r\n                            {title}\r\n                        </div>\r\n                    </div>\r\n                    {isAuthenticate && (\r\n                        <div className=\"col-md-2 col-4 d-flex align-items-center justify-content-end\">\r\n                            <SubscribeButton\r\n                                targetId={sellerId}\r\n                                userId={userId}\r\n                            />\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                <div className=\"userinfo d-flex align-items-center mb-4\">\r\n                    <img\r\n                        className=\"profilePic rounded-circle\"\r\n                        src={`${\r\n                            sellerImage.search(/(https:\\/\\/)|(http:\\/\\/)/i) < 0\r\n                                ? process.env.REACT_APP_BACKEND_URL +\r\n                                  \"/\" +\r\n                                  sellerImage\r\n                                : sellerImage\r\n                        }`}\r\n                        alt=\"profilePic\"\r\n                    />\r\n                    <div className=\"username mx-3\">{seller}</div>\r\n\r\n                    <div className=\"viewers\">\r\n                        {responsive && \"正在觀看人數\"} {onlineUsers}{\" \"}\r\n                        <i className=\"fas fa-user-friends\"></i>\r\n                    </div>\r\n                </div>\r\n                <div className=\"description m-3 mb-5\">{description}</div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LiveStreamHeader;\r\n","import React from \"react\";\r\nimport { CToast, CToastBody, CToastClose } from \"@coreui/react\";\r\n\r\nfunction ErrorCannotDoubleBid() {\r\n    return (\r\n        <CToast\r\n            autohide={true}\r\n            visible={true}\r\n            className=\"align-items-center mw-100\"\r\n        >\r\n            <div className=\"d-flex text-danger\">\r\n                <CToastBody>你目前已經是叫價最高的觀眾</CToastBody>\r\n                <CToastClose className=\"me-2 m-auto\" />\r\n            </div>\r\n        </CToast>\r\n    );\r\n}\r\nexport default ErrorCannotDoubleBid;\r\n","import React from \"react\";\r\nimport { CToast, CToastBody, CToastClose } from \"@coreui/react\";\r\n\r\nfunction ErrorCannotSelfBid() {\r\n    return (\r\n        <CToast\r\n            autohide={true}\r\n            visible={true}\r\n            className=\"align-items-center mw-100\"\r\n        >\r\n            <div className=\"d-flex text-danger\">\r\n                <CToastBody>你不能投標自己的拍賣品</CToastBody>\r\n                <CToastClose className=\"me-2 m-auto\" />\r\n            </div>\r\n        </CToast>\r\n    );\r\n}\r\nexport default ErrorCannotSelfBid;\r\n","import React from \"react\";\r\nimport { CToast, CToastBody, CToastClose } from \"@coreui/react\";\r\n\r\nfunction ErrorPriceTooLow() {\r\n    return (\r\n        <CToast\r\n            autohide={true}\r\n            visible={true}\r\n            className=\"align-items-center mw-100\"\r\n        >\r\n            <div className=\"d-flex text-danger\">\r\n                <CToastBody>你的叫價太低</CToastBody>\r\n                <CToastClose className=\"me-2 m-auto\" />\r\n            </div>\r\n        </CToast>\r\n    );\r\n}\r\nexport default ErrorPriceTooLow;\r\n","import React from \"react\";\r\nimport { CToast, CToastBody, CToastClose } from \"@coreui/react\";\r\n\r\nfunction ErrorUnknown() {\r\n    return (\r\n        <CToast\r\n            autohide={true}\r\n            visible={true}\r\n            className=\"align-items-center mw-100\"\r\n        >\r\n            <div className=\"d-flex text-danger\">\r\n                <CToastBody>未知錯誤</CToastBody>\r\n                <CToastClose className=\"me-2 m-auto\" />\r\n            </div>\r\n        </CToast>\r\n    );\r\n}\r\nexport default ErrorUnknown;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction InputPhoneNumber() {\r\n    return (\r\n        <div className=\"livestreamEdit rounded my-3 d-flex flex-column justify-content-around align-items-center\">\r\n            <div className=\"message\">請先設定電話號碼及其他資料再進行拍賣</div>\r\n            <div className=\"w-25 d-flex flex-row justify-content-around\">\r\n                <Link to=\"/profilePage/accountDetails\">\r\n                    <button className=\"btn btn-primary\">設定</button>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default InputPhoneNumber;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\ninterface LoginProps {\r\n    message: string;\r\n}\r\n\r\nfunction Login(props: LoginProps) {\r\n    return (\r\n        <div className=\"livestreamLogin rounded my-3 d-flex flex-column justify-content-around align-items-center\">\r\n            <div className=\"message\">{props.message}</div>\r\n            <div className=\"w-md-25 w-50 d-flex flex-row justify-content-around\">\r\n                <Link to=\"/loginPage\">\r\n                    <button className=\"btn btn-primary\">登入</button>\r\n                </Link>\r\n                <Link to=\"/loginPage/SignupForm\">\r\n                    <button className=\"btn btn-success\">註冊</button>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n","import { CToaster } from \"@coreui/react\";\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { Socket } from \"socket.io-client\";\r\nimport {\r\n    fetchBidIncrement,\r\n    fetchliveStreamProducts,\r\n    LiveStreamProduct,\r\n    LiveStreamProductDynamicInfo,\r\n} from \"../../redux/LiveStream/actions\";\r\nimport { RootState } from \"../../store\";\r\nimport ErrorCannotDoubleBid from \"./ErrorCannotDoubleBid\";\r\nimport ErrorCannotSelfBid from \"./ErrorCannotSelfBid\";\r\nimport ErrorPriceTooLow from \"./ErrorPriceTooLow\";\r\nimport ErrorUnknown from \"./ErrorUnknown\";\r\nimport InputPhoneNumber from \"./InputPhoneNumber\";\r\nimport Login from \"./Login\";\r\n\r\ninterface LiveStreamBiddingInfoProps {\r\n    ws: Socket | null;\r\n}\r\n\r\nfunction LiveStreamBiddingInfo(props: LiveStreamBiddingInfoProps) {\r\n    //Get States\r\n    const dispatch = useDispatch();\r\n    const [remainingTime, setRemainingTime] = useState<number>(Infinity);\r\n    const [inputPrice, setInputPrice] = useState<number>(0);\r\n    const [isBidding, setIsBidding] = useState<boolean>(true);\r\n    const [isDisabled, setIsDisabled] = useState<boolean>(false);\r\n    const [timerId, setTimerId] = useState<number>(0);\r\n    const isAuthenticate = useSelector(\r\n        (state: RootState) => state.user.isAuthenticate\r\n    );\r\n\r\n    const phoneNumber = useSelector((state: RootState) => {\r\n        if (\r\n            typeof state.authState.user !== \"string\" &&\r\n            state.authState.user?.phone_number\r\n        ) {\r\n            return state.authState.user?.phone_number;\r\n        }\r\n        return \"\";\r\n    });\r\n\r\n    const liveId = useSelector(\r\n        (state: RootState) => state.liveStream.liveStreamInfo.id\r\n    );\r\n\r\n    const products = useSelector(\r\n        (state: RootState) =>\r\n            state.liveStream.liveStreamProducts.liveStreamProductsArr\r\n    );\r\n\r\n    const productsDynamic = useSelector(\r\n        (state: RootState) =>\r\n            state.liveStream.liveStreamProducts.liveStreamProductsArrDynamic\r\n    );\r\n\r\n    const [selectedProduct, setSelectedProduct] = useState<LiveStreamProduct>({\r\n        id: 0,\r\n        productName: \"\",\r\n        minPrice: 0,\r\n        buyPrice: 0,\r\n        bidIncrement: 0,\r\n        productImage: \"\",\r\n        description: \"\",\r\n        categoryId: 0,\r\n        success: false,\r\n    });\r\n\r\n    const [selectedProductDynamic, setSelectedProductDynamic] =\r\n        useState<LiveStreamProductDynamicInfo>({\r\n            id: 0,\r\n            currentPrice: 0,\r\n            isSelected: false,\r\n            buyer: \"\",\r\n            duration: 0,\r\n            success: false,\r\n        });\r\n\r\n    useEffect(() => {\r\n        if (\r\n            inputPrice <=\r\n            selectedProductDynamic.currentPrice +\r\n                selectedProduct.bidIncrement -\r\n                1\r\n        ) {\r\n            setIsDisabled(true);\r\n        } else {\r\n            setIsDisabled(false);\r\n        }\r\n    }, [\r\n        inputPrice,\r\n        selectedProductDynamic.currentPrice,\r\n        selectedProduct.bidIncrement,\r\n    ]);\r\n    const [toast, addToast] = useState<JSX.Element>(<></>);\r\n    const toaster = useRef<HTMLDivElement>(null);\r\n    const responsive = useMediaQuery({\r\n        query: \"(min-width: 420px)\",\r\n    });\r\n    //Get States\r\n\r\n    //Countdown End Handler\r\n    useEffect(() => {\r\n        return () => {\r\n            if (remainingTime <= 0) {\r\n                clearInterval(timerId);\r\n                setIsBidding(false);\r\n                setTimerId(0);\r\n            }\r\n        };\r\n    }, [remainingTime, timerId]);\r\n    //Countdown End Handler\r\n\r\n    //Countdown Start Handler\r\n    useEffect(() => {\r\n        if (\r\n            productsDynamic.length !== 0 &&\r\n            products.length !== 0 &&\r\n            productsDynamic.length === products.length\r\n        ) {\r\n            for (let ind in products) {\r\n                let countdownEndTime = productsDynamic[ind].countdownEndTime;\r\n                if (\r\n                    productsDynamic[ind].isSelected &&\r\n                    countdownEndTime !== undefined &&\r\n                    countdownEndTime > new Date()\r\n                ) {\r\n                    setSelectedProduct(products[ind]);\r\n                    setSelectedProductDynamic(productsDynamic[ind]);\r\n                    setIsBidding(true);\r\n                    setRemainingTime(\r\n                        Math.ceil(\r\n                            (countdownEndTime!.getTime() -\r\n                                new Date().getTime()) /\r\n                                1000\r\n                        )\r\n                    );\r\n                    if (timerId === 0) {\r\n                        setTimerId(\r\n                            window.setInterval(() => {\r\n                                setRemainingTime(\r\n                                    Math.ceil(\r\n                                        (countdownEndTime!.getTime() -\r\n                                            new Date().getTime()) /\r\n                                            1000\r\n                                    )\r\n                                );\r\n                            }, 33)\r\n                        );\r\n                    }\r\n                    break;\r\n                } else if (\r\n                    productsDynamic[ind].isSelected &&\r\n                    countdownEndTime !== undefined &&\r\n                    countdownEndTime <= new Date()\r\n                ) {\r\n                    clearInterval(timerId);\r\n                    setTimerId(0);\r\n                    setSelectedProduct(products[ind]);\r\n                    setSelectedProductDynamic(productsDynamic[ind]);\r\n                    setIsBidding(false);\r\n                    break;\r\n                } else if (\r\n                    productsDynamic[ind].isSelected &&\r\n                    countdownEndTime === undefined\r\n                ) {\r\n                    clearInterval(timerId);\r\n                    setTimerId(0);\r\n                    setSelectedProduct(products[ind]);\r\n                    setSelectedProductDynamic(productsDynamic[ind]);\r\n                    setIsBidding(false);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }, [products, productsDynamic, timerId]);\r\n    //Countdown Start Handler\r\n\r\n    //WebSocket Signal Handler\r\n    useEffect(() => {\r\n        if (props.ws) {\r\n            props.ws.on(\"startBid\", (liveId: number) => {\r\n                dispatch(fetchliveStreamProducts(liveId, false));\r\n            });\r\n            props.ws.on(\r\n                \"updateCurrentPrice\",\r\n                (liveId: number, isEnded: boolean) => {\r\n                    dispatch(fetchliveStreamProducts(liveId, false));\r\n                    if (isEnded) {\r\n                        setRemainingTime(-100);\r\n                    }\r\n                }\r\n            );\r\n            props.ws.on(\"updateCurrentPriceFail\", (code: number) => {\r\n                if (code === 0) {\r\n                    addToast(<ErrorCannotSelfBid />);\r\n                } else if (code === -10) {\r\n                    addToast(<ErrorPriceTooLow />);\r\n                } else if (code === -20) {\r\n                    addToast(<ErrorCannotDoubleBid />);\r\n                } else if (code === -30) {\r\n                    addToast(<ErrorUnknown />);\r\n                }\r\n            });\r\n        }\r\n    }, [dispatch, props.ws]);\r\n    //WebSocket Signal Handler\r\n\r\n    //Button On Click Handler\r\n    const minBidIncrement = () => {\r\n        if (props.ws) {\r\n            dispatch(\r\n                fetchBidIncrement(\r\n                    selectedProduct.id,\r\n                    selectedProduct.bidIncrement,\r\n                    props.ws,\r\n                    liveId,\r\n                    true\r\n                )\r\n            );\r\n        }\r\n    };\r\n    const customBidIncrement = () => {\r\n        if (\r\n            props.ws &&\r\n            inputPrice >=\r\n                selectedProductDynamic.currentPrice +\r\n                    selectedProduct.bidIncrement\r\n        ) {\r\n            dispatch(\r\n                fetchBidIncrement(\r\n                    selectedProduct.id,\r\n                    inputPrice,\r\n                    props.ws,\r\n                    liveId,\r\n                    false\r\n                )\r\n            );\r\n        }\r\n    };\r\n    const maxBidIncrement = () => {\r\n        if (props.ws) {\r\n            dispatch(\r\n                fetchBidIncrement(\r\n                    selectedProduct.id,\r\n                    1000000000000000000000000,\r\n                    props.ws,\r\n                    liveId,\r\n                    false\r\n                )\r\n            );\r\n        }\r\n    };\r\n    //Button On Click Handler\r\n\r\n    return (\r\n        <div className=\"LiveStreamBiddingInfo h-100 rounded my-3\">\r\n            {!isAuthenticate ? (\r\n                <Login message={\"請先登入再進行拍賣\"} />\r\n            ) : phoneNumber !== \"\" && phoneNumber !== \"11111111\" ? (\r\n                <div className=\"info w-100 h-100 d-flex justify-contens-center align-items-center flex-column\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12 d-flex flex-row justify-content-center align-items-center w-100 h-100 mb-5\">\r\n                            <img\r\n                                key={selectedProduct.id}\r\n                                className={`selected_img me-4`}\r\n                                src={selectedProduct.productImage}\r\n                                alt={`pic${selectedProduct.id}`}\r\n                            />\r\n                            <div className=\"instant_info d-flex flex-column\">\r\n                                <div\r\n                                    className={`${\r\n                                        responsive\r\n                                            ? \"current_price\"\r\n                                            : \"responsive_current_price\"\r\n                                    } ms-4`}\r\n                                >\r\n                                    <i className=\"fas fa-money-bill-wave\"></i>{\" \"}\r\n                                    現在價格:\r\n                                    <br /> $\r\n                                    {selectedProductDynamic.currentPrice}\r\n                                    <br />\r\n                                    <span className=\"highest_bid_user mb-3\">\r\n                                        最高出價者:{\" \"}\r\n                                        {selectedProductDynamic.buyer == null ||\r\n                                        selectedProductDynamic.buyer === \"\"\r\n                                            ? \"ー\"\r\n                                            : selectedProductDynamic.buyer}\r\n                                    </span>\r\n                                </div>\r\n                                {!isBidding &&\r\n                                selectedProductDynamic.countdownEndTime ===\r\n                                    undefined ? (\r\n                                    <div\r\n                                        className={`${\r\n                                            responsive\r\n                                                ? \"remaining_time\"\r\n                                                : \"responsive_remaining_time\"\r\n                                        } mt-2 ms-4`}\r\n                                    >\r\n                                        拍賣尚未開始\r\n                                    </div>\r\n                                ) : !isBidding &&\r\n                                  selectedProductDynamic.countdownEndTime !==\r\n                                      undefined ? (\r\n                                    <div\r\n                                        className={`${\r\n                                            responsive\r\n                                                ? \"remaining_time\"\r\n                                                : \"responsive_remaining_time\"\r\n                                        } mt-2 ms-4`}\r\n                                    >\r\n                                        拍賣已結束\r\n                                    </div>\r\n                                ) : (\r\n                                    <div\r\n                                        className={`${\r\n                                            responsive\r\n                                                ? \"remaining_time\"\r\n                                                : \"responsive_remaining_time\"\r\n                                        } mt-2 ms-4 text-center`}\r\n                                    >\r\n                                        <i className=\"fas fa-hourglass-half\"></i>\r\n                                        {\"\"}剩餘 {remainingTime} 秒\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"bid_btn_groups row g-0 w-100 my-3\">\r\n                        <div className=\"col-8\">\r\n                            <button\r\n                                disabled={!isBidding || remainingTime <= 10}\r\n                                className={`min_bid btn btn-danger mb-1 w-100 ${\r\n                                    !isBidding && \"unavailable_btn\"\r\n                                }`}\r\n                                onClick={minBidIncrement}\r\n                            >\r\n                                <i className=\"fas fa-gavel\"></i> 最低叫價\r\n                                <br />\r\n                                (一口叫價為${selectedProduct.bidIncrement})\r\n                            </button>\r\n                            <button\r\n                                disabled={!isBidding || isDisabled}\r\n                                className={`custom_bid btn btn-primary mb-1 w-100 ${\r\n                                    (!isBidding || isDisabled) &&\r\n                                    \"unavailable_btn\"\r\n                                }`}\r\n                                onClick={customBidIncrement}\r\n                            >\r\n                                <i className=\"fas fa-gavel\"></i> 自訂叫價\r\n                            </button>\r\n                            <label className=\"w-100\">\r\n                                <input\r\n                                    type=\"number\"\r\n                                    className=\"action_duration w-100 text-end\"\r\n                                    value={inputPrice}\r\n                                    onChange={(e) => {\r\n                                        setInputPrice(parseInt(e.target.value));\r\n                                    }}\r\n                                    onKeyDown={(\r\n                                        e: React.KeyboardEvent<HTMLInputElement>\r\n                                    ) => {\r\n                                        if (e.key === \"Enter\") {\r\n                                            customBidIncrement();\r\n                                        }\r\n                                    }}\r\n                                />\r\n                            </label>\r\n                        </div>\r\n                        <div className=\"col-4\">\r\n                            <button\r\n                                disabled={!isBidding}\r\n                                className={`custom_bid btn btn-success ms-1 w-100 h-100 ${\r\n                                    !isBidding && \"unavailable_btn\"\r\n                                }`}\r\n                                onClick={maxBidIncrement}\r\n                            >\r\n                                <i className=\"fas fa-gavel\"></i> 即買價\r\n                                <br />\r\n                                (${selectedProduct.buyPrice})\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <InputPhoneNumber />\r\n            )}\r\n\r\n            <CToaster ref={toaster} push={toast} placement=\"bottom-end\" />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LiveStreamBiddingInfo;\r\n","import \"./four0Four.scss\";\r\nimport bidcast_logo from \"./icon2p.png\";\r\n\r\nexport function Four0Four() {\r\n    return (\r\n        <div className=\"four0Four w-100 d-flex justify-content-center align-items-center flex-column my-5\">\r\n            <img\r\n                className=\"w-50\"\r\n                src=\"https://i.imgflip.com/5ru98i.jpg\"\r\n                alt=\"404\"\r\n            />\r\n            <div className=\"text-center my-3\">\r\n                無法瀏覽這個頁面。不便之處，敬請見諒。 <br />\r\n                請嘗試搜尋其他內容。\r\n            </div>\r\n            <img\r\n                className=\"logo w-25 rounded mb-3\"\r\n                src={bidcast_logo}\r\n                alt=\"logo\"\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Four0Four;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYYAAABQCAMAAAAqTiJRAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAv1QTFRFAAAAGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzSmXSlwAAAP90Uk5TAAEGToOpq6ief3VcOxkCBSCQkb343YdXZ32gqnZogVoxClTh+c0TJQQIDxcrpiNi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\"","import React, { useEffect, useRef, useState } from \"react\";\r\nimport \"./LiveStream.scss\";\r\nimport LiveStreamWindow from \"../../component/LiveStream/LiveStreamWindow\";\r\nimport LiveStreamControlPanel from \"../../component/LiveStream/LiveStreamControlPanel\";\r\nimport LiveStreamChatRoom from \"../../component/LiveStream/LiveStreamChatRoom\";\r\nimport LiveStreamRecommend from \"../../component/LiveStream/LiveStreamRecommend\";\r\nimport LiveStreamHeader from \"../../component/LiveStream/LiveStreamHeader\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { Button, ButtonGroup } from \"reactstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n    changeDummy,\r\n    fetchInitialChatMessages,\r\n    fetchliveStreamInfo,\r\n    fetchliveStreamProducts,\r\n    fetchSameCategoryLive,\r\n    resetLiveId,\r\n} from \"../../redux/LiveStream/actions\";\r\nimport { RootState } from \"../../store\";\r\nimport io, { Socket } from \"socket.io-client\";\r\nimport LiveStreamBiddingInfo from \"../../component/LiveStream/LiveStreamBiddingInfo\";\r\nimport Four0Four from \"../four0Four/four0Four\";\r\nimport QRCode from \"qrcode.react\";\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\r\n\r\ninterface LiveStreamProps {\r\n    setIsLoading: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nfunction LiveStream(props: LiveStreamProps) {\r\n    //Get States\r\n    const dispatch = useDispatch();\r\n    const liveStreamRef = useRef<HTMLDivElement>(null);\r\n    let roomForQRcode = new URLSearchParams(window.location.search).get(\"room\");\r\n    roomForQRcode = roomForQRcode != null ? roomForQRcode : \"\";\r\n\r\n    useEffect(() => {\r\n        let room = new URLSearchParams(window.location.search).get(\"room\");\r\n        room = room != null ? room : \"\";\r\n        let token = new URLSearchParams(window.location.search).get(\"token\");\r\n        token = token != null ? token : \"\";\r\n\r\n        dispatch(fetchliveStreamInfo(room, token));\r\n        return () => {\r\n            dispatch(resetLiveId());\r\n        };\r\n    }, [dispatch]);\r\n\r\n    const liveId = useSelector(\r\n        (state: RootState) => state.liveStream.liveStreamInfo.id\r\n    );\r\n\r\n    useEffect(() => {\r\n        if (liveId !== 0) {\r\n            dispatch(fetchliveStreamProducts(liveId, true));\r\n            dispatch(fetchInitialChatMessages(liveId));\r\n        }\r\n    }, [dispatch, liveId]);\r\n\r\n    const recommendProducts = useSelector(\r\n        (state: RootState) =>\r\n            state.liveStream.liveStreamProducts.liveStreamProductsArr\r\n    );\r\n\r\n    useEffect(() => {\r\n        let categoryIdSet = new Set<number>();\r\n        for (let product of recommendProducts) {\r\n            categoryIdSet.add(product.categoryId);\r\n        }\r\n        dispatch(\r\n            fetchSameCategoryLive(liveId, categoryIdSet, props.setIsLoading)\r\n        );\r\n    }, [dispatch, recommendProducts, liveId, props]);\r\n\r\n    useEffect(() => {\r\n        if (liveId === 0) {\r\n            props.setIsLoading(true);\r\n        } else if (liveId === -1) {\r\n            props.setIsLoading(false);\r\n        }\r\n    }, [props, liveId]);\r\n    //Get States\r\n\r\n    //Scroll to top\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);\r\n    }, []);\r\n    //Scroll to top\r\n\r\n    //React-responsive\r\n    const isDesktop = useMediaQuery({\r\n        query: \"(min-width: 1200px)\",\r\n    });\r\n    const isTablet = useMediaQuery({\r\n        query: \"(min-width: 768px)\",\r\n    });\r\n    const [page, setPage] = useState<number>(1);\r\n    //React-responsive\r\n\r\n    //Websocket Setup\r\n    const [ws, setWs] = useState<Socket | null>(null);\r\n\r\n    const connectWebSocket = () => {\r\n        if (process.env.REACT_APP_BACKEND_URL !== undefined) {\r\n            setWs(io(process.env.REACT_APP_BACKEND_URL));\r\n        }\r\n    };\r\n\r\n    if (liveId > 0 && ws === null) {\r\n        connectWebSocket();\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (ws) {\r\n            const initWebSocket = () => {\r\n                if (ws) {\r\n                    ws.emit(\"joinRoom\", liveId);\r\n                    ws.on(\"render\", () => {\r\n                        dispatch(fetchliveStreamProducts(liveId, false));\r\n                    });\r\n                    ws.emit(\"checkOnlineUsers\", liveId);\r\n                }\r\n            };\r\n            initWebSocket();\r\n        }\r\n    }, [dispatch, ws, liveId]);\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            ws?.close();\r\n        };\r\n    }, [ws]);\r\n    //Websocket Setup\r\n\r\n    //Add event listener\r\n    useEffect(() => {\r\n        const popstaeHandler = () => {\r\n            dispatch(changeDummy());\r\n        };\r\n        window.addEventListener(\"popstate\", popstaeHandler);\r\n        return () => {\r\n            window.removeEventListener(\"popstate\", popstaeHandler);\r\n        };\r\n    }, [dispatch]);\r\n    //Add event listener\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    const [copyState, setCopyState] = useState(false);\r\n    const onCopy = () => {\r\n        setCopyState(true);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {liveId === -1 ? (\r\n                <Four0Four />\r\n            ) : (\r\n                <div className=\"LiveStream m-3\" ref={liveStreamRef}>\r\n                    <div className=\"row\">\r\n                        <div className={`${isTablet ? \"col-8\" : \"col\"}`}>\r\n                            <LiveStreamWindow ws={ws} />\r\n                            {isTablet ? (\r\n                                <>\r\n                                    <div className=\"row mt-3 rounded\">\r\n                                        <div className={`col-12`}>\r\n                                            <div>\r\n                                                <LiveStreamBiddingInfo\r\n                                                    ws={ws}\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <LiveStreamControlPanel\r\n                                        isDesktop={isDesktop}\r\n                                        isTablet={isTablet}\r\n                                        ws={ws}\r\n                                    />\r\n                                    <LiveStreamHeader ws={ws} />\r\n                                </>\r\n                            ) : (\r\n                                <>\r\n                                    <ButtonGroup className=\"w-100\">\r\n                                        <Button\r\n                                            className=\"page_btn\"\r\n                                            onClick={() => setPage(1)}\r\n                                        >\r\n                                            直播資料\r\n                                        </Button>\r\n                                        <Button\r\n                                            className=\"page_btn\"\r\n                                            onClick={() => setPage(2)}\r\n                                        >\r\n                                            拍賣設定\r\n                                        </Button>\r\n                                        <Button\r\n                                            className=\"page_btn\"\r\n                                            onClick={() => setPage(3)}\r\n                                        >\r\n                                            聊天室\r\n                                        </Button>\r\n                                        <Button\r\n                                            className=\"page_btn\"\r\n                                            onClick={() => setPage(4)}\r\n                                        >\r\n                                            其他拍賣直播\r\n                                        </Button>\r\n                                    </ButtonGroup>\r\n                                    {page === 1 && <LiveStreamHeader ws={ws} />}\r\n                                    {page === 2 && (\r\n                                        <>\r\n                                            <div className=\"row mt-3 rounded\">\r\n                                                <div className={`col-12`}>\r\n                                                    <LiveStreamBiddingInfo\r\n                                                        ws={ws}\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                            <LiveStreamControlPanel\r\n                                                isDesktop={isDesktop}\r\n                                                isTablet={isTablet}\r\n                                                ws={ws}\r\n                                            />\r\n                                        </>\r\n                                    )}\r\n                                    {page === 3 && (\r\n                                        <LiveStreamChatRoom\r\n                                            liveStreamRef={liveStreamRef}\r\n                                            isTablet={isTablet}\r\n                                        />\r\n                                    )}\r\n                                    {page === 4 && (\r\n                                        <LiveStreamRecommend\r\n                                            setIsLoading={props.setIsLoading}\r\n                                        />\r\n                                    )}\r\n                                </>\r\n                            )}\r\n                            <div className={\"buyerLink_QRcode\"}>\r\n                                <CopyToClipboard\r\n                                    onCopy={onCopy}\r\n                                    text={`${process.env.REACT_APP_FRONTEND_URL}/liveStreaming?room=${roomForQRcode}`}\r\n                                >\r\n                                    <QRCode\r\n                                        value={`${process.env.REACT_APP_FRONTEND_URL}/liveStreaming?room=${roomForQRcode}`}\r\n                                        className={\"QRcode_pic\"}\r\n                                    />\r\n                                </CopyToClipboard>\r\n                                <div>\r\n                                    <span>此拍賣頁連結QR code</span>\r\n                                    <ul>\r\n                                        <li>手機掃描QR code即可打開</li>\r\n                                        <li>點擊圖案，複制連結並分享</li>\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        {isTablet && (\r\n                            <div className=\"col-4\">\r\n                                <div className=\"row\">\r\n                                    <div className=\"col\">\r\n                                        <LiveStreamChatRoom\r\n                                            liveStreamRef={liveStreamRef}\r\n                                            isTablet={isTablet}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div className=\"col\">\r\n                                        <LiveStreamRecommend\r\n                                            setIsLoading={props.setIsLoading}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default LiveStream;\r\n","// import \"./styles.css\";\r\nimport styled, { createGlobalStyle, keyframes } from \"styled-components\";\r\nimport \"./loading.scss\";\r\n// export function LoadingComponentTest() {\r\n//     return <div>hi</div>;\r\n// }\r\n\r\nexport function LoadingDefaultStyle() {\r\n    const ResetCss = createGlobalStyle`\r\n      body{\r\n        width: 99vw;\r\n        height: 100vh;\r\n        margin: 0;\r\n        padding: 0;\r\n      }\r\n    `;\r\n    const Wrap = styled.div`\r\n        width: 100vw;\r\n        height: 100vh;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        text-align: center;\r\n        position: fixed;\r\n        z-index: 13000;\r\n        background-color: rgba(0, 0, 0, 0.5);\r\n    `;\r\n    const rotation = keyframes`\r\n        0% {\r\n          transform: rotate(0deg);\r\n        }\r\n        100% {\r\n          transform: rotate(360deg);\r\n        }\r\n    `;\r\n    const Loading = styled.div`\r\n        width: 48px;\r\n        height: 48px;\r\n        border: 5px solid #000;\r\n        border-bottom-color: #50f2a1;\r\n        border-radius: 50%;\r\n        display: inline-block;\r\n        animation: ${rotation} 1s linear infinite;\r\n    `;\r\n    return (\r\n        <div className=\"load-location\">\r\n            <Wrap>\r\n                <ResetCss />\r\n                <Loading />\r\n            </Wrap>\r\n        </div>\r\n    );\r\n}\r\n","import { useForm } from \"react-hook-form\"\r\nimport axios from 'axios'\r\nimport { useDispatch } from \"react-redux\"\r\nimport { login, loadToken } from \"../../../redux/user/actions\";\r\nimport { useState } from \"react\";\r\nimport { push } from \"connected-react-router\";\r\nimport \"../Login.scss\"\r\n\r\n\r\n\r\nconst { REACT_APP_BACKEND_URL } = process.env\r\nexport function SignupForm() {\r\n  const { register, handleSubmit } = useForm();\r\n  const dispatch = useDispatch();\r\n  const [registerError, setRegisterError] = useState('');\r\n  return <div>\r\n    <form onSubmit={handleSubmit(async data => {\r\n      try {\r\n        const res = await axios.post<any>(`${REACT_APP_BACKEND_URL}/register`, {\r\n          username: data.username,\r\n          email: data.email,\r\n          password: data.password,\r\n          phoneNumber: data.phoneNumber,\r\n        })\r\n        // console.log(res.data)\r\n        if (res.data.token != null) {\r\n\r\n          localStorage.setItem('token', res.data.token)\r\n          dispatch(login(res.data.token))\r\n          dispatch(loadToken(res.data.token))\r\n          dispatch(push('/'))\r\n        }\r\n        else {\r\n          setRegisterError(`${res.data.data.msg}`)\r\n        }\r\n      } catch (e: any) {\r\n        setRegisterError('unknown error')\r\n      }\r\n    })}>\r\n      <div className=\"formField\">\r\n        <label className=\"formFieldLabel\" htmlFor=\"username\">\r\n          Username:\r\n        </label>\r\n\r\n        <input\r\n          className=\"formFieldInput\"\r\n          placeholder=\"Enter your username\"\r\n          {...register('username')} />\r\n      </div>\r\n      <div className=\"formField\">\r\n        <label className=\"formFieldLabel\" htmlFor=\"email\">\r\n          Email:\r\n        </label>\r\n        <input\r\n          className=\"formFieldInput\"\r\n          placeholder=\"Enter your email\"\r\n          {...register('email')} />\r\n      </div>\r\n\r\n      <div className=\"formField\">\r\n        <label className=\"formFieldLabel\" htmlFor=\"phoneNumber\">\r\n          Phone number:\r\n        </label>\r\n        <input\r\n          className=\"formFieldInput\"\r\n          placeholder=\"Enter your phone number\"\r\n          {...register('phoneNumber')} />\r\n      </div>\r\n\r\n      <div className=\"formField\">\r\n        <label className=\"formFieldLabel\" htmlFor=\"Password\">\r\n          Password:\r\n        </label>\r\n        <input\r\n          type=\"password\"\r\n          className=\"formFieldInput\"\r\n          placeholder=\"Enter your password\"\r\n          {...register('password')} />\r\n      </div>\r\n      <div className=\"formField\">\r\n        {registerError}\r\n      </div>\r\n      <input className=\"formFieldButton\" type=\"submit\" />\r\n\r\n    </form>\r\n  </div>\r\n}","import { useForm } from \"react-hook-form\"\r\nimport axios from 'axios'\r\nimport { useDispatch } from \"react-redux\"\r\nimport { login, loadToken,  } from \"../../../redux/user/actions\";\r\nimport { useState } from \"react\";\r\nimport { push } from \"connected-react-router\";\r\n\r\nimport \"../Login.scss\"\r\n\r\n\r\nconst { REACT_APP_BACKEND_URL } = process.env\r\n\r\n\r\nexport function LoginForm() {\r\n  const { register, handleSubmit } = useForm()\r\n  const dispatch = useDispatch();\r\n  const [error, setError] = useState('')\r\n \r\n  \r\n  return (\r\n    <div className=\"formCenter\">\r\n      {/* login form */}\r\n      <form className=\"formFields\" onSubmit={handleSubmit(async data => {\r\n        try {\r\n          const res = await axios.post<any>(`${REACT_APP_BACKEND_URL}/login`, {\r\n            email: data.loginEmail,\r\n            password: data.loginPassword\r\n          })\r\n          // console.log(res.data.result.data.msg)\r\n          \r\n          if (res.data.token != null) {\r\n            \r\n            localStorage.setItem('token', res.data.token)\r\n            dispatch(login(res.data.token))\r\n            dispatch(loadToken(res.data.token))\r\n            \r\n            dispatch(push('/'))\r\n          }\r\n          else{\r\n            setError(`${res.data.data.msg}`)\r\n          }\r\n        } catch (e: any) {\r\n          setError('unknown error')\r\n        }\r\n      })}>\r\n        <div className=\"formField\">\r\n          <label className=\"formFieldLabel\" htmlFor=\"email\">\r\n            Email:\r\n          </label>\r\n          <input \r\n           className=\"formFieldInput\"\r\n           placeholder=\"Enter your email\"\r\n          {...register('loginEmail')} /> \r\n        </div>\r\n        <div className=\"formField\">\r\n          <label className=\"formFieldLabel\" htmlFor=\"password\">\r\n            Password:\r\n          </label>\r\n          <input \r\n            type=\"password\"\r\n            className=\"formFieldInput\"\r\n            placeholder=\"Enter your password\"\r\n            {...register('loginPassword')} />\r\n        </div>\r\n        <div className=\"formField\">\r\n          {error}\r\n        </div>\r\n\r\n\r\n        <div className=\"formField\">\r\n          <input className=\"formFieldButton\" type=\"submit\"/>\r\n        </div>\r\n      </form> \r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\n","import React, { useEffect } from \"react\";\r\nimport { NavLink, Route, Switch, BrowserRouter, withRouter } from \"react-router-dom\";\r\nimport '../Login.scss';\r\nimport { SignupForm } from \"../Form/SignupForm\";\r\nimport { LoginForm } from \"../Form/LoginForm\";\r\nimport { useDispatch } from \"react-redux\"\r\nimport { SwitchTransition, CSSTransition } from 'react-transition-group';\r\n\r\nexport const AnimatedSwitch = withRouter(({ location }) => (\r\n    <SwitchTransition>\r\n        <CSSTransition\r\n            key={location.key}\r\n            classNames=\"my-node\"\r\n            timeout={300}\r\n            addEndListener={(node, done) => node.addEventListener(\"transitionend\", done, false)}\r\n            unmountOnExit\r\n        >\r\n            <Switch>\r\n                <Route exact path=\"/loginPage/SignupForm\" component={SignupForm} />\r\n                <Route exact path=\"/loginPage\" component={LoginForm} />\r\n            </Switch>\r\n        </CSSTransition>\r\n    </SwitchTransition>\r\n));","import React, { useEffect } from \"react\";\r\nimport { NavLink, Route, Switch, BrowserRouter, withRouter } from \"react-router-dom\";\r\nimport \"../Login.scss\"\r\n\r\nexport function FormTitle() {\r\n    return (\r\n        <>\r\n            <div className=\"formTitle2\">\r\n                <NavLink exact to='/loginPage'\r\n                    activeClassName=\"formTitleLink-active\"\r\n                    className=\"formTitleLink\">登入</NavLink>\r\n                or\r\n                <NavLink exact to='/loginPage/SignupForm'\r\n                    activeClassName=\"formTitleLink-active\"\r\n                    className=\"formTitleLink\"\r\n                >註冊\r\n                </NavLink>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useEffect } from \"react\";\r\nimport { NavLink, Route, Switch, BrowserRouter, withRouter } from \"react-router-dom\";\r\nimport { ConnectedRouter, push } from 'connected-react-router';\r\nimport { history, store } from '../../store';\r\nimport { Provider } from \"react-redux\";\r\nimport './Login.scss';\r\nimport image1 from \"./1.jpg\"\r\nimport image2 from \"./img2.jpg\"\r\nimport image3 from \"./img1.jpeg\"\r\nimport { SignupForm } from \"./Form/SignupForm\";\r\nimport { LoginForm } from \"./Form/LoginForm\";\r\nimport { useDispatch } from \"react-redux\"\r\nimport { checkPhoneNumber, loadToken, login } from \"../../redux/user/actions\";\r\nimport { useState } from \"react\";\r\nimport axios from 'axios'\r\nimport FacebookLogin from \"react-facebook-login\";\r\nimport { SwitchTransition, CSSTransition } from 'react-transition-group';\r\nimport GoogleLogin from 'react-google-login';\r\nimport { LoadingDefaultStyle } from \"../loading/loading\";\r\nimport { AnimatedSwitch } from \"./LoginCompoent/AnimatedSwitch\";\r\nimport { FormTitle } from \"./LoginCompoent/formtitle\"\r\n\r\n\r\n\r\nexport function LoginPage() {\r\n  const dispatch = useDispatch();\r\n  const [error, setError] = useState('')\r\n\r\n\r\n  const responseGoogle = async (response: any) => {\r\n    // console.log(response);\r\n    if (response.profileObj) {\r\n\r\n      try {\r\n        const res = await axios.post<any>(`${process.env.REACT_APP_BACKEND_URL}/login/google`, {\r\n          name: response.profileObj.name,\r\n          email: response.profileObj.email,\r\n        })\r\n\r\n\r\n        if (res.data.token != null) {\r\n          localStorage.setItem('token', res.data.token)\r\n          dispatch(login(res.data.token))\r\n          dispatch(loadToken(res.data.token))\r\n          dispatch(checkPhoneNumber())\r\n          // dispatch(checkUserPhoneNumber())?\r\n          // dispatch((Toasts())):\r\n\r\n        } else {\r\n          setError('發生未知錯誤')\r\n        }\r\n      } catch (e: any) {\r\n        if (e?.response.status === 401) {\r\n          setError('發生未知錯誤')\r\n        } else {\r\n          console.error(e)\r\n          setError('發生未知錯誤')\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  const responseFacebook = async (response: any) => {\r\n\r\n    // console.log(response)\r\n\r\n\r\n    if (response) {\r\n      try {\r\n\r\n        const res = await axios.post<any>(`${process.env.REACT_APP_BACKEND_URL}/login/facebook`, {\r\n          name: response.name,\r\n          email: response.email,\r\n          image: response.picture.data.url\r\n        })\r\n        // console.log(res.data)\r\n\r\n        if (res.data.token != null) {\r\n          localStorage.setItem('token', res.data.token)\r\n          dispatch(login(res.data.token))\r\n          dispatch(loadToken(res.data.token))\r\n          dispatch(checkPhoneNumber())\r\n          // dispatch(checkUserPhoneNumber())?\r\n          // dispatch((PhoneNumberMessageBox())):\r\n\r\n\r\n        } else {\r\n          setError('email or password wrong')\r\n        }\r\n      } catch (e: any) {\r\n        if (e?.response.status === 401) {\r\n          setError('發生未知錯誤')\r\n        } else {\r\n          console.error(e)\r\n          setError('發生未知錯誤')\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function FbButton() {\r\n    return <div className=\"flex-icon1\">\r\n\r\n      <div className=\"fab fa-facebook-square fa-lg rightMargin\" />\r\n      <div>Login with Facebook</div>\r\n    </div>;\r\n  }\r\n  const [loadStatus, setLoadStatus] = useState(\"loadingShown\");\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setLoadStatus(\"loadingHide\");\r\n    }, 200);\r\n  }, []);\r\n\r\n  return (\r\n    loadStatus === \"loadingShown\" ? (\r\n      <div className={loadStatus}>\r\n        <LoadingDefaultStyle />\r\n      </div>\r\n    ) : (\r\n      <Provider store={store}>\r\n        <ConnectedRouter history={history}>\r\n          <BrowserRouter>\r\n            <div className=\"fakeapp\">\r\n\r\n              <div className=\"appForm\">\r\n                <FormTitle />\r\n\r\n                <div className=\"formTitle\">\r\n\r\n                  <FacebookLogin\r\n                    appId={process.env.REACT_APP_FACEBOOK_APP_ID || ''}\r\n                    autoLoad={false}\r\n                    fields=\"name,email,picture\"\r\n                    callback={responseFacebook}\r\n                    cssClass=\"fbcss\"\r\n                    icon={<FbButton />}\r\n                    textButton=''\r\n                  />\r\n\r\n\r\n                  <GoogleLogin\r\n\r\n                    clientId={process.env.REACT_APP_GOOGLE_APP_ID || ''}\r\n                    buttonText=\"Login with Google\"\r\n                    onSuccess={responseGoogle}\r\n                    onFailure={responseGoogle}\r\n                    cookiePolicy={'single_host_origin'}\r\n\r\n                  />\r\n\r\n                  {error}\r\n                </div>\r\n                <AnimatedSwitch />\r\n\r\n              </div>\r\n            </div>\r\n\r\n          </BrowserRouter>\r\n        </ConnectedRouter>\r\n      </Provider>\r\n    )\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/bidcast_logo.78770b8f.svg\";","import { RootState, RootThunkDispatch } from \"../../store\";\r\n\r\nexport interface SearchProduct {\r\n    id: number;\r\n    product_name: string;\r\n    buy_price: number;\r\n    product_image: string;\r\n    description: string;\r\n    username: string;\r\n    min_price: number;\r\n    starting_time: string;\r\n    buyer_link: string;\r\n    is_ended: boolean;\r\n}\r\n\r\nexport interface CategoriesFilter {\r\n    id: number;\r\n    product_name: string;\r\n    buy_price: number;\r\n    product_image: string;\r\n    description: string;\r\n    username: string;\r\n    buyer_link: string;\r\n    min_price: number;\r\n    category: string;\r\n    starting_time: string;\r\n    is_ended: boolean;\r\n}\r\n\r\nexport interface ProductFilter {\r\n    id: number;\r\n    product_name: string;\r\n    buy_price: number;\r\n    product_image: string;\r\n    description: string;\r\n    username: string;\r\n    min_price: number;\r\n    starting_time: string;\r\n    buyer_link: string;\r\n    is_ended: boolean;\r\n}\r\n\r\n//load product search result\r\nexport function loadProductSearchResult(productList: SearchProduct[]) {\r\n    return {\r\n        type: \"@@products/LOAD_PRODUCT_SEARCH_RESULT\" as const,\r\n        productList,\r\n    };\r\n}\r\n\r\nexport function loadProductCategories(categories: CategoriesFilter[]) {\r\n    return {\r\n        type: \"@@products/LOAD_PRODUCT_CATEGORIES\" as const,\r\n        categories,\r\n    };\r\n}\r\n\r\nexport function loadProductForFilter(productFilter: ProductFilter[]) {\r\n    return {\r\n        type: \"@@products/LOAD_PRODUCT_FOR_FILTER\" as const,\r\n        productFilter,\r\n    };\r\n}\r\n\r\nexport function sortByDate(sortByDates: SearchProduct[]) {\r\n    return {\r\n        type: \"@@products/SORT_BY_DATE\" as const,\r\n        sortByDates,\r\n    }\r\n}\r\n\r\nexport function sortByPrice(sortByPrices: SearchProduct[]) {\r\n    return {\r\n        type: \"@@products/SORT_BY_PRICE\" as const,\r\n        sortByPrices,\r\n    }\r\n}\r\n\r\nexport type SearchProductsActions =\r\n    | ReturnType<typeof loadProductSearchResult>\r\n    | ReturnType<typeof loadProductCategories>\r\n    | ReturnType<typeof loadProductForFilter>\r\n    | ReturnType<typeof sortByDate>\r\n    | ReturnType<typeof sortByPrice>\r\n\r\nexport function fetchProductSearchResult(searchKeywords: string) {\r\n    return async (dispatch: RootThunkDispatch, getState: () => RootState) => {\r\n        try {\r\n            const res = await fetch(\r\n                `\r\n            ${process.env.REACT_APP_BACKEND_URL}/product/search\r\n            `,\r\n                {\r\n                    method: \"POST\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json; charset=utf-8\",\r\n                    },\r\n                    body: JSON.stringify({ searchKeywords }),\r\n                }\r\n            );\r\n\r\n            const json = await res.json();\r\n\r\n            dispatch(loadProductSearchResult(json.data.results.rows));\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n}\r\n\r\nexport function fetchFilteredCategories(categoryId: number) {\r\n    return async (dispatch: RootThunkDispatch, getState: () => RootState) => {\r\n        try {\r\n            const res = await fetch(\r\n                `\r\n            ${process.env.REACT_APP_BACKEND_URL}/product/categories\r\n            `,\r\n                {\r\n                    method: \"POST\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json; charset=utf-8\",\r\n                    },\r\n                    body: JSON.stringify({ categoryId }),\r\n                }\r\n            );\r\n            const json = await res.json();\r\n            dispatch(loadProductCategories(json.data.results.rows));\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n}\r\n\r\nexport function fetchProductsForFilter(orderCommand: string) {\r\n    return async (dispatch: RootThunkDispatch, getState: () => RootState) => {\r\n        try {\r\n            const res = await fetch(\r\n                `\r\n            ${process.env.REACT_APP_BACKEND_URL}/product/categories/filter\r\n            `,\r\n                {\r\n                    method: \"POST\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json; charset=utf-8\",\r\n                    },\r\n                    body: JSON.stringify({ orderCommand }),\r\n                }\r\n            );\r\n            const json = await res.json();\r\n\r\n            // if (json) {\r\n            dispatch(loadProductForFilter(json.data.results.rows));\r\n            // } else {\r\n            //     dispatch(loadProductForFilter([]))\r\n            // }\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n}\r\n","import { RootState, RootThunkDispatch } from \"../../store\";\r\n\r\nexport interface Product {\r\n    id: number;\r\n    product_name: string;\r\n    live_id: number;\r\n    seller_id: number;\r\n    min_price: number;\r\n    current_price: number;\r\n    buy_price: number;\r\n    bidIncrement: number;\r\n    buyer_id: number;\r\n    category_id: number;\r\n    product_image: string;\r\n    is_selected: boolean;\r\n    countdown_start_time: Date;\r\n    duration: number;\r\n    is_ended: boolean;\r\n    created_by: string;\r\n    updated_by: string;\r\n    created_at: Date;\r\n    updated_at: Date;\r\n    username: string;\r\n}\r\n\r\nexport interface Category {\r\n    id: number;\r\n    category: string;\r\n    created_at: Date;\r\n    updated_at: Date;\r\n    productIds: number[]; //分類頁面用 or do it with knex?\r\n}\r\n\r\n// Action creator\r\nexport function loadCategories(categories: Category[]) {\r\n    return {\r\n        type: \"@@products/LOAD_CATEGORIES\" as const,\r\n        categories,\r\n    };\r\n}\r\n\r\n\r\n\r\nexport type ProductsActions = ReturnType<typeof loadCategories>\r\n\r\n\r\n\r\n// Thunk action creator (fetch)\r\n\r\nexport function fetchCategories() {\r\n    return async (dispatch: RootThunkDispatch, getState: () => RootState) => {\r\n        try {\r\n            const res = await fetch(\r\n                `${process.env.REACT_APP_BACKEND_URL}/categories`\r\n            );\r\n            const json = await res.json();\r\n            const categoriesData = json.data.results;\r\n            // console.log(\"json\", categoriesData);\r\n\r\n            // for(let category of json) {\r\n            //  const res = await fetch(`${process.env.REACT_APP_BACKEND_URL}/categories/${category.id}/products`)\r\n            //  const productJson = await res.json();\r\n\r\n            //  dispatch(loadProduct(productJson, category.id));\r\n            // }\r\n            dispatch(loadCategories(categoriesData));\r\n        } catch (error) {\r\n            console.log(error);\r\n\r\n        }\r\n\r\n    };\r\n}\r\n\r\n","export function sidebarClick(isCollapse: boolean) {\r\n    return {\r\n        type: \"@@utility/SIDEBAR_ONCLICK\" as const,\r\n        isCollapse,\r\n    };\r\n}\r\n\r\nexport function menuIconClick(isCollapse: boolean, isClicking: boolean) {\r\n    return {\r\n        type: \"@@utility/MENU_ICON_ONCLICK\" as const,\r\n        isCollapse,\r\n        isClicking,\r\n    };\r\n}\r\n\r\nexport type UtilityActions =\r\n    | ReturnType<typeof sidebarClick>\r\n    | ReturnType<typeof menuIconClick>;\r\n","import {\r\n    Nav,\r\n    Navbar,\r\n    NavDropdown,\r\n    Popover,\r\n    OverlayTrigger,\r\n} from \"react-bootstrap\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./Homepage.scss\";\r\nimport bidcast_logo from \"./bidcast_logo.svg\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useRef, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../store\";\r\nimport React, { useEffect } from \"react\";\r\nimport { checkCurrentUser, logoutThunk } from \"../../redux/user/actions\";\r\nimport { push } from \"connected-react-router\";\r\nimport { FormGroup, Input } from \"reactstrap\";\r\nimport {\r\n    fetchFilteredCategories,\r\n    fetchProductSearchResult,\r\n} from \"../../redux/searchResult/action\";\r\nimport { fetchCategories } from \"../../redux/products/actions\";\r\nimport { menuIconClick, sidebarClick } from \"../../redux/utility/actions\";\r\n\r\ninterface NavbarProps {\r\n    setNavbarRef: React.Dispatch<\r\n        React.SetStateAction<HTMLDivElement | undefined>\r\n    >;\r\n}\r\n\r\nexport const HomePageNavbar = (props: NavbarProps) => {\r\n    // const [show, setShow] = useState(false);\r\n    // const showDropdown = () => {\r\n    //   setShow(!show);\r\n    // };\r\n    // const hideDropdown = () => {\r\n    //   setShow(false);\r\n    // };\r\n\r\n    const dispatch = useDispatch();\r\n    const isAuthenticate = useSelector(\r\n        (state: RootState) => state.user.isAuthenticate\r\n    );\r\n    const profilePic = useSelector((state: RootState) => {\r\n        if (\r\n            typeof state.authState.user !== \"string\" &&\r\n            state.authState.user?.profile_pic\r\n        ) {\r\n            return state.authState.user.profile_pic;\r\n        }\r\n        return \"360_F_391192211_2w5pQpFV1aozYQhcIw3FqA35vuTxJKrB.jpg\";\r\n    });\r\n    const phoneNumber = useSelector((state: RootState) => {\r\n        if (\r\n            typeof state.authState.user !== \"string\" &&\r\n            state.authState.user?.phone_number\r\n        ) {\r\n            return state.authState.user?.phone_number;\r\n        }\r\n        return \"\";\r\n    });\r\n    const sidebarCollapse = useSelector(\r\n        (state: RootState) => state.utility.sidebarCollapse\r\n    );\r\n    const menuCollapse = useSelector(\r\n        (state: RootState) => state.utility.menuCollapse\r\n    );\r\n    const isClicking = useSelector(\r\n        (state: RootState) => state.utility.isClicking\r\n    );\r\n    const menuRef = useRef<HTMLDivElement>(null);\r\n    const menuToggle = useRef<HTMLButtonElement>(null);\r\n    const divRef = useRef<HTMLDivElement>(null);\r\n    useEffect(() => {}, [sidebarCollapse]);\r\n\r\n    useEffect(() => {\r\n        dispatch(checkCurrentUser());\r\n    }, [dispatch]);\r\n\r\n    const [searchInput, setSearchInput] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchProductSearchResult(searchInput));\r\n    }, [dispatch, searchInput]);\r\n\r\n    const popover = (\r\n        <Popover id=\"popover-basic\">\r\n            <Popover.Header as=\"div\">請先登入</Popover.Header>\r\n        </Popover>\r\n    );\r\n\r\n    const categories = useSelector((state: RootState) =>\r\n        Object.values(state.products.categories)\r\n    );\r\n\r\n    useEffect(() => {\r\n        // fetch ser 拎 categories data\r\n        dispatch(fetchCategories());\r\n    }, [dispatch]);\r\n\r\n    const menuIconOnclickHandler = (e: React.MouseEvent) => {\r\n        // e.stopPropagation();\r\n        dispatch(sidebarClick(true));\r\n        dispatch(menuIconClick(menuCollapse ? false : true, false));\r\n    };\r\n    // const preventPropagation = (e: React.MouseEvent) => {\r\n    //     e.stopPropagation();\r\n    // }\r\n    const navbarOnClickHandler = () => {\r\n        if (\r\n            menuToggle.current?.classList[\r\n                Array.from(menuToggle.current?.classList).indexOf(\"collapsed\")\r\n            ] !== \"collapsed\"\r\n        ) {\r\n            menuToggle.current?.click();\r\n        }\r\n    };\r\n\r\n    const [categoryId, setCategoryId] = useState(0);\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchFilteredCategories(categoryId));\r\n    }, [dispatch, categoryId]);\r\n\r\n    useEffect(() => {\r\n        if (isClicking && menuRef.current && menuToggle.current) {\r\n            menuToggle.current.click();\r\n        }\r\n    }, [isClicking]);\r\n\r\n    useEffect(() => {\r\n        if (divRef && divRef.current) {\r\n            props.setNavbarRef(divRef.current);\r\n        }\r\n    }, [divRef, props]);\r\n    return (\r\n        <div ref={divRef}>\r\n            {divRef && (\r\n                <Navbar collapseOnSelect expand=\"lg\" className=\"navbar py-0 \">\r\n                    <Link to=\"/\" className=\"nav_link ms-3 bidcast_logo_link\">\r\n                        <img\r\n                            alt=\"bidcast_logo\"\r\n                            src={bidcast_logo}\r\n                            height=\"40\"\r\n                            className=\"d-inline-block align-top bidcast_logo\"\r\n                        />\r\n                    </Link>\r\n                    <Navbar.Toggle\r\n                        aria-controls=\"responsive-navbar-nav\"\r\n                        onClick={menuIconOnclickHandler}\r\n                        ref={menuToggle}\r\n                    />\r\n                    <Navbar.Collapse\r\n                        id=\"responsive-navbar-nav\"\r\n                        className=\" mt-md-0 mt-3\"\r\n                        ref={menuRef}\r\n                        // onClick={preventPropagation}\r\n                    >\r\n                        <Nav className=\"me-auto navbar_buttons\">\r\n                            <FormGroup className={\"search_formgroup\"}>\r\n                                <Input\r\n                                    type=\"search\"\r\n                                    name=\"search\"\r\n                                    id=\"exampleSearch\"\r\n                                    placeholder=\"搜尋...\"\r\n                                    onChange={(event) => {\r\n                                        setSearchInput(event.target.value);\r\n                                    }}\r\n                                    onKeyPress={(event) => {\r\n                                        if (event.key === \"Enter\") {\r\n                                            event.preventDefault();\r\n                                            dispatch(\r\n                                                push(\r\n                                                    `/searchResult?SearchingKeywords=${searchInput}`\r\n                                                )\r\n                                            );\r\n                                        }\r\n                                    }}\r\n                                />\r\n                            </FormGroup>\r\n\r\n                            <Link\r\n                                to=\"/\"\r\n                                className=\"nav_link highlight_hover\"\r\n                                onClick={navbarOnClickHandler}\r\n                            >\r\n                                主頁\r\n                            </Link>\r\n\r\n                            {!isAuthenticate ? (\r\n                                <OverlayTrigger\r\n                                    trigger=\"click\"\r\n                                    placement=\"bottom\"\r\n                                    overlay={popover}\r\n                                    rootClose\r\n                                >\r\n                                    <Link\r\n                                        to=\"#\"\r\n                                        className=\"nav_link highlight_hover\"\r\n                                        onClick={navbarOnClickHandler}\r\n                                    >\r\n                                        舉辦拍賣\r\n                                    </Link>\r\n                                </OverlayTrigger>\r\n                            ) : (\r\n                                <Link\r\n                                    to={\r\n                                        phoneNumber === \"\" ||\r\n                                        phoneNumber === \"11111111\"\r\n                                            ? \"/profilePage/accountDetails\"\r\n                                            : \"/createBids\"\r\n                                    }\r\n                                    className=\"nav_link highlight_hover\"\r\n                                    onClick={navbarOnClickHandler}\r\n                                >\r\n                                    舉辦拍賣\r\n                                </Link>\r\n                            )}\r\n\r\n                            <NavDropdown\r\n                                title=\"商品分類\"\r\n                                id=\"collasible-nav-dropdown\"\r\n                                className=\"dropdown highlight_hover\"\r\n                                // show={show}\r\n                                // onMouseEnter={showDropdown}\r\n                                // onMouseLeave={hideDropdown}\r\n                            >\r\n                                {categories.map((category) => (\r\n                                    <Link\r\n                                        to={`/categoryResult?category=${category.category}`}\r\n                                        className=\"dropdown_items\"\r\n                                        key={category.id}\r\n                                        onClick={() => {\r\n                                            setCategoryId(category.id);\r\n                                            navbarOnClickHandler();\r\n                                        }}\r\n                                    >\r\n                                        {category.category}\r\n                                    </Link>\r\n                                ))}\r\n                            </NavDropdown>\r\n                            {!isAuthenticate ? (\r\n                                <Link\r\n                                    to=\"/loginPage\"\r\n                                    className=\"nav_link highlight_hover\"\r\n                                    onClick={navbarOnClickHandler}\r\n                                >\r\n                                    登入 ／ 註冊\r\n                                </Link>\r\n                            ) : (\r\n                                <Link\r\n                                    to=\"#\"\r\n                                    onClick={(e) => {\r\n                                        e.preventDefault();\r\n                                        dispatch(logoutThunk());\r\n                                        dispatch(push(\"/\"));\r\n                                        navbarOnClickHandler();\r\n                                    }}\r\n                                    className=\"nav_link highlight_hover\"\r\n                                >\r\n                                    登出\r\n                                </Link>\r\n                            )}\r\n                            <Link\r\n                                to=\"/profilePage/accountDetails\"\r\n                                className=\"nav_link mb-md-0 mb-3 me-0 me-md-3 profile_pic\"\r\n                            >\r\n                                {isAuthenticate && profilePic && (\r\n                                    <img\r\n                                        alt=\"profile_pic\"\r\n                                        src={`${\r\n                                            profilePic.search(\r\n                                                /(https:\\/\\/)|(http:\\/\\/)/i\r\n                                            ) < 0\r\n                                                ? process.env\r\n                                                      .REACT_APP_BACKEND_URL +\r\n                                                  \"/\" +\r\n                                                  profilePic\r\n                                                : profilePic\r\n                                        }`}\r\n                                        width=\"40\"\r\n                                        height=\"40\"\r\n                                        className=\"rounded-circle \"\r\n                                        onClick={navbarOnClickHandler}\r\n                                    />\r\n                                )}\r\n                            </Link>\r\n                        </Nav>\r\n                    </Navbar.Collapse>\r\n                </Navbar>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n","import { Button, Container, OverlayTrigger, Popover } from \"react-bootstrap\";\r\nimport bidcast_logo from \"./bidcast_logo.svg\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../store\";\r\nimport { useEffect } from \"react\";\r\nimport { checkCurrentUser, logoutThunk } from \"../../redux/user/actions\";\r\nimport { push } from \"connected-react-router\";\r\n\r\nexport function Footer() {\r\n    const dispatch = useDispatch();\r\n    const isAuthenticate = useSelector(\r\n        (state: RootState) => state.user.isAuthenticate\r\n    );\r\n\r\n    useEffect(() => {\r\n        dispatch(checkCurrentUser());\r\n    }, [dispatch]);\r\n\r\n    const popover = (\r\n        <Popover id=\"popover-basic\">\r\n            <Popover.Header as=\"h3\">請先登入</Popover.Header>\r\n        </Popover>\r\n    );\r\n    return (\r\n        <footer>\r\n            <Container>\r\n                <div className=\"logo_and_getStarted\">\r\n                    <img\r\n                        alt=\"bidcast_logo\"\r\n                        src={bidcast_logo}\r\n                        height=\"30\"\r\n                        className=\"d-inline-block align-top\"\r\n                    />\r\n                    <div>\r\n                        <span className=\"get_started\">想成為拍賣主？</span>\r\n                        {isAuthenticate ? (\r\n                            <Link to=\"/createBids\" className=\"nav_link\">\r\n                                <Button\r\n                                    variant=\"success\"\r\n                                    className=\"get_started_button\"\r\n                                >\r\n                                    按這裏\r\n                                </Button>\r\n                            </Link>\r\n                        ) : (\r\n                            <Link to=\"/loginPage\" className=\"nav_link\">\r\n                                <Button\r\n                                    variant=\"success\"\r\n                                    className=\"get_started_button\"\r\n                                >\r\n                                    按這裏\r\n                                </Button>\r\n                            </Link>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n                <div className=\"footer_links\">\r\n                    <Link\r\n                        to=\"/searchResult?SearchingKeywords=\"\r\n                        className=\"nav_link\"\r\n                    >\r\n                        更多商品\r\n                    </Link>\r\n                    {!isAuthenticate ? (\r\n                        <OverlayTrigger\r\n                            trigger=\"click\"\r\n                            placement=\"bottom\"\r\n                            overlay={popover}\r\n                            rootClose\r\n                        >\r\n                            <Link to=\"#\" className=\"nav_link\">\r\n                                舉辦拍賣\r\n                            </Link>\r\n                        </OverlayTrigger>\r\n                    ) : (\r\n                        <Link to=\"/createBids\" className=\"nav_link\">\r\n                            舉辦拍賣\r\n                        </Link>\r\n                    )}\r\n                    {!isAuthenticate ? (\r\n                        <Link to=\"/loginPage\" className=\"nav_link\">\r\n                            登入 ／ 註冊\r\n                        </Link>\r\n                    ) : (\r\n                        <Link\r\n                            to=\"#\"\r\n                            onClick={(e) => {\r\n                                e.preventDefault();\r\n                                dispatch(logoutThunk());\r\n                                dispatch(push(\"/\"));\r\n                            }}\r\n                            className=\"nav_link\"\r\n                        >\r\n                            登出\r\n                        </Link>\r\n                    )}\r\n                </div>\r\n                <span className=\"copyright\">\r\n                    Copyright © 2021 Bidcast All Rights Reserved.\r\n                </span>\r\n            </Container>\r\n        </footer>\r\n    );\r\n}\r\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n    faCalendarAlt,\r\n    faTimes,\r\n    faClipboard,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nexport function DatePickerIcon() {\r\n    return <FontAwesomeIcon icon={faCalendarAlt} className={\"DateIcon\"} />;\r\n}\r\n\r\nexport function CloseCross() {\r\n    return <FontAwesomeIcon icon={faTimes} className={\"CloseCross\"} />;\r\n}\r\nexport function FaClipboard() {\r\n    return <FontAwesomeIcon icon={faClipboard} className={\"FaClipboard\"} />;\r\n}\r\n\r\nexport function loadingComponentTest() {\r\n    return <div>hi</div>;\r\n}\r\n","import { useEffect, useState, Fragment } from \"react\";\r\nimport { Alert } from \"reactstrap\";\r\nimport {\r\n    SubmitHandler,\r\n    useForm,\r\n    Controller,\r\n    useFieldArray,\r\n    useWatch,\r\n} from \"react-hook-form\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { RootState, RootThunkDispatch } from \"../../store\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport \"./CreateBids.scss\";\r\nimport { fetchCategories } from \"../../redux/products/actions\";\r\nimport { push } from \"connected-react-router\";\r\nimport { CloseCross, DatePickerIcon } from \"./components/Fontawsome\";\r\nimport { v4 } from \"uuid\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport path from \"path\";\r\nimport { HomepageCanvas } from \"../homepage/components/HomePageKonva\";\r\nimport { Canvass } from \"../LiveStream/components/Konva2\";\r\n// import { AnySet } from \"immer/dist/internal\";\r\n// import { BsWindowSidebar } from \"react-icons/bs\";\r\n// import axios from \"axios\";\r\n// import moment from \"moment\";\r\n\r\ninterface liveInput {\r\n    liveTitle: string;\r\n    liveImage: string;\r\n    startDate: Date;\r\n    description?: string | undefined;\r\n}\r\ninterface productInput {\r\n    name: string;\r\n    productImage: string;\r\n    minimumBid: string;\r\n    eachBidAmount: string;\r\n    buyPrice: string;\r\n    categoryId: string;\r\n    description?: string | undefined;\r\n}\r\n\r\ntype Inputs = {\r\n    liveInput: liveInput;\r\n    productInput: productInput[];\r\n};\r\n\r\n//fontAwesome component\r\n\r\nexport function CreateBids() {\r\n    //config\r\n    const dispatch = useDispatch();\r\n\r\n    // get current\r\n    const user = useSelector((state: RootState) => state.authState.user);\r\n    // console.log(\"user\", user);\r\n    const userInfo = JSON.parse(JSON.stringify(user));\r\n\r\n    //get category\r\n    const categories = useSelector((state: RootState) =>\r\n        Object.values(state.products.categories)\r\n    );\r\n    const { register, watch, handleSubmit, control } = useForm<Inputs>();\r\n    useEffect(() => {\r\n        // fetch ser 拎 categories data\r\n        dispatch(fetchCategories());\r\n    }, [dispatch]);\r\n\r\n    // Alert\r\n    const [alert, setAlert] = useState<any>([]);\r\n\r\n    const removeAlert = (e: any) => {\r\n        setAlert([]);\r\n    };\r\n    function AlertRequireProductsListAppend() {\r\n        return (\r\n            <div>\r\n                <Alert className={\"Alert_container\"} color=\"info\">\r\n                    請先登記最少一樣商品\r\n                    <div className={\"close-alert\"} onClick={removeAlert}>\r\n                        <CloseCross />\r\n                    </div>\r\n                </Alert>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    function AlertRequireProductsImageAppend() {\r\n        return (\r\n            <div>\r\n                <Alert className={\"Alert_container\"} color=\"info\">\r\n                    請重新確認商品照片\r\n                    <div className={\"close-alert\"} onClick={removeAlert}>\r\n                        <CloseCross />\r\n                    </div>\r\n                </Alert>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // onsubmit\r\n    let [productImgConfirm, setProductImgConfirm] = useState(false);\r\n    const onSubmit: SubmitHandler<Inputs> = async (data) => {\r\n        const checkProductsList = data.productInput;\r\n        let confirm: boolean = false;\r\n        // console.log(\"pro\", checkProductsList);\r\n\r\n        if (checkProductsList.length > 0) {\r\n            for (let product of checkProductsList) {\r\n                if (\r\n                    product.productImage[0]\r\n                    // product.productImage != null ||\r\n                    // product.productImage != undefined\r\n                ) {\r\n                    // setProductImgConfirm(true);\r\n                    confirm = true;\r\n                } else {\r\n                    // setProductImgConfirm(false);\r\n                    //Alert\r\n                }\r\n            }\r\n            if (confirm) {\r\n                const live = data.liveInput;\r\n\r\n                // ** live Inputs FormData Field **\r\n                // ** live Inputs FormData Field **\r\n                // FormData Append\r\n                let liveFormData = new FormData();\r\n\r\n                liveFormData.append(\"liveTitle\", data.liveInput.liveTitle);\r\n\r\n                if (selectedImage != undefined) {\r\n                    liveFormData.append(\"liveImage\", selectedImage);\r\n                } else {\r\n                }\r\n\r\n                if (data.liveInput.description) {\r\n                    liveFormData.append(\r\n                        \"description\",\r\n                        data.liveInput.description\r\n                    );\r\n                }\r\n                if (data.liveInput.startDate) {\r\n                    liveFormData.append(\r\n                        \"startDate\",\r\n                        data.liveInput.startDate.toString()\r\n                    );\r\n                }\r\n                if (userInfo != null) {\r\n                    liveFormData.append(\"userId\", userInfo.id);\r\n                }\r\n\r\n                //fetch live Input liveFormData\r\n                let liveId: any = null;\r\n\r\n                if (selectedImage != undefined) {\r\n                    const liveRes = await fetch(\r\n                        `${process.env.REACT_APP_BACKEND_URL}/createBids/submitBid/submitLive`,\r\n                        {\r\n                            method: \"POST\",\r\n                            body: liveFormData,\r\n                        }\r\n                    );\r\n                    const liveJson = await liveRes.json();\r\n                    // console.log(\"liveJson.data.res\", liveJson.data.res[0]);\r\n                    liveId = liveJson.data.res[0].id;\r\n                } else {\r\n                    liveId = null;\r\n                }\r\n\r\n                // ** live Inputs FormData Field **\r\n                // ** live Inputs FormData Field **\r\n\r\n                //! **************************************************\r\n\r\n                // ** Products Inputs FormData Field **\r\n                // ** Products Inputs FormData Field **\r\n                const products = data.productInput;\r\n                if (liveId != null) {\r\n                    for (let [index, product] of products.entries() as any) {\r\n                        let productFormData = new FormData();\r\n                        productFormData.append(\"name\", product.name);\r\n                        productFormData.append(\r\n                            \"productImage\",\r\n                            product.productImage[0]\r\n                        );\r\n                        productFormData.append(\r\n                            \"minimumBid\",\r\n                            product.minimumBid\r\n                        );\r\n                        productFormData.append(\r\n                            \"eachBidAmount\",\r\n                            product.eachBidAmount\r\n                        );\r\n                        productFormData.append(\"buyPrice\", product.buyPrice);\r\n                        productFormData.append(\r\n                            \"categoryId\",\r\n                            product.categoryId\r\n                        );\r\n                        if (product.description) {\r\n                            productFormData.append(\r\n                                \"description\",\r\n                                product.description\r\n                            );\r\n                        }\r\n                        productFormData.append(\"liveId\", liveId);\r\n                        productFormData.append(\"productIndex\", index);\r\n                        if (userInfo != null) {\r\n                            productFormData.append(\r\n                                \"username\",\r\n                                userInfo.username\r\n                            );\r\n                            productFormData.append(\"userId\", userInfo.id);\r\n                        }\r\n\r\n                        const proRes = await fetch(\r\n                            `${process.env.REACT_APP_BACKEND_URL}/createBids/submitBid/submitProduct`,\r\n                            {\r\n                                method: \"POST\",\r\n                                body: productFormData,\r\n                            }\r\n                        );\r\n                        const proJson = await proRes.json();\r\n                    }\r\n\r\n                    // dispatch to reducer\r\n                    dispatch(push(\"/\"));\r\n                } else {\r\n                }\r\n            } else {\r\n                if (alert.length === 0) {\r\n                    setAlert(alert.concat(<AlertRequireProductsImageAppend />));\r\n                } else {\r\n                    // setAlert([]);\r\n                    setAlert([<AlertRequireProductsImageAppend />]);\r\n                }\r\n            }\r\n        } else {\r\n            if (alert.length === 0) {\r\n                setAlert(alert.concat(<AlertRequireProductsListAppend />));\r\n            } else {\r\n                setAlert([<AlertRequireProductsListAppend />]);\r\n            }\r\n        }\r\n\r\n        // ajax/fetch here\r\n    };\r\n    // ** Products Inputs FormData Field **\r\n    // ** Products Inputs FormData Field **\r\n\r\n    const { fields, append, remove } = useFieldArray({\r\n        control,\r\n        name: \"productInput\",\r\n    });\r\n\r\n    // live streaming photo shown setup\r\n    const [selectedImage, setSelectedImage] = useState<any>();\r\n\r\n    const imageChange = (e: any) => {\r\n        if (e.target.files && e.target.files.length > 0) {\r\n            if (\r\n                path.extname(e.target.files[0].name) == \".jpg\" ||\r\n                path.extname(e.target.files[0].name) == \".jpeg\" ||\r\n                path.extname(e.target.files[0].name) == \".png\"\r\n            ) {\r\n                setSelectedImage(e.target.files[0]);\r\n            }\r\n        }\r\n    };\r\n\r\n    // DatePicker filter\r\n    const filterPassedTime = (time: any) => {\r\n        const currentDate = new Date();\r\n        const selectedDate = new Date(time);\r\n\r\n        return currentDate.getTime() < selectedDate.getTime();\r\n    };\r\n    // DatePicker className switch\r\n    let handleColor = (time: any) => {\r\n        return time.getHours() > 12 ? \"\" : \"text-error\";\r\n    };\r\n\r\n    // products index\r\n    const [proNum, setProNum] = useState<number>(1);\r\n    const accProNum = () => {\r\n        // console.log(\"test\");\r\n        append({});\r\n        setProNum(proNum + 1);\r\n    };\r\n    // let productsArr: Array<Blob> = [];\r\n\r\n    let watchProducts: any = watch(`productInput`);\r\n\r\n    useEffect(() => {\r\n        // console.log(\"test\");\r\n        if (watchProducts != undefined && watchProducts.length) {\r\n            // console.log(\r\n            //     \"i want to check this!!!!\",\r\n            //     watchProducts[0].productImage\r\n            // );\r\n            for (let watchProduct of watchProducts) {\r\n                if (\r\n                    watchProduct.productImage != null &&\r\n                    watchProduct.productImage != undefined &&\r\n                    watchProduct.productImage.length\r\n                ) {\r\n                    // console.log(\r\n                    //     \"i want to check this!!!!\",\r\n                    //     watchProduct.productImage[0]\r\n                    // );\r\n                    if (\r\n                        path.extname(watchProduct.productImage[0].name) ===\r\n                            \".jpg\" ||\r\n                        path.extname(watchProduct.productImage[0].name) ===\r\n                            \".jpeg\" ||\r\n                        path.extname(watchProduct.productImage[0].name) ===\r\n                            \".png\"\r\n                    ) {\r\n                    } else {\r\n                        // console.log(\r\n                        //     \"watchProduct.productImage[0].name\",\r\n                        //     watchProduct.productImage[0].name\r\n                        // );\r\n                        // console.log(\"Image to null\");\r\n\r\n                        watchProduct.productImage = [];\r\n\r\n                        // console.log(\r\n                        //     \"watchProduct.productImage\",\r\n                        //     watchProduct.productImage\r\n                        // );\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }, [[watchProducts?.length]]);\r\n\r\n    return (\r\n        <div className={\"create_bids_container form_shown\"}>\r\n            {/* <HomepageCanvas /> */}\r\n            <div className={\"outline\"}>\r\n                <div className={\"header_border\"}></div>\r\n                {/* <header className={\"test_user\"}>For Dev ref Username:{userInfo.username}</header> */}\r\n                <form onSubmit={handleSubmit(onSubmit)}>\r\n                    <h1>拍賣登記</h1>\r\n                    <div className={\"input_box\"}>\r\n                        <label>直播標題:</label>{\" \"}\r\n                        <input\r\n                            className={\"input_default\"}\r\n                            {...register(\"liveInput.liveTitle\")}\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div className={\"input_box\"}>\r\n                        <label>直播圖片: </label>{\" \"}\r\n                        <div className={\"files\"}>\r\n                            <input\r\n                                type=\"file\"\r\n                                accept=\"image/*\"\r\n                                {...register(\"liveInput.liveImage\")}\r\n                                onChange={imageChange}\r\n                                required\r\n                            />\r\n                        </div>\r\n                        <div className={\"upload_reminder\"}>\r\n                            (只接收不高於1MB的JPG/PNG/JPEG 照片)\r\n                        </div>\r\n                    </div>\r\n\r\n                    {selectedImage && (\r\n                        <div className={\"img_container\"}>\r\n                            <img\r\n                                className={\"resize_upload_photo photo_shown\"}\r\n                                src={URL.createObjectURL(selectedImage as any)}\r\n                                alt=\"\"\r\n                            />\r\n                            <div className={\"file_Info_container\"}>\r\n                                {/* <div>{selectedImage.name as any}</div> */}\r\n                                <div>{selectedImage.type as any}</div>\r\n                                <div>{`${\r\n                                    ((selectedImage.size as any) / 1000000)\r\n                                        .toString()\r\n                                        .match(/^\\d+(?:\\.\\d{0,2})?/) + \" MB\"\r\n                                }`}</div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    <div className={\"input_box\"}>\r\n                        <label>開始時間:</label>\r\n                        <Controller\r\n                            control={control}\r\n                            name=\"liveInput.startDate\"\r\n                            render={({ field }) => (\r\n                                <div>\r\n                                    <DatePicker\r\n                                        className={\"Datepicker\"}\r\n                                        onChange={(e) => field.onChange(e)}\r\n                                        selected={field.value}\r\n                                        showTimeSelect\r\n                                        // timeClassName={handleColor}\r\n                                        placeholderText=\"選擇時間\"\r\n                                        dateFormat=\"MM/dd/yyyy hh:mm a\"\r\n                                        filterTime={filterPassedTime}\r\n                                        required\r\n                                        // customInput={<DatePickerIcon />}\r\n                                    />\r\n                                    {/* <DatePickerIcon /> */}\r\n                                </div>\r\n                            )}\r\n                        />\r\n\r\n                        {/* <DatePickerIcon /> */}\r\n                    </div>\r\n                    <div className={\"input_box\"}>\r\n                        <label>直播簡介:</label>{\" \"}\r\n                        <textarea\r\n                            className={\"input_textarea\"}\r\n                            {...register(\"liveInput.description\")}\r\n                        />\r\n                    </div>\r\n\r\n                    {/* <h1>拍賣物品</h1> */}\r\n                    {/*  Append Dynamic Form */}\r\n                    <button\r\n                        className={\"button_default\"}\r\n                        type=\"button\"\r\n                        onClick={accProNum}\r\n                    >\r\n                        + 增加拍賣品\r\n                    </button>\r\n\r\n                    {/*  Dynamic Form */}\r\n                    {fields.map(({ id, name }, index) => {\r\n                        // const watchAllFields = watch();\r\n\r\n                        let productsPicture: any = watch(\r\n                            `productInput.${index}.productImage`\r\n                        );\r\n\r\n                        return (\r\n                            <div\r\n                                className=\"item_input_container form_shown\"\r\n                                key={id}\r\n                            >\r\n                                <div className={\"products_index\"}>\r\n                                    商品 {index + 1}\r\n                                </div>\r\n\r\n                                <p className={\"input_box\"}>\r\n                                    <label>物品名稱:</label>\r\n                                    <input\r\n                                        className={\"input_default\"}\r\n                                        {...register(\r\n                                            `productInput.${index}.name`\r\n                                        )}\r\n                                        defaultValue={name}\r\n                                        required\r\n                                    />\r\n                                </p>\r\n\r\n                                <div className={\"input_box\"}>\r\n                                    <label>物品圖片: </label>\r\n                                    <div className={\"files\"}>\r\n                                        <input\r\n                                            type=\"file\"\r\n                                            accept=\"image/*\"\r\n                                            {...register(\r\n                                                `productInput.${index}.productImage`\r\n                                            )}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n                                    <div className={\"upload_reminder\"}>\r\n                                        (只接收不高於1MB的JPG/PNG/JPEG 照片)\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {productsPicture?.[0] != null &&\r\n                                    (path.extname(productsPicture[0].name) ===\r\n                                        \".jpg\" ||\r\n                                        path.extname(\r\n                                            productsPicture[0].name\r\n                                        ) === \".png\" ||\r\n                                        path.extname(\r\n                                            productsPicture[0].name\r\n                                        ) === \".jpeg\") && (\r\n                                        <div className={\"img_container\"}>\r\n                                            {/* {console.log(productsPicture[0])} */}\r\n                                            <img\r\n                                                className={\r\n                                                    \"resize_upload_photo photo_shown\"\r\n                                                }\r\n                                                src={URL.createObjectURL(\r\n                                                    productsPicture[0] as any\r\n                                                )}\r\n                                                alt=\"\"\r\n                                            />\r\n                                            <div\r\n                                                className={\r\n                                                    \"file_Info_container\"\r\n                                                }\r\n                                            >\r\n                                                {/* <div>\r\n                                                {productsPicture[0].name as any}\r\n                                            </div> */}\r\n                                                <div>\r\n                                                    {\r\n                                                        productsPicture[0]\r\n                                                            .type as any\r\n                                                    }\r\n                                                </div>\r\n                                                <div>{`${\r\n                                                    (\r\n                                                        (productsPicture[0]\r\n                                                            .size as any) /\r\n                                                        1000000\r\n                                                    )\r\n                                                        .toString()\r\n                                                        .match(\r\n                                                            /^\\d+(?:\\.\\d{0,2})?/\r\n                                                        ) + \" MB\"\r\n                                                }`}</div>\r\n                                            </div>\r\n                                        </div>\r\n                                    )}\r\n\r\n                                <p className={\"input_box\"}>\r\n                                    <label>底價 HKD:</label>\r\n                                    <input\r\n                                        className={\"input_default\"}\r\n                                        type=\"number\"\r\n                                        min=\"0\"\r\n                                        {...register(\r\n                                            `productInput.${index}.minimumBid`\r\n                                        )}\r\n                                        required\r\n                                    />\r\n                                </p>\r\n\r\n                                <p className={\"input_box\"}>\r\n                                    <label>每口價 HKD:</label>\r\n                                    <input\r\n                                        className={\"input_default\"}\r\n                                        type=\"number\"\r\n                                        min=\"0\"\r\n                                        {...register(\r\n                                            `productInput.${index}.eachBidAmount`\r\n                                        )}\r\n                                        required\r\n                                    />\r\n                                </p>\r\n\r\n                                <p className={\"input_box\"}>\r\n                                    <label>即買價 HKD:</label>\r\n                                    <input\r\n                                        className={\"input_default\"}\r\n                                        type=\"number\"\r\n                                        min=\"0\"\r\n                                        {...register(\r\n                                            `productInput.${index}.buyPrice`\r\n                                        )}\r\n                                        required\r\n                                    />\r\n                                </p>\r\n\r\n                                <p className={\"input_box\"}>\r\n                                    <label>分類:</label>{\" \"}\r\n                                    <select\r\n                                        className={\"category_container\"}\r\n                                        {...register(\r\n                                            `productInput.${index}.categoryId`\r\n                                        )}\r\n                                    >\r\n                                        {categories.map((category) => (\r\n                                            <option\r\n                                                key={category.id}\r\n                                                value={category.id}\r\n                                            >\r\n                                                {category.category}\r\n                                            </option>\r\n                                        ))}\r\n                                    </select>\r\n                                </p>\r\n                                <p className={\"input_box\"}>\r\n                                    <label>拍賣品簡介:</label>\r\n                                    <textarea\r\n                                        className={\"input_textarea\"}\r\n                                        {...register(\r\n                                            `productInput.${index}.description`\r\n                                        )}\r\n                                    />\r\n                                </p>\r\n                                <button\r\n                                    className={\"button_default\"}\r\n                                    onClick={() => remove(index)}\r\n                                >\r\n                                    刪除商品\r\n                                </button>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                    {alert.map((e: any) => (\r\n                        <div key={v4()}>{e}</div>\r\n                    ))}\r\n                    <input className={\"button_default\"} type=\"submit\" />\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../store\";\r\nimport { Recommend } from \"../../redux/LiveStream/actions\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction LiveStreamRecommend() {\r\n    const recommendList = useSelector(\r\n        (state: RootState) => state.liveStream.recommendList.results\r\n    );\r\n\r\n    const recommendListCopy = [...recommendList];\r\n    let len = recommendListCopy.length;\r\n    const recommendation: Recommend[] = [];\r\n    for (let ind = 0; ind < Math.min(10, len); ind++) {\r\n        recommendation.push(\r\n            recommendListCopy.splice(\r\n                Math.floor(Math.random() * recommendListCopy.length),\r\n                1\r\n            )[0]\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"LiveStreamRecommend my-3\">\r\n            {recommendation.map((item, ind) => (\r\n                <Link to={`/liveStreaming?room=${item.buyer_link}`} key={ind}>\r\n                    <div\r\n                        className=\"recommendAuction m-3 d-flex flex-row justify-content-between align-items-start\"\r\n                        key={ind}\r\n                    >\r\n                        <img\r\n                            className=\"thumbnail mb-3\"\r\n                            src={`${process.env.REACT_APP_BACKEND_URL}/${item.image}`}\r\n                            alt=\"recommendAuction\"\r\n                        />\r\n                        <div className=\"info d-flex flex-column h-100 justify-content-between\">\r\n                            <div className=\"title text-start ms-3 mt-3\">\r\n                                {item.title}\r\n                            </div>\r\n                            <div className=\"username text-start ms-3 mt-3\">\r\n                                {item.username}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </Link>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LiveStreamRecommend;\r\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n    faCalendarAlt,\r\n    faTimes,\r\n    faClipboard,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nexport function DatePickerIcon() {\r\n    return <FontAwesomeIcon icon={faCalendarAlt} className={\"DateIcon\"} />;\r\n}\r\nexport function FaClipboard() {\r\n    return <FontAwesomeIcon icon={faClipboard} className={\"FaClipboard\"} />;\r\n}\r\nexport function CloseCross() {\r\n    return <FontAwesomeIcon icon={faTimes} className={\"CloseCross\"} />;\r\n}\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Client, LocalStream } from \"ion-sdk-js\";\r\nimport { IonSFUJSONRPCSignal } from \"ion-sdk-js/lib/signal/json-rpc-impl\";\r\nimport { config, webSocketIP } from \"../../configuration/ion-sfu\";\r\nimport { ButtonGroup } from \"reactstrap\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../store\";\r\nimport useFetch from \"react-fetch-hook\";\r\nimport { Canvass } from \"../../pages/LiveStream/components/Konva2\";\r\nimport { Socket } from \"socket.io-client\";\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\r\nimport { FaClipboard } from \"../../pages/Profile-Page/component/Fontawsome\";\r\n\r\ninterface LiveStreamWindowProps {\r\n    ws: Socket | null;\r\n}\r\n\r\nfunction LiveStreamWindow(props: LiveStreamWindowProps) {\r\n    //Get States\r\n    const pubVideo = useRef<HTMLVideoElement>(null);\r\n    const [client, setClient] = useState<Client | null>(null);\r\n    let signal: IonSFUJSONRPCSignal | null = null;\r\n    const [localStream, setLocalStream] = useState<LocalStream | null>(null);\r\n    const token: string | null = new URLSearchParams(\r\n        window.location.search\r\n    ).get(\"token\");\r\n    const thumbnail = useSelector(\r\n        (state: RootState) => state.liveStream.liveStreamInfo.thumbnail\r\n    );\r\n    let [timerId, setTimerId] = useState<NodeJS.Timeout>(\r\n        setInterval(() => {}, 45000)\r\n    );\r\n    const isAuthenticate = useSelector(\r\n        (state: RootState) => state.user.isAuthenticate\r\n    );\r\n    const username = useSelector((state: RootState) => {\r\n        if (\r\n            typeof state.authState.user !== \"string\" &&\r\n            state.authState.user?.username\r\n        ) {\r\n            return state.authState.user.username;\r\n        }\r\n        return \"\";\r\n    });\r\n    const seller = useSelector(\r\n        (state: RootState) => state.liveStream.liveStreamInfo.seller\r\n    );\r\n    //Get States\r\n\r\n    //Custom Hook\r\n    const result = useFetch<{ room: string }>(\r\n        `${process.env.REACT_APP_BACKEND_URL}/room?token=${token}`\r\n    );\r\n    //Custom Hook\r\n\r\n    //WebRTC Setup\r\n    useEffect(() => {\r\n        if (!result.isLoading && !client) {\r\n            // eslint-disable-next-line react-hooks/exhaustive-deps\r\n            signal = new IonSFUJSONRPCSignal(webSocketIP);\r\n            let ClientConnection = new Client(signal, config);\r\n            signal.onopen = () => {\r\n                if (ClientConnection == null) {\r\n                    return;\r\n                }\r\n                ClientConnection.join(`room ${result.data?.room}`, \"\");\r\n            };\r\n            setClient(ClientConnection);\r\n            setTimerId(\r\n                setInterval(\r\n                    () => signal != null && signal.notify(\"method\", \"params\"),\r\n                    45000\r\n                )\r\n            );\r\n        }\r\n    }, [result]);\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            if (localStream) {\r\n                let tracks = localStream.getTracks();\r\n                tracks.forEach(function (track) {\r\n                    track.stop();\r\n                });\r\n                localStream.unpublish();\r\n            }\r\n        };\r\n    }, [localStream]);\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            clearInterval(timerId);\r\n            client?.close();\r\n            signal?.close();\r\n        };\r\n    }, [client, signal, timerId]);\r\n    //WebRTC Setup\r\n\r\n    //Broadcast button Handler\r\n    const start = (event: boolean): void => {\r\n        if (event) {\r\n            LocalStream.getUserMedia({\r\n                resolution: \"vga\",\r\n                // resolution: \"hd\",\r\n                audio: true,\r\n                codec: \"vp8\",\r\n            })\r\n                .then((media) => {\r\n                    if (pubVideo.current === null || client === null) {\r\n                        return;\r\n                    }\r\n                    pubVideo.current.srcObject = media;\r\n                    pubVideo.current.controls = true;\r\n                    pubVideo.current.autoplay = true;\r\n                    pubVideo.current.muted = false;\r\n                    setLocalStream(media);\r\n                    client.publish(media);\r\n                })\r\n                .catch(console.error);\r\n        } else {\r\n            LocalStream.getDisplayMedia({\r\n                resolution: \"vga\",\r\n                // resolution: \"hd\",\r\n                video: true,\r\n                audio: true,\r\n                codec: \"vp8\",\r\n            })\r\n                .then((media) => {\r\n                    if (pubVideo.current === null || client === null) {\r\n                        return;\r\n                    }\r\n                    pubVideo.current.srcObject = media;\r\n                    pubVideo.current.controls = true;\r\n                    pubVideo.current.autoplay = true;\r\n                    pubVideo.current.muted = false;\r\n                    setLocalStream(media);\r\n                    client.publish(media);\r\n                })\r\n                .catch(console.error);\r\n        }\r\n    };\r\n\r\n    const stop = (): void => {\r\n        if (pubVideo.current == null || localStream == null) {\r\n            return;\r\n        }\r\n        let tracks = localStream.getTracks();\r\n        tracks.forEach(function (track) {\r\n            track.stop();\r\n        });\r\n        localStream.unpublish();\r\n        pubVideo.current.srcObject = null;\r\n    };\r\n    //Broadcast button Handler\r\n\r\n    //set Copy Clip Board\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    const [_, setCopyState] = useState(false);\r\n    const onCopy = () => {\r\n        setCopyState(true);\r\n    };\r\n    //set Copy Clip Board\r\n\r\n    return (\r\n        <div className=\"LiveStreamWindowSeller\">\r\n            <div className=\"flex flex-col h-screen relative\">\r\n                <CopyToClipboard\r\n                    onCopy={onCopy}\r\n                    text={`${process.env.REACT_APP_FRONTEND_URL}/liveStreaming?room=${result.data?.room}`}\r\n                >\r\n                    <div className=\"buyer_link\">\r\n                        按右邊圖示複製觀眾直播連結{\" \"}\r\n                        <i className=\"fas fa-arrow-right\"></i>{\" \"}\r\n                        <span className=\"clipboard\">\r\n                            <FaClipboard />\r\n                        </span>\r\n                    </div>\r\n                </CopyToClipboard>\r\n                {client != null && isAuthenticate && username === seller && (\r\n                    <ButtonGroup className=\"w-100\">\r\n                        <button\r\n                            className=\"btn btn-primary\"\r\n                            onClick={() => start(true)}\r\n                        >\r\n                            鏡頭直播\r\n                        </button>\r\n                        <button\r\n                            className=\"btn btn-success\"\r\n                            onClick={() => start(false)}\r\n                        >\r\n                            電腦畫面直播\r\n                        </button>\r\n                        <button\r\n                            className=\"btn btn-secondary\"\r\n                            onClick={() => stop()}\r\n                        >\r\n                            停止直播\r\n                        </button>\r\n                    </ButtonGroup>\r\n                )}\r\n                <div className=\"video_canvas_combine\">\r\n                    {pubVideo.current !== null && (\r\n                        <Canvass video={pubVideo} ws={props.ws} />\r\n                    )}\r\n                    <video\r\n                        id=\"pubVideo\"\r\n                        poster=\"transparent.png\"\r\n                        className=\"w-100 h-100\"\r\n                        controls\r\n                        ref={pubVideo}\r\n                        style={{\r\n                            backgroundImage: `${\r\n                                thumbnail\r\n                                    ? `url(\"${process.env.REACT_APP_BACKEND_URL}/${thumbnail}\")`\r\n                                    : \"\"\r\n                            }`,\r\n                            backgroundRepeat: \"no-repeat\",\r\n                            backgroundSize: \"100% 100%\",\r\n                        }}\r\n                    ></video>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LiveStreamWindow;\r\n","import React, { useRef } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Carousel from \"react-tiny-slider\";\r\nimport { TinySliderInstance } from \"tiny-slider\";\r\nimport { fetchSelectedProduct } from \"../../redux/LiveStream/actions\";\r\nimport { RootState } from \"../../store\";\r\nimport { Socket } from \"socket.io-client\";\r\nimport LiveStreamDescription from \"./LiveStreamDescription\";\r\n\r\ninterface LiveStreamControlPanelProps {\r\n    isDesktop: boolean;\r\n    isTablet: boolean;\r\n    ws: Socket | null;\r\n}\r\n\r\nfunction LiveStreamControlPanel(props: LiveStreamControlPanelProps) {\r\n    //Get States\r\n    const dispatch = useDispatch();\r\n    const carousel = useRef<TinySliderInstance>(null);\r\n    const liveStreamControlPanelDesktopSetting = { maxHeight: \"600px\" };\r\n    const products = useSelector(\r\n        (state: RootState) =>\r\n            state.liveStream.liveStreamProducts.liveStreamProductsArr\r\n    );\r\n    const liveId = useSelector(\r\n        (state: RootState) => state.liveStream.liveStreamInfo.id\r\n    );\r\n    //Get States\r\n\r\n    //Carousel Next Page Handler\r\n    const goNextSlide = (dir: \"next\" | \"prev\") =>\r\n        carousel.current != null && carousel.current.goTo(dir);\r\n\r\n    const carouselOnClickHandler = (\r\n        slideIndex: number | null,\r\n        info: any,\r\n        event: React.MouseEvent<Element, MouseEvent>\r\n    ) => {\r\n        if (slideIndex == null) {\r\n            return;\r\n        }\r\n        let ind = parseInt(\r\n            info.slideItems.item(slideIndex).ariaLabel.split(\"card\").join(\"\")\r\n        );\r\n        let productId = -1;\r\n        for (let i = 0; i < products.length; i++) {\r\n            if (ind === products[i].id) {\r\n                productId = products[i].id;\r\n            }\r\n        }\r\n        if (props.ws) {\r\n            dispatch(fetchSelectedProduct(productId, props.ws, liveId));\r\n        }\r\n    };\r\n    //Carousel Next Page Handler\r\n\r\n    return (\r\n        <div className=\"LiveStreamControlPanel rounded my-4\">\r\n            <div\r\n                className=\"row g-0 panel_bar\"\r\n                style={\r\n                    props.isDesktop ? {} : liveStreamControlPanelDesktopSetting\r\n                }\r\n            >\r\n                <div\r\n                    className={`col-12 d-flex d-col carousel position-relative`}\r\n                >\r\n                    {products.length !== 0 ? (\r\n                        products.length > 1 ? (\r\n                            <Carousel\r\n                                swipeAngle={false}\r\n                                items={1}\r\n                                ref={carousel}\r\n                                controls={false}\r\n                                nav={false}\r\n                                onClick={carouselOnClickHandler}\r\n                            >\r\n                                {products.map((product, ind) => (\r\n                                    <div\r\n                                        key={product.id}\r\n                                        className={`carousel_card d-flex align-items-center justify-content-between`}\r\n                                        aria-label={`card${product.id}`}\r\n                                    >\r\n                                        <img\r\n                                            key={product.id}\r\n                                            className={`carousel_img ms-3`}\r\n                                            src={product.productImage}\r\n                                            alt={`pic${product.id}`}\r\n                                        />\r\n                                        <div className=\"product_info mh-100 d-flex flex-column justify-content-center align-items-start\">\r\n                                            <div className=\"product_name\">\r\n                                                <i className=\"fas fa-gift\"></i>{\" \"}\r\n                                                競價項目:\r\n                                                <br />\r\n                                                {product.productName}\r\n                                            </div>\r\n                                            <div className=\"product_price\">\r\n                                                <i className=\"fas fa-chart-line\"></i>{\" \"}\r\n                                                起標價:\r\n                                                <br />${product.minPrice}\r\n                                            </div>\r\n                                        </div>\r\n                                        <LiveStreamDescription\r\n                                            description={\r\n                                                product.description\r\n                                                    ? product.description\r\n                                                    : \"\"\r\n                                            }\r\n                                        />\r\n                                    </div>\r\n                                ))}\r\n                            </Carousel>\r\n                        ) : (\r\n                            <div\r\n                                className={`carousel_card w-100 d-flex align-items-center justify-content-between`}\r\n                                aria-label={`card${products[0].id}`}\r\n                            >\r\n                                <img\r\n                                    key={products[0].id}\r\n                                    className={`carousel_img ms-3`}\r\n                                    src={products[0].productImage}\r\n                                    alt={`pic${products[0].id}`}\r\n                                />\r\n                                <div className=\"product_info mh-100 d-flex flex-column justify-content-center align-items-start\">\r\n                                    <div className=\"product_name\">\r\n                                        <i className=\"fas fa-gift\"></i>{\" \"}\r\n                                        競價項目:\r\n                                        <br />\r\n                                        {products[0].productName}\r\n                                    </div>\r\n                                    <div className=\"product_price\">\r\n                                        <i className=\"fas fa-chart-line\"></i>{\" \"}\r\n                                        起標價:\r\n                                        <br />${products[0].minPrice}\r\n                                    </div>\r\n                                </div>\r\n                                <LiveStreamDescription\r\n                                    description={\r\n                                        products[0].description\r\n                                            ? products[0].description\r\n                                            : \"\"\r\n                                    }\r\n                                />\r\n                            </div>\r\n                        )\r\n                    ) : (\r\n                        <></>\r\n                    )}\r\n                    {products.length > 1 && (\r\n                        <>\r\n                            <button\r\n                                className=\"btn btn-secondary carousel_btn carousel_btn_left\"\r\n                                onClick={() => goNextSlide(\"prev\")}\r\n                            >\r\n                                <i className=\"fas fa-caret-left\"></i>\r\n                            </button>\r\n                            <button\r\n                                className=\"btn btn-secondary carousel_btn carousel_btn_right\"\r\n                                onClick={() => goNextSlide(\"next\")}\r\n                            >\r\n                                <i className=\"fas fa-caret-right\"></i>\r\n                            </button>\r\n                        </>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LiveStreamControlPanel;\r\n","import React from \"react\";\r\nimport { CToast, CToastBody, CToastClose } from \"@coreui/react\";\r\n\r\nfunction ErrorCannotStartCountdown() {\r\n    return (\r\n        <CToast\r\n            autohide={true}\r\n            visible={true}\r\n            className=\"align-items-center mw-100\"\r\n        >\r\n            <div className=\"d-flex text-danger\">\r\n                <CToastBody>倒數時間不能少於60秒或多於300秒</CToastBody>\r\n                <CToastClose className=\"me-2 m-auto\" />\r\n            </div>\r\n        </CToast>\r\n    );\r\n}\r\nexport default ErrorCannotStartCountdown;\r\n","import React from \"react\";\r\n\r\nfunction NotSeller() {\r\n    return (\r\n        <div className=\"livestreamNotSeller rounded my-3 d-flex flex-column justify-content-around align-items-center\">\r\n            <div className=\"message\">你現在並不是以房間主人身份登入</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NotSeller;\r\n","import { CToaster } from \"@coreui/react\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { Socket } from \"socket.io-client\";\r\nimport {\r\n    fetchliveStreamProducts,\r\n    fetchProductTime,\r\n    LiveStreamProduct,\r\n    LiveStreamProductDynamicInfo,\r\n} from \"../../redux/LiveStream/actions\";\r\nimport { RootState } from \"../../store\";\r\nimport ErrorCannotStartCountdown from \"./ErrorCannotStartCountdown\";\r\nimport InputPhoneNumber from \"./InputPhoneNumber\";\r\nimport Login from \"./Login\";\r\nimport NotSeller from \"./NotSeller\";\r\n\r\ninterface LiveStreamBiddingInfoProps {\r\n    ws: Socket | null;\r\n}\r\n\r\nfunction LiveStreamBiddingInfo(props: LiveStreamBiddingInfoProps) {\r\n    //Get States\r\n    const dispatch = useDispatch();\r\n    const [inputRemainingTime, setInputRemainingTime] = useState<number>(60);\r\n    const [remainingTime, setRemainingTime] = useState<number>(Infinity);\r\n    const [isBidding, setIsBidding] = useState<boolean>(false);\r\n    const [timerId, setTimerId] = useState<number>(0);\r\n    const isAuthenticate = useSelector(\r\n        (state: RootState) => state.user.isAuthenticate\r\n    );\r\n\r\n    const liveId = useSelector(\r\n        (state: RootState) => state.liveStream.liveStreamInfo.id\r\n    );\r\n\r\n    const products = useSelector(\r\n        (state: RootState) =>\r\n            state.liveStream.liveStreamProducts.liveStreamProductsArr\r\n    );\r\n\r\n    const productsDynamic = useSelector(\r\n        (state: RootState) =>\r\n            state.liveStream.liveStreamProducts.liveStreamProductsArrDynamic\r\n    );\r\n\r\n    const [selectedProduct, setSelectedProduct] = useState<LiveStreamProduct>({\r\n        id: 0,\r\n        productName: \"\",\r\n        minPrice: 0,\r\n        buyPrice: 0,\r\n        bidIncrement: 0,\r\n        productImage: \"\",\r\n        description: \"\",\r\n        categoryId: 0,\r\n        success: false,\r\n    });\r\n\r\n    const [selectedProductDynamic, setSelectedProductDynamic] =\r\n        useState<LiveStreamProductDynamicInfo>({\r\n            id: 0,\r\n            currentPrice: 0,\r\n            isSelected: false,\r\n            buyer: \"\",\r\n            duration: 0,\r\n            success: false,\r\n        });\r\n\r\n    const username = useSelector((state: RootState) => {\r\n        if (\r\n            typeof state.authState.user !== \"string\" &&\r\n            state.authState.user?.username\r\n        ) {\r\n            return state.authState.user.username;\r\n        }\r\n        return \"\";\r\n    });\r\n    const phoneNumber = useSelector((state: RootState) => {\r\n        if (\r\n            typeof state.authState.user !== \"string\" &&\r\n            state.authState.user?.phone_number\r\n        ) {\r\n            return state.authState.user?.phone_number;\r\n        }\r\n        return \"\";\r\n    });\r\n    const seller = useSelector(\r\n        (state: RootState) => state.liveStream.liveStreamInfo.seller\r\n    );\r\n    const [toast, addToast] = useState<JSX.Element>(<></>);\r\n    const toaster = useRef<HTMLDivElement>(null);\r\n    const responsive = useMediaQuery({\r\n        query: \"(min-width: 420px)\",\r\n    });\r\n    //Get States\r\n\r\n    //Countdown End Handler\r\n    useEffect(() => {\r\n        return () => {\r\n            if (remainingTime <= 0) {\r\n                clearInterval(timerId);\r\n                setIsBidding(false);\r\n            }\r\n        };\r\n    }, [remainingTime, timerId]);\r\n    //Countdown End Handler\r\n\r\n    //Countdown Start Handler\r\n    useEffect(() => {\r\n        if (\r\n            productsDynamic.length !== 0 &&\r\n            products.length !== 0 &&\r\n            productsDynamic.length === products.length\r\n        ) {\r\n            for (let ind in productsDynamic) {\r\n                let countdownEndTime = productsDynamic[ind].countdownEndTime;\r\n                if (\r\n                    productsDynamic[ind].isSelected &&\r\n                    countdownEndTime !== undefined &&\r\n                    countdownEndTime > new Date()\r\n                ) {\r\n                    setSelectedProduct(products[ind]);\r\n                    setSelectedProductDynamic(productsDynamic[ind]);\r\n                    setIsBidding(true);\r\n                    setRemainingTime(\r\n                        Math.ceil(\r\n                            (countdownEndTime!.getTime() -\r\n                                new Date().getTime()) /\r\n                                1000\r\n                        )\r\n                    );\r\n                    if (timerId === 0) {\r\n                        setTimerId(\r\n                            window.setInterval(() => {\r\n                                setRemainingTime(\r\n                                    Math.ceil(\r\n                                        (countdownEndTime!.getTime() -\r\n                                            new Date().getTime()) /\r\n                                            1000\r\n                                    )\r\n                                );\r\n                            }, 33)\r\n                        );\r\n                    }\r\n                } else if (\r\n                    productsDynamic[ind].isSelected &&\r\n                    countdownEndTime !== undefined &&\r\n                    countdownEndTime <= new Date()\r\n                ) {\r\n                    clearInterval(timerId);\r\n                    setSelectedProduct(products[ind]);\r\n                    setSelectedProductDynamic(productsDynamic[ind]);\r\n                    setIsBidding(false);\r\n                } else if (\r\n                    productsDynamic[ind].isSelected &&\r\n                    countdownEndTime === undefined\r\n                ) {\r\n                    clearInterval(timerId);\r\n                    setSelectedProduct(products[ind]);\r\n                    setSelectedProductDynamic(productsDynamic[ind]);\r\n                    setIsBidding(false);\r\n                }\r\n            }\r\n        }\r\n    }, [products, productsDynamic, timerId]);\r\n    //Countdown Start Handler\r\n\r\n    //WebSocket Signal Handler\r\n    useEffect(() => {\r\n        if (props.ws) {\r\n            props.ws.on(\r\n                \"updateCurrentPrice\",\r\n                (liveId: number, isEnded: boolean) => {\r\n                    dispatch(fetchliveStreamProducts(liveId, false));\r\n                    if (isEnded) {\r\n                        setRemainingTime(-100);\r\n                    }\r\n                }\r\n            );\r\n        }\r\n    }, [dispatch, props.ws]);\r\n    //WebSocket Signal Handler\r\n\r\n    //Button On Click Handler\r\n    const startBid = () => {\r\n        if (inputRemainingTime >= 60 && inputRemainingTime <= 300) {\r\n            setRemainingTime(inputRemainingTime);\r\n            if (props.ws) {\r\n                dispatch(\r\n                    fetchProductTime(\r\n                        selectedProduct.id,\r\n                        inputRemainingTime,\r\n                        setTimerId,\r\n                        props.ws,\r\n                        liveId\r\n                    )\r\n                );\r\n            }\r\n        } else {\r\n            addToast(<ErrorCannotStartCountdown />);\r\n        }\r\n    };\r\n\r\n    //Button On Click Handler\r\n    return (\r\n        <div className=\"LiveStreamBiddingInfo h-100 rounded my-3\">\r\n            {!isAuthenticate ? (\r\n                <Login message={\"請先登入再進行拍賣\"} />\r\n            ) : phoneNumber !== \"\" && phoneNumber !== \"11111111\" ? (\r\n                seller === username ? (\r\n                    <div className=\"info w-100 h-100 d-flex justify-contens-center align-items-center flex-column\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-12 d-flex flex-row justify-content-center align-items-center w-100 h-100 mb-5\">\r\n                                <img\r\n                                    key={selectedProduct.id}\r\n                                    className={`selected_img me-4`}\r\n                                    src={selectedProduct.productImage}\r\n                                    alt={`pic${selectedProduct.id}`}\r\n                                />\r\n                                <div className=\"instant_info d-flex flex-column\">\r\n                                    <div\r\n                                        className={`${\r\n                                            responsive\r\n                                                ? \"current_price\"\r\n                                                : \"responsive_current_price\"\r\n                                        } ms-4`}\r\n                                    >\r\n                                        <i className=\"fas fa-money-bill-wave\"></i>{\" \"}\r\n                                        現在價格:\r\n                                        <br /> $\r\n                                        {selectedProductDynamic.currentPrice}\r\n                                        <br />\r\n                                        <span className=\"highest_bid_user mb-3\">\r\n                                            最高出價者:{\" \"}\r\n                                            {selectedProductDynamic.buyer ==\r\n                                                null ||\r\n                                            selectedProductDynamic.buyer === \"\"\r\n                                                ? \"ー\"\r\n                                                : selectedProductDynamic.buyer}\r\n                                        </span>\r\n                                    </div>\r\n                                    {!isBidding &&\r\n                                    selectedProductDynamic.countdownEndTime ===\r\n                                        undefined ? (\r\n                                        <div\r\n                                            className={`${\r\n                                                responsive\r\n                                                    ? \"remaining_time\"\r\n                                                    : \"responsive_remaining_time\"\r\n                                            } mt-2 ms-4`}\r\n                                        >\r\n                                            拍賣尚未開始\r\n                                        </div>\r\n                                    ) : !isBidding &&\r\n                                      selectedProductDynamic.countdownEndTime !==\r\n                                          undefined ? (\r\n                                        <div\r\n                                            className={`${\r\n                                                responsive\r\n                                                    ? \"remaining_time\"\r\n                                                    : \"responsive_remaining_time\"\r\n                                            } mt-2 ms-4`}\r\n                                        >\r\n                                            拍賣已結束\r\n                                        </div>\r\n                                    ) : (\r\n                                        <div\r\n                                            className={`${\r\n                                                responsive\r\n                                                    ? \"remaining_time\"\r\n                                                    : \"responsive_remaining_time\"\r\n                                            } mt-2 ms-4 text-center`}\r\n                                        >\r\n                                            <i className=\"fas fa-hourglass-half\"></i>\r\n                                            {\"\"}剩餘 {remainingTime} 秒\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <button\r\n                            disabled={\r\n                                isBidding ||\r\n                                (!isBidding &&\r\n                                    selectedProductDynamic.countdownEndTime !==\r\n                                        undefined)\r\n                            }\r\n                            className={`start_auction btn btn-primary my-3 w-100 ${\r\n                                isBidding && \"unavailable_btn\"\r\n                            }`}\r\n                            onClick={startBid}\r\n                        >\r\n                            <i className=\"fas fa-gavel\"></i> 開始拍賣\r\n                        </button>\r\n                        <label className=\"w-100 d-flex justify-content-between align-items-center\">\r\n                            <span\r\n                                className={`${\r\n                                    responsive\r\n                                        ? \"input_duration\"\r\n                                        : \"responsive_input_duration\"\r\n                                }`}\r\n                            >\r\n                                倒數時間(秒):\r\n                            </span>\r\n                            <input\r\n                                type=\"number\"\r\n                                className=\"action_duration w-75 text-end\"\r\n                                max={300}\r\n                                min={60}\r\n                                value={inputRemainingTime}\r\n                                onChange={(e) =>\r\n                                    setInputRemainingTime(\r\n                                        parseInt(e.target.value)\r\n                                    )\r\n                                }\r\n                                onKeyDown={(\r\n                                    e: React.KeyboardEvent<HTMLInputElement>\r\n                                ) => {\r\n                                    if (e.key === \"Enter\") {\r\n                                        if (\r\n                                            inputRemainingTime >= 60 &&\r\n                                            inputRemainingTime <= 300\r\n                                        ) {\r\n                                            startBid();\r\n                                        } else {\r\n                                            addToast(\r\n                                                <ErrorCannotStartCountdown />\r\n                                            );\r\n                                        }\r\n                                    }\r\n                                }}\r\n                            />\r\n                        </label>\r\n                    </div>\r\n                ) : (\r\n                    <NotSeller />\r\n                )\r\n            ) : (\r\n                <InputPhoneNumber />\r\n            )}\r\n            <CToaster ref={toaster} push={toast} placement=\"bottom-end\" />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LiveStreamBiddingInfo;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport \"./LiveStream.scss\";\r\nimport LiveStreamChatRoom from \"../../component/LiveStream/LiveStreamChatRoom\";\r\nimport LiveStreamRecommendSeller from \"../../component/LiveStream/LiveStreamRecommendSeller\";\r\nimport LiveStreamHeader from \"../../component/LiveStream/LiveStreamHeader\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { Button, ButtonGroup } from \"reactstrap\";\r\nimport LiveStreamWindowSeller from \"../../component/LiveStream/LiveStreamWindowSeller\";\r\nimport LiveStreamControlPanelSeller from \"../../component/LiveStream/LiveStreamControlPanelSeller\";\r\nimport {\r\n    changeDummy,\r\n    fetchInitialChatMessages,\r\n    fetchliveStreamInfo,\r\n    fetchliveStreamProducts,\r\n    fetchSameCategoryLive,\r\n    resetLiveId,\r\n} from \"../../redux/LiveStream/actions\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../store\";\r\nimport io, { Socket } from \"socket.io-client\";\r\nimport LiveStreamBiddingInfoSeller from \"../../component/LiveStream/LiveStreamBiddingInfoSeller\";\r\nimport Four0Four from \"../four0Four/four0Four\";\r\nimport useFetch from \"react-fetch-hook\";\r\nimport QRCode from \"qrcode.react\";\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\r\n\r\ninterface LiveStreamProps {\r\n    setIsLoading: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nfunction LiveStream(props: LiveStreamProps) {\r\n    //Get States\r\n    const dispatch = useDispatch();\r\n    const liveStreamRef = useRef<HTMLDivElement>(null);\r\n    //QR code data\r\n    const token: string | null = new URLSearchParams(\r\n        window.location.search\r\n    ).get(\"token\");\r\n    const result = useFetch<{ room: string }>(\r\n        `${process.env.REACT_APP_BACKEND_URL}/room?token=${token}`\r\n    );\r\n    // result.data?.room\r\n\r\n    useEffect(() => {\r\n        let room = new URLSearchParams(window.location.search).get(\"room\");\r\n        room = room != null ? room : \"\";\r\n        let token = new URLSearchParams(window.location.search).get(\"token\");\r\n        token = token != null ? token : \"\";\r\n\r\n        dispatch(fetchliveStreamInfo(room, token));\r\n        return () => {\r\n            dispatch(resetLiveId());\r\n        };\r\n    }, [dispatch]);\r\n\r\n    const liveId = useSelector(\r\n        (state: RootState) => state.liveStream.liveStreamInfo.id\r\n    );\r\n\r\n    useEffect(() => {\r\n        if (liveId !== 0) {\r\n            dispatch(fetchliveStreamProducts(liveId, true));\r\n            dispatch(fetchInitialChatMessages(liveId));\r\n        }\r\n    }, [dispatch, liveId]);\r\n\r\n    const recommendProducts = useSelector(\r\n        (state: RootState) =>\r\n            state.liveStream.liveStreamProducts.liveStreamProductsArr\r\n    );\r\n\r\n    useEffect(() => {\r\n        let categoryIdSet = new Set<number>();\r\n        for (let product of recommendProducts) {\r\n            categoryIdSet.add(product.categoryId);\r\n        }\r\n        dispatch(\r\n            fetchSameCategoryLive(liveId, categoryIdSet, props.setIsLoading)\r\n        );\r\n    }, [dispatch, recommendProducts, liveId, props]);\r\n\r\n    useEffect(() => {\r\n        if (liveId === 0) {\r\n            props.setIsLoading(true);\r\n        } else if (liveId === -1) {\r\n            props.setIsLoading(false);\r\n        }\r\n    }, [props, liveId]);\r\n    //Get States\r\n\r\n    //React-responsive\r\n    const isDesktop = useMediaQuery({\r\n        query: \"(min-width: 1200px)\",\r\n    });\r\n    const isTablet = useMediaQuery({\r\n        query: \"(min-width: 768px)\",\r\n    });\r\n    const [page, setPage] = useState<number>(1);\r\n    //React-responsive\r\n\r\n    //Websocket Setup\r\n    const [ws, setWs] = useState<Socket | null>(null);\r\n\r\n    useEffect(() => {\r\n        const connectWebSocket = () => {\r\n            if (process.env.REACT_APP_BACKEND_URL !== undefined) {\r\n                setWs(io(process.env.REACT_APP_BACKEND_URL));\r\n            }\r\n        };\r\n\r\n        if (liveId > 0 && ws === null) {\r\n            connectWebSocket();\r\n        }\r\n\r\n        if (ws) {\r\n            const initWebSocket = () => {\r\n                if (ws) {\r\n                    ws.emit(\"joinRoom\", liveId);\r\n                    ws.on(\"render\", () => {\r\n                        dispatch(fetchliveStreamProducts(liveId, false));\r\n                    });\r\n                    ws.emit(\"checkOnlineUsers\", liveId);\r\n                }\r\n            };\r\n            initWebSocket();\r\n        }\r\n    }, [dispatch, ws, liveId]);\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            ws?.close();\r\n        };\r\n    }, [ws]);\r\n    //Websocket Setup\r\n\r\n    //Add event listener\r\n    useEffect(() => {\r\n        const popstaeHandler = () => {\r\n            dispatch(changeDummy());\r\n        };\r\n        window.addEventListener(\"popstate\", popstaeHandler);\r\n        return () => {\r\n            window.removeEventListener(\"popstate\", popstaeHandler);\r\n        };\r\n    }, [dispatch]);\r\n    //Add event listener\r\n    const [copyState, setCopyState] = useState(false);\r\n    const onCopy = () => {\r\n        setCopyState(true);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {liveId === -1 ? (\r\n                <Four0Four />\r\n            ) : (\r\n                <div className={`LiveStream m-3`} ref={liveStreamRef}>\r\n                    <div className=\"row\">\r\n                        <div className={`${isTablet ? \"col-8\" : \"col\"}`}>\r\n                            <LiveStreamWindowSeller ws={ws} />\r\n                            {isTablet ? (\r\n                                <>\r\n                                    <div className=\"row mt-3 rounded\">\r\n                                        <div className={`col-12`}>\r\n                                            <LiveStreamBiddingInfoSeller\r\n                                                ws={ws}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <LiveStreamControlPanelSeller\r\n                                        isDesktop={isDesktop}\r\n                                        isTablet={isTablet}\r\n                                        ws={ws}\r\n                                    />\r\n                                    <LiveStreamHeader ws={ws} />\r\n                                </>\r\n                            ) : (\r\n                                <>\r\n                                    <ButtonGroup className=\"w-100\">\r\n                                        <Button\r\n                                            className=\"page_btn\"\r\n                                            onClick={() => setPage(1)}\r\n                                        >\r\n                                            直播資料\r\n                                        </Button>\r\n                                        <Button\r\n                                            className=\"page_btn\"\r\n                                            onClick={() => setPage(2)}\r\n                                        >\r\n                                            拍賣設定\r\n                                        </Button>\r\n                                        <Button\r\n                                            className=\"page_btn\"\r\n                                            onClick={() => setPage(3)}\r\n                                        >\r\n                                            聊天室\r\n                                        </Button>\r\n                                        <Button\r\n                                            className=\"page_btn\"\r\n                                            onClick={() => setPage(4)}\r\n                                        >\r\n                                            其他拍賣直播\r\n                                        </Button>\r\n                                    </ButtonGroup>\r\n                                    {page === 1 && <LiveStreamHeader ws={ws} />}\r\n                                    {page === 2 && (\r\n                                        <>\r\n                                            <div className=\"row mt-3 rounded\">\r\n                                                <div className={`col-12`}>\r\n                                                    <LiveStreamBiddingInfoSeller\r\n                                                        ws={ws}\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                            <LiveStreamControlPanelSeller\r\n                                                isDesktop={isDesktop}\r\n                                                isTablet={isTablet}\r\n                                                ws={ws}\r\n                                            />\r\n                                        </>\r\n                                    )}\r\n                                    {page === 3 && (\r\n                                        <LiveStreamChatRoom\r\n                                            liveStreamRef={liveStreamRef}\r\n                                            isTablet={isTablet}\r\n                                        />\r\n                                    )}\r\n                                    {page === 4 && (\r\n                                        <LiveStreamRecommendSeller />\r\n                                    )}\r\n                                </>\r\n                            )}\r\n                            <div className={\"buyerLink_QRcode\"}>\r\n                                <CopyToClipboard\r\n                                    onCopy={onCopy}\r\n                                    text={`${process.env.REACT_APP_FRONTEND_URL}/liveStreaming?room=${result.data?.room}`}\r\n                                >\r\n                                    <QRCode\r\n                                        value={`${process.env.REACT_APP_FRONTEND_URL}/liveStreaming?room=${result.data?.room}`}\r\n                                        className={\"QRcode_pic\"}\r\n                                    />\r\n                                </CopyToClipboard>\r\n                                <div>\r\n                                    <span>此拍賣頁連結QR code</span>\r\n                                    <ul>\r\n                                        <li>手機掃描QR code即可打開</li>\r\n                                        <li>點擊圖案，複制連結並分享</li>\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        {isTablet && (\r\n                            <div className=\"col-4\">\r\n                                <div className=\"row\">\r\n                                    <div className=\"col\">\r\n                                        <LiveStreamChatRoom\r\n                                            liveStreamRef={liveStreamRef}\r\n                                            isTablet={isTablet}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div className=\"col\">\r\n                                        <LiveStreamRecommendSeller />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default LiveStream;\r\n","export function SvgBorder() {\r\n  return (\r\n    <div className=\"svg-border\">\r\n      <svg\r\n        width=\"515\"\r\n        height=\"25\"\r\n        viewBox=\"0 0 275 15\"\r\n        fill=\"none\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n      >\r\n        <rect y=\"7\" width=\"120\" height=\"1\" fill=\"#CCCCCC\"></rect>\r\n        <rect x=\"155\" y=\"7\" width=\"120\" height=\"1\" fill=\"#CCCCCC\"></rect>\r\n        <path\r\n          d=\"M144.443 14.6458C144.207 14.8818 143.897 15 143.588 15C143.278 15 142.968 14.8818 142.732 14.6454L137.874 9.78689C137.517 9.43023 137.43 8.90654 137.612 8.46798L136.617 7.47264L135.242 8.84723C135.517 9.2862 135.458 9.8809 135.066 10.2714C134.614 10.7245 133.888 10.7342 133.448 10.2936L130.324 7.17126C129.883 6.73028 129.893 6.00566 130.347 5.55298C130.738 5.16122 131.332 5.10231 131.771 5.37788L135.378 1.77014C135.102 1.33158 135.161 0.737682 135.553 0.346326C136.006 -0.10676 136.73 -0.116443 137.171 0.324136L140.295 3.44732C140.736 3.8879 140.726 4.61251 140.272 5.0656C139.88 5.45736 139.287 5.51586 138.849 5.2407L137.472 6.6169L138.59 7.73449C138.945 7.69334 139.314 7.80348 139.586 8.07622L144.444 12.9347C144.916 13.4071 144.916 14.1729 144.443 14.6458Z\"\r\n          fill=\"#2695FF\"\r\n        ></path>\r\n      </svg>\r\n    </div>\r\n  );\r\n}\r\n","import { RootState, RootThunkDispatch } from \"../../store\"\r\n\r\nexport interface BroadcastingProducts {\r\n    id: number;\r\n    title: string;\r\n    current_price: number;\r\n    username: string;\r\n    product_name: string;\r\n    image: string;\r\n    min_price: number;\r\n    buyer_link: string;\r\n    seller_id: number;\r\n}\r\n\r\nexport function loadBroadcastingProducts(\r\n    broadcastingProducts: BroadcastingProducts[]\r\n) {\r\n    return {\r\n        type: \"@@products/LOAD_BROADCASTING_PRODUCTS\" as const,\r\n        broadcastingProducts,\r\n    }\r\n}\r\n\r\nexport type BroadcastingProductActions = ReturnType<typeof loadBroadcastingProducts>\r\n\r\nexport function fetchBroadcastingProducts() {\r\n    return async (dispatch: RootThunkDispatch, getState: () => RootState) => {\r\n        try {\r\n            const res = await fetch(\r\n                `${process.env.REACT_APP_BACKEND_URL}/broadcastingProduct`\r\n            )\r\n            const json = await res.json()\r\n\r\n            if (json) {\r\n                // console.log(\"json.data.results.rows\", json.data.results.rows);\r\n                dispatch(loadBroadcastingProducts(json.data.results.rows.slice(0, 9)))\r\n            } else {\r\n                dispatch(loadBroadcastingProducts([]))\r\n            }\r\n        } catch (error) {\r\n            console.log(error);\r\n\r\n        }\r\n    }\r\n}","import { RootState, RootThunkDispatch } from \"../../store\";\r\n\r\nexport interface ComingAuction {\r\n    id: number;\r\n    product_name: string;\r\n    min_price: number;\r\n    image: string;\r\n    starting_time: Date;\r\n    username: string;\r\n    category: string;\r\n    buy_price: number;\r\n    description: string;\r\n    title: string;\r\n    user_id: number;\r\n    profile_pic: string;\r\n    buyer_link: string;\r\n}\r\n\r\nexport interface ProductDetails {\r\n    id: number;\r\n    live_id: number;\r\n    product_name: string;\r\n    min_price: number;\r\n    buy_price: number;\r\n    product_image: string;\r\n}\r\n\r\nexport function loadComingAuctions(comingAuctions: ComingAuction[]) {\r\n    return {\r\n        type: \"@@comingAuction/LOAD_COMING_AUCTION\" as const,\r\n        comingAuctions,\r\n    };\r\n}\r\n\r\nexport function loadProductDetails(productDetails: ProductDetails[]) {\r\n    return {\r\n        type: \"@@productDetails/LOAD_PRODUCT_DETAILS\" as const,\r\n        productDetails,\r\n    };\r\n}\r\n\r\nexport type ComingAuctionActions =\r\n    | ReturnType<typeof loadComingAuctions>\r\n    | ReturnType<typeof loadProductDetails>;\r\n\r\nexport function getComingAuctions(\r\n    setIsLoading: React.Dispatch<React.SetStateAction<boolean>>,\r\n    setLoadState: React.Dispatch<React.SetStateAction<number>>\r\n) {\r\n    return async (dispatch: RootThunkDispatch, getState: () => RootState) => {\r\n        try {\r\n            const res = await fetch(\r\n                `${process.env.REACT_APP_BACKEND_URL}/comingAuction`\r\n            );\r\n\r\n            const json = await res.json();\r\n\r\n            if (json) {\r\n                dispatch(loadComingAuctions(json.data.results.rows));\r\n            } else {\r\n                dispatch(loadComingAuctions([]));\r\n            }\r\n            window.setTimeout(() => {\r\n                setIsLoading(false);\r\n                setLoadState((loadState) => loadState + 1);\r\n            }, 300);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n}\r\n\r\nexport function fetchProductDetails() {\r\n    return async (dispatch: RootThunkDispatch, getState: () => RootState) => {\r\n        try {\r\n            const res = await fetch(\r\n                `${process.env.REACT_APP_BACKEND_URL}/product/details`\r\n            );\r\n\r\n            const json = await res.json();\r\n\r\n            if (json) {\r\n                dispatch(loadProductDetails(json.data.results.rows));\r\n            } else {\r\n                dispatch(loadProductDetails([]));\r\n            }\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n}\r\n","// import moment from \"moment\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Modal, Image, Container, Row, Col } from \"react-bootstrap\";\r\n// import Carousel from \"react-multi-carousel\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { fetchProductDetails } from \"../../redux/homepage/action\";\r\nimport { RootState } from \"../../store\";\r\nimport SubscribeButton from \"../../component/common/subscribeButton\";\r\nimport { fetchSellerSubscribe } from \"../../redux/user/actions\";\r\nimport { push } from \"connected-react-router\";\r\n\r\n// const productResponsive = {\r\n//     desktop: {\r\n//         breakpoint: { max: 3000, min: 1024 },\r\n//         items: 1,\r\n//         slidesToSlide: 1, // optional, default to 1.\r\n//     },\r\n//     tablet: {\r\n//         breakpoint: { max: 1024, min: 464 },\r\n//         items: 1,\r\n//         slidesToSlide: 1, // optional, default to 1.\r\n//     },\r\n//     mobile: {\r\n//         breakpoint: { max: 464, min: 0 },\r\n//         items: 1,\r\n//         slidesToSlide: 1, // optional, default to 1.\r\n//     },\r\n// };\r\nexport function ProfileDetails(props: any) {\r\n    // const products = useSelector((state: RootState) =>\r\n    //     Object.values(state.comingAuction.productDetails)\r\n    // );\r\n    const userId = useSelector((state: RootState) => {\r\n        if (\r\n            typeof state.authState.user !== \"string\" &&\r\n            state.authState.user?.id\r\n        ) {\r\n            return state.authState.user?.id;\r\n        }\r\n    });\r\n\r\n    const sellerFollowers = useSelector((state: RootState) => {\r\n        if (\r\n            typeof state.authState.user !== \"string\" &&\r\n            state.authState.user?.id\r\n        ) {\r\n            return state.sellerFollower;\r\n        }\r\n    });\r\n\r\n    const followingDetails = useSelector(\r\n        (state: RootState) => state.following.userDetails\r\n    );\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const { broadcasts } = props;\r\n    const [broadcastArr, setBroadcastArr] = useState([]);\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchSellerSubscribe(broadcasts.user_id));\r\n        // dispatch(fetchUserProfileCardInfo([broadcasts.user_id], \"following\"));\r\n        dispatch(fetchProductDetails());\r\n    }, [dispatch]);\r\n\r\n    useEffect(() => {\r\n        // console.log(\"broadcasts\", broadcasts);\r\n        setBroadcastArr(broadcastArr.concat(broadcasts));\r\n        // console.log(\"broadcastArr\", broadcastArr);\r\n    }, []);\r\n\r\n    if (!broadcasts) {\r\n        return <div></div>;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {broadcastArr.length === 1 && (\r\n                <Modal\r\n                    className={\"profile_card_container\"}\r\n                    {...props}\r\n                    size=\"xs\"\r\n                    aria-labelledby=\"contained-modal-title-vcenter\"\r\n                    centered\r\n                    key={(broadcastArr[0] as any).seller_id}\r\n                >\r\n                    {/*!!header */}\r\n                    <Modal.Header className={\"profile_card_header\"} closeButton>\r\n                        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                            {/* {(broadcastArr[0] as any).username} */}\r\n                        </Modal.Title>\r\n                    </Modal.Header>\r\n                    {/*body */}\r\n                    <Modal.Body className={\"profile_card_body\"}>\r\n                        {/* <h4>Info here：</h4> */}\r\n\r\n                        <Image\r\n                            className={\"profile_preview_pic\"}\r\n                            src={`${\r\n                                (broadcastArr[0] as any).profile_pic.search(\r\n                                    /(https:\\/\\/)|(http:\\/\\/)/i\r\n                                ) < 0\r\n                                    ? process.env.REACT_APP_BACKEND_URL +\r\n                                      \"/\" +\r\n                                      (broadcastArr[0] as any).profile_pic\r\n                                    : (broadcastArr[0] as any).profile_pic\r\n                            }`}\r\n                            roundedCircle\r\n                        />\r\n                        <Container>\r\n                            <Row>\r\n                                {/*left side  */}\r\n                                <Col xs={6} md={4}></Col>\r\n                                <h4 className={\"profile_card_username\"}>\r\n                                    {(broadcastArr[0] as any).username}\r\n                                </h4>\r\n\r\n                                {/*right side  */}\r\n                                <Col xs={12} md={8}></Col>\r\n                                <div className={\"profile_card_description\"}>\r\n                                    「&nbsp;\r\n                                    {followingDetails[0].description\r\n                                        ? followingDetails[0].description\r\n                                        : \"此人尚未撰寫個人介紹\"}\r\n                                    &nbsp;」\r\n                                </div>\r\n                            </Row>\r\n                        </Container>\r\n                    </Modal.Body>\r\n                    <Modal.Footer className={\"profile_card_footer\"}>\r\n                        <div className={\"followers_container\"}>\r\n                            <span className={\"card_info_Num\"}>\r\n                                {sellerFollowers\r\n                                    ? sellerFollowers.sellerId.length\r\n                                    : 0}\r\n                            </span>\r\n                            {/* {(broadcastArr[0] as any).telegram_acct\r\n                                ? (broadcastArr[0] as any).telegram_acct\r\n                                : \"此人尚未有Telegram Account\"} */}\r\n                            <span className={\"card_info_item\"}>粉絲</span>\r\n                        </div>\r\n                        <div className={\"products_container\"}>\r\n                            <span className={\"card_info_Num\"}>\r\n                                {sellerFollowers\r\n                                    ? sellerFollowers.liveRecord.length\r\n                                    : 0}\r\n                            </span>\r\n                            {/* {(broadcastArr[0] as any).telegram_acct\r\n                                ? (broadcastArr[0] as any).telegram_acct\r\n                                : \"此人尚未有Telegram Account\"} */}\r\n                            <span className={\"card_info_item\"}>拍賣紀錄</span>\r\n                        </div>\r\n                        <div className={\"follow_button_container\"}>\r\n                            {/* {(broadcastArr[0] as any).telegram_acct\r\n                                ? (broadcastArr[0] as any).telegram_acct\r\n                                : \"此人尚未有Telegram Account\"} */}\r\n                            {/* <span>追蹤</span> */}\r\n                            {(broadcastArr[0] as any).user_id === userId ? (\r\n                                <div\r\n                                    className={\"card_himself_container\"}\r\n                                    onClick={() => {\r\n                                        dispatch(\r\n                                            push(\"/profilePage/accountDetails\")\r\n                                        );\r\n                                    }}\r\n                                >\r\n                                    <span className={\"card_himself\"}>\r\n                                        我的主頁\r\n                                    </span>\r\n                                </div>\r\n                            ) : (\r\n                                <SubscribeButton\r\n                                    targetId={(broadcastArr[0] as any).user_id}\r\n                                    userId={userId as number}\r\n                                />\r\n                            )}\r\n                        </div>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import { Button, Card, Container, Image } from \"react-bootstrap\";\r\nimport Carousel from \"react-multi-carousel\";\r\nimport \"react-multi-carousel/lib/styles.css\";\r\nimport { SvgBorder } from \"./SvgBorder\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faExternalLinkAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { push } from \"connected-react-router\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { RWebShare } from \"react-web-share\";\r\nimport { RootState } from \"../../store\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { fetchBroadcastingProducts } from \"../../redux/broadcastingProducts/actions\";\r\nimport { ProfileDetails } from \"./ProfileDetails\";\r\nimport {\r\n    fetchSellerSubscribe,\r\n    fetchUserProfileCardInfo,\r\n} from \"../../redux/user/actions\";\r\n\r\nconst responsive = {\r\n    desktop: {\r\n        breakpoint: { max: 3000, min: 1024 },\r\n        items: 4,\r\n        slidesToSlide: 2, // optional, default to 1.\r\n    },\r\n    tablet: {\r\n        breakpoint: { max: 1024, min: 464 },\r\n        items: 2,\r\n        slidesToSlide: 2, // optional, default to 1.\r\n    },\r\n    mobile: {\r\n        breakpoint: { max: 464, min: 0 },\r\n        items: 1,\r\n        slidesToSlide: 1, // optional, default to 1.\r\n    },\r\n};\r\n\r\nexport function Broadcasting() {\r\n    const dispatch = useDispatch();\r\n    const broadcastings = useSelector((state: RootState) =>\r\n        Object.values(state.broadcastingProducts.broadcastingProduct)\r\n    );\r\n    const token = localStorage.getItem(\"token\");\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchBroadcastingProducts());\r\n    }, [dispatch]);\r\n\r\n    async function profilePreview(info: any) {\r\n        if (token == null) {\r\n            return;\r\n        } else {\r\n            for (let broadcasting of broadcastings) {\r\n                if (broadcasting.id === info) {\r\n                    // console.log(\"broadcasting\", broadcasting);\r\n                    // console.log(\"broadcasting\", broadcasting.username);\r\n                    // console.log(\"broadcasting\", broadcasting.seller_id);\r\n                    await dispatch(\r\n                        fetchUserProfileCardInfo(\r\n                            [broadcasting.seller_id],\r\n                            \"following\"\r\n                        )\r\n                    );\r\n                    dispatch(fetchSellerSubscribe(broadcasting.seller_id));\r\n                    setModalShow(broadcasting.seller_id);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    const [modalShow, setModalShow] = useState(-1);\r\n\r\n    return (\r\n        <div>\r\n            <Container>\r\n                <h4 className=\"Incoming_auction\">直播中</h4>\r\n                <SvgBorder />\r\n                {broadcastings.length === 0 && (\r\n                    <div className=\"text-center my-3\">暫時沒有直播</div>\r\n                )}\r\n                <Carousel\r\n                    additionalTransfrom={0}\r\n                    arrows={false}\r\n                    autoPlay\r\n                    autoPlaySpeed={5000}\r\n                    centerMode={false}\r\n                    className=\"\"\r\n                    containerClass=\"container-with-dots\"\r\n                    dotListClass=\"\"\r\n                    draggable\r\n                    focusOnSelect={false}\r\n                    infinite\r\n                    itemClass=\"\"\r\n                    keyBoardControl\r\n                    minimumTouchDrag={90}\r\n                    renderButtonGroupOutside={false}\r\n                    renderDotsOutside={false}\r\n                    responsive={responsive}\r\n                    showDots={false}\r\n                    sliderClass=\"\"\r\n                    slidesToSlide={1}\r\n                    swipeable\r\n                >\r\n                    {broadcastings.map((broadcasting) => (\r\n                        <Card className=\"product_card\" key={broadcasting.id}>\r\n                            <Image\r\n                                className=\"img_fluid\"\r\n                                src={`${process.env.REACT_APP_BACKEND_URL}/${broadcasting.image}`}\r\n                                onClick={() => {\r\n                                    dispatch(\r\n                                        push(\r\n                                            `/liveStreaming?room=${broadcasting.buyer_link}`\r\n                                        )\r\n                                    );\r\n                                }}\r\n                                fluid\r\n                            />\r\n                            <Card.Body>\r\n                                <Card.Title\r\n                                    className=\"broadcasting_title\"\r\n                                    onClick={() => {\r\n                                        dispatch(\r\n                                            push(\r\n                                                `/liveStreaming?room=${broadcasting.buyer_link}`\r\n                                            )\r\n                                        );\r\n                                    }}\r\n                                >\r\n                                    {broadcasting.title}\r\n                                </Card.Title>\r\n                                <Card.Text>\r\n                                    目前價格:{\" \"}\r\n                                    <span className=\"biding_price\">\r\n                                        HKD {broadcasting.current_price}\r\n                                    </span>\r\n                                </Card.Text>\r\n                                <Card.Text>\r\n                                    <span\r\n                                        key={broadcasting.id}\r\n                                        onClick={() => {\r\n                                            profilePreview(broadcasting.id);\r\n                                        }}\r\n                                        // onClick={() =>\r\n                                        //     setModalShow(broadcasting.id)\r\n                                        // }\r\n                                        className={\"seller_name\"}\r\n                                    >\r\n                                        <span>由</span>\r\n                                        <span className={\"card_username\"}>\r\n                                            &nbsp;{broadcasting.username}\r\n                                            &nbsp;\r\n                                        </span>\r\n                                        主辦\r\n                                    </span>\r\n                                </Card.Text>\r\n                                {modalShow === broadcasting.id && (\r\n                                    <ProfileDetails\r\n                                        show={broadcasting.id}\r\n                                        broadcasts={broadcasting}\r\n                                        id={broadcasting.id}\r\n                                        onHide={() => setModalShow(-1)}\r\n                                    />\r\n                                )}\r\n\r\n                                <div className=\"bid_share_container w-75 justify-content-around\">\r\n                                    <Button\r\n                                        variant=\"outline-danger\"\r\n                                        className=\"bid_button\"\r\n                                        onClick={() => {\r\n                                            dispatch(\r\n                                                push(\r\n                                                    `/liveStreaming?room=${broadcasting.buyer_link}`\r\n                                                )\r\n                                            );\r\n                                        }}\r\n                                    >\r\n                                        {/* {broadcasting.title}\r\n                                    </Card.Title>\r\n                                    <Card.Text>\r\n                                        目前價格:{\" \"}\r\n                                        <span className=\"biding_price\">\r\n                                            HKD {broadcasting.current_price}\r\n                                        </span>\r\n                                    </Card.Text>\r\n                                    <Card.Text>\r\n                                        <span\r\n                                            key={broadcasting.id}\r\n                                            onClick={() => {\r\n                                                profilePreview(broadcasting.id);\r\n                                            }}\r\n                                            // onClick={() =>\r\n                                            //     setModalShow(broadcasting.id)\r\n                                            // }\r\n                                            className={\"seller_name\"}\r\n                                        >\r\n                                            <span>由</span>\r\n                                            <span className={\"card_username\"}>\r\n                                                &nbsp;{broadcasting.username}\r\n                                                &nbsp;\r\n                                            </span>\r\n                                            主辦\r\n                                        </span>\r\n                                    </Card.Text>\r\n                                    {modalShow === broadcasting.id && (\r\n                                        <ProfileDetails\r\n                                            show={broadcasting.id}\r\n                                            broadcasts={broadcasting}\r\n                                            id={broadcasting.id}\r\n                                            onHide={() => setModalShow(-1)}\r\n                                        />\r\n                                    )}\r\n\r\n                                    <div className=\"bid_share_container w-75 justify-content-around\">\r\n                                        <Button\r\n                                            variant=\"outline-dark\"\r\n                                            className=\"bid_button\"\r\n                                            onClick={() => {\r\n                                                dispatch(\r\n                                                    push(\r\n                                                        `/liveStreaming?room=${broadcasting.buyer_link}`\r\n                                                    )\r\n                                                );\r\n                                            }}\r\n                                        > */}\r\n                                        觀看直播\r\n                                    </Button>\r\n\r\n                                    <RWebShare\r\n                                        data={{\r\n                                            text: \"\",\r\n                                            url: `${process.env.REACT_APP_FRONTEND_URL}/liveStreaming?room=${broadcasting.buyer_link}`,\r\n                                            title: \"Look at this amazing live\",\r\n                                        }}\r\n                                    >\r\n                                        <FontAwesomeIcon\r\n                                            className=\"share_icon\"\r\n                                            icon={faExternalLinkAlt}\r\n                                        />\r\n                                    </RWebShare>\r\n                                </div>\r\n                            </Card.Body>\r\n                        </Card>\r\n                    ))}\r\n                </Carousel>\r\n            </Container>\r\n        </div>\r\n    );\r\n}\r\n","import moment from \"moment\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Button, Modal, Image, Container, Row, Col } from \"react-bootstrap\";\r\nimport Carousel from \"react-multi-carousel\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { fetchProductDetails } from \"../../redux/homepage/action\";\r\nimport { RootState } from \"../../store\";\r\n\r\nconst productResponsive = {\r\n    desktop: {\r\n        breakpoint: { max: 3000, min: 1024 },\r\n        items: 1,\r\n        slidesToSlide: 1, // optional, default to 1.\r\n    },\r\n    tablet: {\r\n        breakpoint: { max: 1024, min: 464 },\r\n        items: 1,\r\n        slidesToSlide: 1, // optional, default to 1.\r\n    },\r\n    mobile: {\r\n        breakpoint: { max: 464, min: 0 },\r\n        items: 1,\r\n        slidesToSlide: 1, // optional, default to 1.\r\n    },\r\n};\r\n\r\nexport function ProductDetails(props: any) {\r\n    const products = useSelector((state: RootState) =>\r\n        Object.values(state.comingAuction.productDetails)\r\n    );\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchProductDetails());\r\n    }, [dispatch]);\r\n\r\n    const { lives } = props;\r\n    const [liveArr, setLiveArr] = useState([]);\r\n\r\n    useEffect(() => {\r\n        // console.log(\"lives\", lives);\r\n        setLiveArr(lives.filter((live: any) => live.id === props.id));\r\n    }, []);\r\n\r\n    if (!lives) {\r\n        return <div></div>;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {liveArr.length === 1 && (\r\n                <Modal\r\n                    {...props}\r\n                    size=\"lg\"\r\n                    aria-labelledby=\"contained-modal-title-vcenter\"\r\n                    centered\r\n                    key={(liveArr[0] as any).id}\r\n                >\r\n                    <Modal.Header\r\n                        className={\"product_details_header\"}\r\n                        // closeButton\r\n                    >\r\n                        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                            <div className={\"product_details_live_title\"}>\r\n                                {(liveArr[0] as any).title}\r\n                            </div>\r\n                        </Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body className={\"Product_detail_body_container\"}>\r\n                        <Container>\r\n                            <Row className={\"product_Details_body\"}>\r\n                                <Col xs={12} md={4}>\r\n                                    <Carousel\r\n                                        additionalTransfrom={0}\r\n                                        autoPlay={false}\r\n                                        arrows\r\n                                        // autoPlaySpeed={5000}\r\n                                        centerMode={false}\r\n                                        className=\"\"\r\n                                        containerClass=\"container-with-dots\"\r\n                                        dotListClass=\"\"\r\n                                        draggable\r\n                                        focusOnSelect={false}\r\n                                        infinite\r\n                                        itemClass=\"\"\r\n                                        keyBoardControl\r\n                                        minimumTouchDrag={90}\r\n                                        renderButtonGroupOutside={false}\r\n                                        renderDotsOutside={false}\r\n                                        responsive={productResponsive}\r\n                                        showDots={false}\r\n                                        sliderClass=\"\"\r\n                                        slidesToSlide={1}\r\n                                        swipeable\r\n                                    >\r\n                                        {products.map(\r\n                                            (product) =>\r\n                                                product.live_id ===\r\n                                                    (liveArr[0] as any).id && (\r\n                                                    <div\r\n                                                        className=\"product_details_container\"\r\n                                                        key={product.id}\r\n                                                    >\r\n                                                        <Image\r\n                                                            className={\r\n                                                                \"product_details_image\"\r\n                                                            }\r\n                                                            src={`${process.env.REACT_APP_BACKEND_URL}/${product.product_image}`}\r\n                                                            fluid\r\n                                                        />\r\n                                                        <div>\r\n                                                            {/* 商品名稱：{\" \"} */}\r\n                                                            <div\r\n                                                                className={\r\n                                                                    \"product_details_Product_name\"\r\n                                                                }\r\n                                                            >\r\n                                                                {\r\n                                                                    product.product_name\r\n                                                                }\r\n                                                                <span\r\n                                                                    className={\r\n                                                                        \"New_Icon_PD\"\r\n                                                                    }\r\n                                                                >\r\n                                                                    NEW\r\n                                                                </span>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <div\r\n                                                            className={\r\n                                                                \"product_details_Product_minPrice\"\r\n                                                            }\r\n                                                        >\r\n                                                            起標：{\" \"}\r\n                                                            <span>\r\n                                                                {product.min_price +\r\n                                                                    \" HKD \"}\r\n                                                            </span>\r\n                                                        </div>\r\n                                                        {/* <p>\r\n                                                            即買價：{\" \"}\r\n                                                            {product.buy_price}\r\n                                                        </p> */}\r\n                                                    </div>\r\n                                                )\r\n                                        )}\r\n                                    </Carousel>\r\n                                </Col>\r\n                                <Col xs={12} md={8}>\r\n                                    <div className=\"products_info_container\">\r\n                                        <div className=\"products_detailed_info\">\r\n                                            <div\r\n                                                className={\r\n                                                    \"product_detailed_Date\"\r\n                                                }\r\n                                            >\r\n                                                <div>拍賣時間： </div>\r\n                                                <span>\r\n                                                    {moment(\r\n                                                        (liveArr[0] as any)\r\n                                                            .starting_time\r\n                                                    ).format(\r\n                                                        \"YYYY-MM-DD hh:mm:ss a\"\r\n                                                    )}\r\n                                                </span>\r\n                                            </div>\r\n                                            <div className=\"product_detailed_description\">\r\n                                                <div>拍賣簡介： </div>\r\n                                                <span\r\n                                                    className={\r\n                                                        \"product_detailed_description_content\"\r\n                                                    }\r\n                                                >\r\n                                                    {\r\n                                                        (liveArr[0] as any)\r\n                                                            .description\r\n                                                    }\r\n                                                </span>\r\n                                            </div>\r\n\r\n                                            <div className=\"product_detailed_total\">\r\n                                                <div>拍賣商品數量：</div>\r\n                                                <span>\r\n                                                    {\r\n                                                        products.filter(\r\n                                                            (product) =>\r\n                                                                product.live_id ===\r\n                                                                (\r\n                                                                    liveArr[0] as any\r\n                                                                ).id\r\n                                                        ).length\r\n                                                    }\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </Col>\r\n                            </Row>\r\n                        </Container>\r\n                    </Modal.Body>\r\n                    <Modal.Footer className={\"product_detailed_footer\"}>\r\n                        <Button\r\n                            className={\"PD_close_btn\"}\r\n                            onClick={props.onHide}\r\n                        >\r\n                            離開\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import { Button, Card, Container, Image } from \"react-bootstrap\";\r\nimport Carousel from \"react-multi-carousel\";\r\nimport \"react-multi-carousel/lib/styles.css\";\r\nimport { SvgBorder } from \"./SvgBorder\";\r\nimport { RootState } from \"../../store\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getComingAuctions } from \"../../redux/homepage/action\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { ProductDetails } from \"./ProductDetails\";\r\nimport { fetchBroadcastingProducts } from \"../../redux/broadcastingProducts/actions\";\r\nimport {\r\n    fetchSellerSubscribe,\r\n    fetchUserProfileCardInfo,\r\n} from \"../../redux/user/actions\";\r\nimport { ProfileDetails } from \"./ProfileDetails\";\r\nimport \"./Incoming-auction.scss\";\r\n\r\nconst responsive = {\r\n    desktop: {\r\n        breakpoint: { max: 3000, min: 1024 },\r\n        items: 4,\r\n        slidesToSlide: 2, // optional, default to 1.\r\n    },\r\n    tablet: {\r\n        breakpoint: { max: 1024, min: 464 },\r\n        items: 2,\r\n        slidesToSlide: 2, // optional, default to 1.\r\n    },\r\n    mobile: {\r\n        breakpoint: { max: 464, min: 0 },\r\n        items: 1,\r\n        slidesToSlide: 1, // optional, default to 1.\r\n    },\r\n};\r\n\r\ninterface ComingAuctionProps {\r\n    setIsLoading: React.Dispatch<React.SetStateAction<boolean>>;\r\n    loadState: number;\r\n    setLoadState: React.Dispatch<React.SetStateAction<number>>;\r\n}\r\n\r\nexport function ComingAuction(props: ComingAuctionProps) {\r\n    const auctions = useSelector((state: RootState) =>\r\n        Object.values(state.comingAuction.comingAuctions)\r\n    );\r\n    const token = localStorage.getItem(\"token\");\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        if (props.loadState === 0) {\r\n            dispatch(getComingAuctions(props.setIsLoading, props.setLoadState));\r\n        }\r\n    }, [dispatch, props]);\r\n\r\n    const [modalShowProf, setModalShowProf] = useState(-1);\r\n    const [modalShow, setModalShow] = useState(-1);\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchBroadcastingProducts());\r\n    }, [dispatch]);\r\n\r\n    async function profilePreview(info: any) {\r\n        // console.log(\"click\");\r\n        if (token == null) {\r\n            return;\r\n        } else {\r\n            for (let auction of auctions) {\r\n                if (auction.id === info) {\r\n                    // console.log(\"auction\", auction);\r\n                    // console.log(\"auction\", auction.username);\r\n                    // console.log(\"auction\", auction.user_id);\r\n                    await dispatch(\r\n                        fetchUserProfileCardInfo([auction.user_id], \"following\")\r\n                    );\r\n                    dispatch(fetchSellerSubscribe(auction.user_id));\r\n                    setModalShowProf(auction.user_id);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    const [now, setNow] = useState<string>(new Date().toString());\r\n    const [timerId, setTimerId] = useState<number>(0);\r\n    useEffect(() => {\r\n        setTimerId(\r\n            window.setInterval(() => {\r\n                setNow(new Date().toString());\r\n            }, 16)\r\n        );\r\n    }, []);\r\n    useEffect(() => {\r\n        return () => {\r\n            clearInterval(timerId);\r\n        };\r\n    }, [timerId]);\r\n\r\n    return (\r\n        <div>\r\n            <Container>\r\n                <h4 className=\"Incoming_auction\">最新拍賣</h4>\r\n                <SvgBorder />\r\n                <Carousel\r\n                    additionalTransfrom={0}\r\n                    autoPlay\r\n                    arrows={false}\r\n                    autoPlaySpeed={5000}\r\n                    centerMode={false}\r\n                    className=\"\"\r\n                    containerClass=\"container-with-dots\"\r\n                    dotListClass=\"\"\r\n                    draggable\r\n                    focusOnSelect={false}\r\n                    infinite\r\n                    itemClass=\"\"\r\n                    keyBoardControl\r\n                    minimumTouchDrag={90}\r\n                    renderButtonGroupOutside={false}\r\n                    renderDotsOutside={false}\r\n                    responsive={responsive}\r\n                    showDots={false}\r\n                    sliderClass=\"\"\r\n                    slidesToSlide={1}\r\n                    swipeable\r\n                >\r\n                    {auctions.map((auction) => (\r\n                        <Card key={auction.id} className=\"product_card\">\r\n                            <Image\r\n                                className=\"img_fluid\"\r\n                                src={`${process.env.REACT_APP_BACKEND_URL}/${auction.image}`}\r\n                                fluid\r\n                            />\r\n                            <Card.Body>\r\n                                {Date.parse(auction.starting_time.toString()) -\r\n                                    Date.parse(now) >\r\n                                0 ? (\r\n                                    <div className=\"counter\">\r\n                                        <div className=\"countdown_time\">\r\n                                            <div className=\"time_value\">\r\n                                                {Math.floor(\r\n                                                    (Date.parse(\r\n                                                        auction.starting_time.toString()\r\n                                                    ) -\r\n                                                        Date.parse(now)) /\r\n                                                        (24 * 60 * 60 * 1000)\r\n                                                )}\r\n                                            </div>\r\n                                            <div className=\"time_label\">日</div>\r\n                                        </div>\r\n                                        <div className=\"countdown_time\">\r\n                                            <div className=\"time_value\">\r\n                                                {(\r\n                                                    \"0\" +\r\n                                                    (\r\n                                                        Math.floor(\r\n                                                            (Date.parse(\r\n                                                                auction.starting_time.toString()\r\n                                                            ) -\r\n                                                                Date.parse(\r\n                                                                    now\r\n                                                                )) /\r\n                                                                (60 * 60 * 1000)\r\n                                                        ) % 24\r\n                                                    ).toString()\r\n                                                ).slice(-2)}\r\n                                            </div>\r\n                                            <div className=\"time_label\">時</div>\r\n                                        </div>\r\n                                        <div className=\"countdown_time\">\r\n                                            <div className=\"time_value\">\r\n                                                {(\r\n                                                    \"0\" +\r\n                                                    (\r\n                                                        Math.floor(\r\n                                                            (Date.parse(\r\n                                                                auction.starting_time.toString()\r\n                                                            ) -\r\n                                                                Date.parse(\r\n                                                                    now\r\n                                                                )) /\r\n                                                                (60 * 1000)\r\n                                                        ) % 60\r\n                                                    ).toString()\r\n                                                ).slice(-2)}\r\n                                            </div>\r\n                                            <div className=\"time_label\">分</div>\r\n                                        </div>\r\n                                        <div className=\"countdown_time\">\r\n                                            <div className=\"time_value\">\r\n                                                {(\r\n                                                    \"0\" +\r\n                                                    (\r\n                                                        Math.floor(\r\n                                                            (Date.parse(\r\n                                                                auction.starting_time.toString()\r\n                                                            ) -\r\n                                                                Date.parse(\r\n                                                                    now\r\n                                                                )) /\r\n                                                                1000\r\n                                                        ) % 60\r\n                                                    ).toString()\r\n                                                ).slice(-2)}\r\n                                            </div>\r\n                                            <div className=\"time_label\">秒</div>\r\n                                        </div>\r\n                                    </div>\r\n                                ) : (\r\n                                    <div className=\"counter d-flex align-items-center justify-content-center\">\r\n                                        <span>直播即將開始...</span>\r\n                                    </div>\r\n                                )}\r\n                                <Card.Title className=\"broadcasting_title\">\r\n                                    {auction.title}\r\n                                </Card.Title>\r\n                                <Card.Text>\r\n                                    <span\r\n                                        key={auction.id}\r\n                                        onClick={() => {\r\n                                            profilePreview(auction.id);\r\n                                        }}\r\n                                        // onClick={() =>\r\n                                        //     setModalShow(broadcasting.id)\r\n                                        // }\r\n                                        className={\"seller_name\"}\r\n                                    >\r\n                                        <span>由</span>\r\n                                        <span className={\"card_username\"}>\r\n                                            &nbsp;{auction.username}\r\n                                            &nbsp;\r\n                                        </span>\r\n                                        主辦\r\n                                    </span>\r\n                                </Card.Text>\r\n                                {modalShowProf === auction.user_id && (\r\n                                    <ProfileDetails\r\n                                        show={auction.user_id}\r\n                                        broadcasts={auction}\r\n                                        id={auction.user_id}\r\n                                        onHide={() => setModalShowProf(-1)}\r\n                                    />\r\n                                )}\r\n                                <div className=\"bid_share_container w-75 justify-content-around\">\r\n                                    <Button\r\n                                        key={auction.id}\r\n                                        variant=\"outline-dark\"\r\n                                        className=\"bid_button\"\r\n                                        onClick={() => setModalShow(auction.id)}\r\n                                    >\r\n                                        更多資料\r\n                                    </Button>\r\n\r\n                                    {modalShow === auction.id && (\r\n                                        <ProductDetails\r\n                                            show={auction.id}\r\n                                            lives={auctions}\r\n                                            id={auction.id}\r\n                                            onHide={() => setModalShow(-1)}\r\n                                        />\r\n                                    )}\r\n                                    {/* {console.log(\r\n                                        \"auction.buyer_link\",\r\n                                        auction.buyer_link\r\n                                    )} */}\r\n                                    {/* <RWebShare\r\n                                        data={{\r\n                                            text: \"\",\r\n                                            url: `${process.env.REACT_APP_FRONTEND_URL}/liveStreaming?room=${auction.buyer_link}`,\r\n\r\n                                            title: \"Look at this amazing live\",\r\n                                        }}\r\n                                        onClick={() =>\r\n                                            console.log(\"shared successfully!\")\r\n                                        }\r\n                                    >\r\n                                        <FontAwesomeIcon\r\n                                            className=\"share_icon\"\r\n                                            icon={faExternalLinkAlt}\r\n                                        />\r\n                                    </RWebShare> */}\r\n                                </div>\r\n                            </Card.Body>\r\n                        </Card>\r\n                    ))}\r\n                </Carousel>\r\n            </Container>\r\n        </div>\r\n    );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/categories_green.1d150b14.png\";","export default __webpack_public_path__ + \"static/media/categories_blue.1b1000e4.png\";","export default __webpack_public_path__ + \"static/media/categories_red.7ac67884.png\";","export default __webpack_public_path__ + \"static/media/categories_yellow.e9d304e7.png\";","import { Col, Container, Row, Card } from \"react-bootstrap\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { RootState } from \"../../store\";\r\nimport { SvgBorder } from \"./SvgBorder\";\r\nimport { fetchFilteredCategories } from \"../../redux/searchResult/action\";\r\nimport green from \"./assets/categories_green.png\";\r\nimport blue from \"./assets/categories_blue.png\";\r\nimport red from \"./assets/categories_red.png\";\r\nimport yellow from \"./assets/categories_yellow.png\";\r\n\r\nexport function Recommendation() {\r\n    const dispatch = useDispatch();\r\n    const categories = useSelector((state: RootState) =>\r\n        Object.values(state.products.categories)\r\n    );\r\n    return (\r\n        <div>\r\n            <Container>\r\n                <h4>熱門產品</h4>\r\n                <SvgBorder />\r\n                <Row>\r\n                    <Col sm={6} className=\"recommendation_column\">\r\n                        <div className=\"first_category_container\">\r\n                            <Card className=\"bg-light text-white recommendation_card\">\r\n                                <Card.Img src={green} alt=\"Card image\" />\r\n                                <Card.ImgOverlay className=\"info_container\">\r\n                                    <Card.Title>電腦、平板與周邊</Card.Title>\r\n                                    <Card.Text>更多精選電玩產品</Card.Text>\r\n                                    <Link\r\n                                        to={`/categoryResult?category=電腦、平板與周邊`}\r\n                                        onClick={() => {\r\n                                            dispatch(\r\n                                                fetchFilteredCategories(\r\n                                                    categories\r\n                                                        .filter(\r\n                                                            (item) =>\r\n                                                                item.category ===\r\n                                                                \"電腦、平板與周邊\"\r\n                                                        )\r\n                                                        .map(\r\n                                                            (item) => item.id\r\n                                                        )[0]\r\n                                                )\r\n                                            );\r\n                                        }}\r\n                                    >\r\n                                        <Card.Text className=\"view_more\">\r\n                                            查看更多\r\n                                        </Card.Text>\r\n                                    </Link>\r\n                                </Card.ImgOverlay>\r\n                            </Card>\r\n                        </div>\r\n                        <div className=\"second_category_container\">\r\n                            <Card className=\"bg-light text-white recommendation_card\">\r\n                                <Card.Img src={red} alt=\"Card image\" />\r\n                                <Card.ImgOverlay className=\"info_container\">\r\n                                    <Card.Title>居家、家具與園藝</Card.Title>\r\n                                    <Card.Text>拍賣獨特家居產品</Card.Text>\r\n                                    <Link\r\n                                        to={`/categoryResult?category=居家、家具與園藝`}\r\n                                        onClick={() => {\r\n                                            dispatch(\r\n                                                fetchFilteredCategories(\r\n                                                    categories\r\n                                                        .filter(\r\n                                                            (item) =>\r\n                                                                item.category ===\r\n                                                                \"居家、家具與園藝\"\r\n                                                        )\r\n                                                        .map(\r\n                                                            (item) => item.id\r\n                                                        )[0]\r\n                                                )\r\n                                            );\r\n                                        }}\r\n                                    >\r\n                                        <Card.Text className=\"view_more\">\r\n                                            查看更多\r\n                                        </Card.Text>\r\n                                    </Link>\r\n                                </Card.ImgOverlay>\r\n                            </Card>\r\n                        </div>\r\n                    </Col>\r\n                    <Col sm={6} className=\"recommendation_column\">\r\n                        <div className=\"third_category_container\">\r\n                            <Card className=\"bg-light text-white recommendation_card\">\r\n                                <Card.Img src={yellow} alt=\"Card image\" />\r\n                                <Card.ImgOverlay className=\"info_container\">\r\n                                    <Card.Title>運動、戶外與休閒</Card.Title>\r\n                                    <Card.Text>絕版波鞋，簽名波衫</Card.Text>\r\n                                    <Link\r\n                                        to={`/categoryResult?category=運動、戶外與休閒`}\r\n                                        onClick={() => {\r\n                                            dispatch(\r\n                                                fetchFilteredCategories(\r\n                                                    categories\r\n                                                        .filter(\r\n                                                            (item) =>\r\n                                                                item.category ===\r\n                                                                \"運動、戶外與休閒\"\r\n                                                        )\r\n                                                        .map(\r\n                                                            (item) => item.id\r\n                                                        )[0]\r\n                                                )\r\n                                            );\r\n                                        }}\r\n                                    >\r\n                                        <Card.Text className=\"view_more\">\r\n                                            查看更多\r\n                                        </Card.Text>\r\n                                    </Link>\r\n                                </Card.ImgOverlay>\r\n                            </Card>\r\n                        </div>\r\n                        <div className=\"fourth_category_container\">\r\n                            <Card className=\"bg-light text-white recommendation_card\">\r\n                                <Card.Img src={blue} alt=\"Card image\" />\r\n                                <Card.ImgOverlay className=\"info_container\">\r\n                                    <Card.Title>古董、藝術與礦石</Card.Title>\r\n                                    <Card.Text>\r\n                                        搜羅稀世古董，奇珍異石\r\n                                    </Card.Text>\r\n                                    <Link\r\n                                        to={`/categoryResult?category=古董、藝術與礦石`}\r\n                                        onClick={() => {\r\n                                            dispatch(\r\n                                                fetchFilteredCategories(\r\n                                                    categories\r\n                                                        .filter(\r\n                                                            (item) =>\r\n                                                                item.category ===\r\n                                                                \"古董、藝術與礦石\"\r\n                                                        )\r\n                                                        .map(\r\n                                                            (item) => item.id\r\n                                                        )[0]\r\n                                                )\r\n                                            );\r\n                                        }}\r\n                                    >\r\n                                        <Card.Text className=\"view_more\">\r\n                                            查看更多\r\n                                        </Card.Text>\r\n                                    </Link>\r\n                                </Card.ImgOverlay>\r\n                            </Card>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        </div>\r\n    );\r\n}\r\n","import { Button, Image } from \"react-bootstrap\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { RootState } from \"../../store\";\r\n\r\nexport function SellWithBidcast() {\r\n    const phoneNumber = useSelector((state: RootState) => {\r\n        if (\r\n            typeof state.authState.user !== \"string\" &&\r\n            state.authState.user?.phone_number\r\n        ) {\r\n            return state.authState.user?.phone_number;\r\n        }\r\n        return \"\";\r\n    });\r\n    return (\r\n        <div>\r\n            <div className=\"start_bid_section\">\r\n                <div className=\"discription_container ms-3\">\r\n                    <h3 className=\"bid_with_bidcast\">在Bidcast拍賣</h3>\r\n                    <p>想知道你的產品最高能賣到多少錢？</p>\r\n                    <p>立刻嘗試拍賣就知道！</p>\r\n                    <Link\r\n                        to={\r\n                            phoneNumber === \"\" || phoneNumber === \"11111111\"\r\n                                ? \"/profilePage/accountDetails\"\r\n                                : \"/createBids\"\r\n                        }\r\n                        className=\"nav_link\"\r\n                    >\r\n                        <Button variant=\"outline-dark\" className=\"bid_button\">\r\n                            馬上拍賣\r\n                        </Button>\r\n                    </Link>\r\n                </div>\r\n                <div>\r\n                    <Image\r\n                        src=\"https://sothebys-com.brightspotcdn.com/dims4/default/2727d5f/2147483647/strip/true/crop/1420x1040+0+0/resize/710x520!/quality/90/?url=http%3A%2F%2Fsothebys-brightspot.s3.amazonaws.com%2Fdotcom%2Ff3%2Fb2%2F960d317e43a78f46b41a198ab1c9%2F21693106-sell-with-sothebys-webbanners-1420x1040-banner2.jpg\"\r\n                        fluid\r\n                        className=\"rotate_image\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/product01.45aff63b.png\";","export default __webpack_public_path__ + \"static/media/arrow.396f089c.png\";","import React, { Component,useState,useEffect } from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Stage, Layer, Text,Line,Image } from 'react-konva';\r\nimport { useSpring,Spring, animated } from '@react-spring/konva';\r\nimport useImage from 'use-image';\r\n//image import field\r\nimport product01 from \"../assets/product01.png\"\r\nimport arrow from \"../assets/arrow.png\"\r\nimport \"./HomePageKonva.scss\"\r\nimport {easeCubic} from 'd3-ease'\r\n// setup pattern & animation field\r\nfunction Triangle1(){\r\n  const p1 = useSpring({\r\n    config:{duration: 1000},\r\n    from: {\r\n      x: window.innerWidth/5, \r\n        y: window.innerHeight/3,\r\n        shadowBlur: 0,\r\n        rotation:0,\r\n        scaleX:0,\r\n        scaleY:0,\r\n        opacity:0, \r\n        offset: {\r\n          x: 50,\r\n          y: 55,\r\n        }, \r\n    },\r\n    to: {\r\n      x: window.innerWidth/5,\r\n        y: window.innerHeight/3.5,\r\n        // shadowBlur:5,\r\n        rotation:300,\r\n        scaleX:0.5,\r\n        scaleY:0.5,\r\n        opacity:0.7,\r\n        width: 50,\r\n        height:  50\r\n    }\r\n  })\r\n  return(\r\n      <animated.Line {...p1} points={[23, 50, 23, 160, 100, 93]} fill={\"hotpink\"} stroke={\"black\"} strokeWidth={0} closed={true} draggable/>\r\n  )\r\n}\r\nfunction Triangle2(){\r\n  const p1 = useSpring({\r\n    config:{duration: 1000},\r\n    from: {\r\n      x: window.innerWidth/5, \r\n        y: window.innerHeight/3,\r\n        shadowBlur: 0,\r\n        rotation:0,\r\n        scaleX:0,\r\n        scaleY:0,\r\n        opacity:0, \r\n        fill: 'rgb(10,50,19)',\r\n        offset: {\r\n          x: 50,\r\n          y: 55,\r\n        }, \r\n    },\r\n    to: {\r\n      x: window.innerWidth/2.2,\r\n        y: window.innerHeight/2,\r\n        // shadowBlur:5,\r\n        rotation:480,\r\n        scaleX:0.4,\r\n        scaleY:0.4,\r\n        opacity:0.5,\r\n        fill: 'hotpink',\r\n        width: 50,\r\n        height:  50\r\n    }\r\n  })\r\n  return(\r\n      <animated.Line {...p1} points={[23, 50, 23, 160, 100, 93]} fill={\"#00D2FF\"} stroke={\"black\"} strokeWidth={0} closed={true} draggable/>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport function HomepageCanvas(){\r\n  // const e = easeCubic(0.25);\r\n\r\n  //Image field\r\n  const [pro01] = useImage(product01);\r\n  const [arrows] = useImage(arrow);\r\n  \r\n  //!!  resize config  ***//\r\n  //!!  resize config  ***//\r\n  var SCENE_BASE_WIDTH = 800;\r\n  var SCENE_BASE_HEIGHT = 600;\r\n  const aspectRatio = 16 / 9\r\n  // const widthAR = window.innerWidth * 0.8\r\n  // console.log(\"widthAR\", widthAR);\r\n  // const heightAR = widthAR / aspectRatio\r\n  // console.log(\"heightAR\", heightAR);\r\n\r\n  const [size, setSize] = React.useState({\r\n    width: window.innerWidth * 0.8,\r\n    // height: window.innerHeight\r\n    height: (window.innerWidth * 0.8) / aspectRatio\r\n  });\r\n  React.useEffect(() => {\r\n    const checkSize = () => {\r\n\r\n        setSize({\r\n          width: window.innerWidth * 0.8,\r\n          height: (window.innerWidth * 0.8) / aspectRatio\r\n        });\r\n      \r\n    };\r\n\r\n    window.addEventListener(\"resize\", checkSize);\r\n    return () => window.removeEventListener(\"resize\", checkSize);\r\n  }, []);\r\n\r\n  const scale = size.width / SCENE_BASE_WIDTH;\r\n  //***  resize config  ***//\r\n  //***  resize config  ***//\r\n\r\n \r\n  \r\n\r\n  //!! Title **//\r\n  //!! Title **//\r\n  let widthSpec = (size.width/100)\r\n  let heightSpec = (size.height/100)\r\n  const title = useSpring({\r\n    config:{\r\n      duration: 2500,\r\n      easing:easeCubic,\r\n    },\r\n    from: {\r\n        x: (size.width/widthSpec)*1.7, \r\n        y: (size.height/heightSpec)*1.2,\r\n        shadowBlur: 0,\r\n        rotation:0,\r\n        // scaleX:1,\r\n        // scaleY:1,\r\n        opacity:0,\r\n        shadowOpacity: 0,\r\n        shadowOffset: { x: 0, y: 5 }\r\n    },\r\n    to: {\r\n        x: (size.width/widthSpec)*1.7,\r\n        y: (size.height/heightSpec)*0.3,\r\n        shadowBlur:20,\r\n        shadowOpacity: 0.3,\r\n        opacity:1,\r\n        \r\n    }\r\n  })\r\n  //** Title **//\r\n  //** Title **//\r\n\r\n\r\n  //!! BG_Triangle1 **//\r\n  //!! BG_Triangle1 **//\r\n  const [BGTriangle1,setBGTriangle1] = useSpring(()=>({\r\n    config:{\r\n      duration: 2500,\r\n      easing:easeCubic,\r\n    },\r\n    to: async (next, cancel) => {\r\n      await next({\r\n        x: (size.width/widthSpec)*4.3,\r\n        y: (size.height/heightSpec)*2.8,\r\n        opacity:0.1,\r\n        scaleX:1.4,\r\n        scaleY:1.4,\r\n      })\r\n    },\r\n\r\n    from: {\r\n        x: (size.width/widthSpec)*4.3, \r\n        y: (size.height/heightSpec)*3.8,\r\n        opacity:0,\r\n        scaleX:1.4,\r\n        scaleY:1.4,\r\n        // rotation:30,\r\n    },\r\n  }))\r\n  const [BGTriangleLoop1, setBGTriangleLoop1] = useSpring(() => ({\r\n    config:{\r\n      duration: 300000,\r\n      // easing:easeCubic,\r\n      // delay:2500,\r\n    },\r\n    from: { \r\n      x: (size.width/widthSpec)*4.3,\r\n      y: ((size.height/heightSpec)*2.8),\r\n      rotation:0,\r\n      scaleX:1.4,\r\n        scaleY:1.4,\r\n         opacity: 0.1 },\r\n  }))\r\n\r\n    useEffect(() => {\r\n      const timer = setTimeout(() => {\r\n        setBGTriangleLoop1({\r\n          x: (size.width/widthSpec)*4.3,\r\n          y: ((size.height/heightSpec)*2.8),\r\n          rotation:360,\r\n          scaleX:1.4,\r\n        scaleY:1.4,\r\n          loop: true ,\r\n        })\r\n        setBGTriangleNowEffect(BGTriangleLoop1)\r\n\r\n      }, 2500);\r\n      return () => clearTimeout(timer);\r\n    }, [])\r\n\r\n  const[ BGTriangleNowEffect, setBGTriangleNowEffect]=useState(BGTriangle1)\r\n  //** BG_Triangle1 **//\r\n  //** BG_Triangle1 **//\r\n\r\n  //!! BG LINE Animation **//\r\n  //!! BG LINE Animation **//\r\n  const LineAnimation = useSpring({\r\n    config:{\r\n      duration:1500,\r\n      },\r\n    from:{\r\n      opacity: 0\r\n    },\r\n    to:{\r\n      opacity:1\r\n    }\r\n  })\r\n  // ** BG LINE Animation **//\r\n  // ** BG LINE Animation **//\r\n  //!! BG Tri Animation **//\r\n  //!! BG Tri Animation **//\r\n  const BGTriAnimation = useSpring({\r\n    delay:1000,\r\n    config:{\r\n      duration:600,\r\n      },\r\n    from:{\r\n      opacity: 0,\r\n      x: (size.width/widthSpec)*5,\r\n      y: ((size.height/heightSpec)*5),\r\n      rotation:400,\r\n    },\r\n    to:{\r\n      opacity:0.8,\r\n      x: (size.width/widthSpec)*0.5,\r\n      y: ((size.height/heightSpec))*1,\r\n      rotation:0,\r\n    }\r\n  })\r\n\r\n  const [BGTriLoop, setBGTri] = useSpring(() => ({\r\n    config:{\r\n      duration: 100000,\r\n      // easing:easeCubic,\r\n      // delay:2500,\r\n    },\r\n    from: { \r\n      opacity:0.8,\r\n      x: (size.width/widthSpec)*0.5,\r\n      y: ((size.height/heightSpec))*1,\r\n      rotation:0, },\r\n  }))\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setBGTri({\r\n        opacity:0.8,\r\n      x: (size.width/widthSpec)*0.5,\r\n      y: ((size.height/heightSpec))*1,\r\n      rotation:-360,\r\n        loop: { reverse: true },\r\n      })\r\n      setBGTriNowEffect(BGTriLoop)\r\n\r\n    }, 1600);\r\n    return () => clearTimeout(timer);\r\n  }, [])\r\n\r\nconst[ BGTriNowEffect, setBGTriNowEffect]=useState(BGTriAnimation)\r\n\r\n  // ** BG LINE Animation **//\r\n  // ** BG LINE Animation **//\r\n\r\n  //!! product Animation ** //\r\n  //!! product Animation ** //\r\n  const [proSpring01,setProSpring01] = useSpring(()=>({\r\n    config:{\r\n      duration: 2500,\r\n      easing:easeCubic,\r\n    },\r\n    // loop:true,\r\n    to: async (next, cancel) => {\r\n      await next({\r\n        x: (size.width/widthSpec)*2.6,\r\n      y: ((size.height/heightSpec)*1.3),\r\n        shadowBlur:20,\r\n        scaleX:0.4,\r\n        scaleY:0.4,\r\n        opacity:1,\r\n      })\r\n      // cancel()\r\n    },\r\n\r\n    from: {\r\n      x: (size.width/widthSpec)*2.6,\r\n      y: ((size.height/heightSpec)*2),\r\n        shadowBlur: 0,\r\n        scaleX:0.4,\r\n        scaleY:0.4,\r\n        opacity:0,\r\n        shadowOpacity: 0.5,\r\n        // rotation:30,\r\n    },\r\n  }))\r\n  const [loop, setLoop] = useSpring(() => ({\r\n    config:{\r\n      duration: 1300,\r\n      easing:easeCubic,\r\n      // delay:2500,\r\n    },\r\n    from: { \r\n      x: (size.width/widthSpec)*2.6,\r\n      y: ((size.height/heightSpec)*1.3),\r\n      scaleX:0.4,\r\n        scaleY:0.4,\r\n        shadowBlur:20,\r\n        shadowOpacity: 0.5,\r\n         opacity: 1 },\r\n  }))\r\n    useEffect(() => {\r\n      const timer = setTimeout(() => {\r\n        setLoop({\r\n          x: (size.width/widthSpec)*2.6,\r\n      y: ((size.height/heightSpec)*1.3)+9,\r\n          opacity: 1,\r\n          scaleX:0.4,\r\n        scaleY:0.4,\r\n        shadowBlur:20,\r\n          loop: { reverse: true },\r\n        })\r\n        setNowEffect(loop)\r\n\r\n      }, 2500);\r\n      return () => clearTimeout(timer);\r\n    }, [])\r\n\r\n  const[ nowEffect, setNowEffect]=useState(proSpring01)\r\n\r\n  // ** product Animation ** //\r\n  // ** product Animation ** //\r\n\r\n  \r\n  //!! arrow Animation ** //\r\n  //!! arrow Animation ** //\r\n  const [arrowA,setArrowA] = useSpring(()=>({\r\n    delay:1200,\r\n    config:{\r\n      duration: 1500,\r\n      easing:easeCubic,\r\n    },\r\n    // loop:true,\r\n    to: async (next, cancel) => {\r\n      await next({\r\n        x: (size.width/widthSpec)*3,\r\n      y: ((size.height/heightSpec)*3.5)+3,\r\n        shadowBlur:20,\r\n        scaleX:0.015,\r\n        scaleY:0.015,\r\n        opacity:1,\r\n        rotation:-300,\r\n      })\r\n      // cancel()\r\n    },\r\n\r\n    from: {\r\n      x: (size.width/widthSpec)*4.3,\r\n      y: ((size.height/heightSpec)*2.8),\r\n        shadowBlur: 0,\r\n        scaleX:0.015,\r\n        scaleY:0.015,\r\n        opacity:0,\r\n        shadowOpacity: 0.5,\r\n        rotation:100,\r\n        \r\n        // rotation:30,\r\n    },\r\n  }))\r\n  const [arrowLoop, setArrowLoop] = useSpring(() => ({\r\n    config:{\r\n      duration: 800,\r\n      easing:easeCubic,\r\n      // delay:2500,\r\n    },\r\n    from: { \r\n      x: (size.width/widthSpec)*3,\r\n      y: ((size.height/heightSpec)*3.5)+3,\r\n      scaleX:0.015,\r\n      scaleY:0.015,\r\n      shadowBlur:20,\r\n      shadowOpacity: 0.5,\r\n      rotation:-300, \r\n      opacity: 1,\r\n        },\r\n  }))\r\n    useEffect(() => {\r\n      const timer = setTimeout(() => {\r\n        setArrowLoop({\r\n          x: (size.width/widthSpec)*3+19,\r\n          y: ((size.height/heightSpec)*3.5),\r\n          scaleX:0.015,\r\n          scaleY:0.015,\r\n          shadowBlur:20,\r\n          rotation:-300,\r\n          loop: { reverse: true },\r\n          opacity: 1,\r\n        })\r\n        setArrowNowEffect(arrowLoop)\r\n\r\n      }, 2500);\r\n      return () => clearTimeout(timer);\r\n    }, [])\r\n\r\n  const[ arrowNowEffect, setArrowNowEffect]=useState(arrowA)\r\n\r\n  // ** product Animation ** //\r\n  // ** product Animation ** //\r\n  \r\n\r\n\r\n\r\n\r\n\r\n  //!! Triangle1 **//\r\n  //!! Triangle1 **//\r\n  const [TriangleA1,setTriangleA1]  = useSpring(()=>({\r\n    delay:1000,\r\n    config:{duration: 800,easing:easeCubic,},\r\n    to: async (next, cancel) => {\r\n      await next({\r\n        x: (size.width/widthSpec)*2.7, \r\n        y: (size.height/heightSpec)*1.6,\r\n        // shadowBlur:5,\r\n        rotation:630,\r\n        scaleX:0.5,\r\n        scaleY:0.5,\r\n        opacity:0.7,\r\n        width: 50,\r\n        height:  50\r\n      })\r\n    },\r\n    from: {\r\n      x: (size.width/widthSpec)*4, \r\n        y: (size.height/heightSpec)*3,\r\n        shadowBlur: 0,\r\n        rotation:0,\r\n        scaleX:0,\r\n        scaleY:0,\r\n        opacity:0, \r\n    },\r\n  }))\r\n\r\n  const [TLoop1, setTLoop1] = useSpring(() => ({\r\n    \r\n    config:{\r\n      duration: 100000,\r\n      // easing:easeCubic,\r\n      // delay:2500,\r\n    },\r\n    from: { \r\n      x: (size.width/widthSpec)*2.7, \r\n        y: (size.height/heightSpec)*1.6,\r\n      rotation:630,\r\n      scaleX:0.5,\r\n        scaleY:0.5,\r\n         opacity: 0.7 },\r\n  }))\r\n\r\n    useEffect(() => {\r\n      const timer = setTimeout(() => {\r\n        setTLoop1({\r\n          x: (size.width/widthSpec)*2.7, \r\n        y: (size.height/heightSpec)*1.6,\r\n          scaleX:0.5,\r\n        scaleY:0.5,\r\n          rotation:930,\r\n        })\r\n        setTNowEffect1(TLoop1)\r\n\r\n      }, 1800);\r\n      return () => clearTimeout(timer);\r\n    }, [])\r\n  const [TNowEffect1,setTNowEffect1]= useState(TriangleA1)\r\n  //** Triangle1 **//\r\n  //** Triangle1 **//\r\n\r\n\r\n  //! Triangle2 **//\r\n  //! Triangle2 **//\r\n  const [TriangleA2,setTriangleA2]  = useSpring(()=>({\r\n    delay:1000,\r\n    config:{duration: 800,easing:easeCubic,},\r\n    to: async (next, cancel) => {\r\n      await next({\r\n        x: (size.width/widthSpec)*6, \r\n        y: (size.height/heightSpec)*3.6,\r\n        // shadowBlur:5,\r\n        rotation:180,\r\n        opacity:0.8,\r\n        fill: 'hotpink',\r\n      })\r\n    },\r\n    from: {\r\n      x: (size.width/widthSpec)*4, \r\n        y: (size.height/heightSpec)*1.5,\r\n        shadowBlur: 0,\r\n        rotation:0,\r\n        opacity:0, \r\n        fill: 'rgb(10,50,19)',\r\n    },\r\n    \r\n  }))\r\n\r\n  const [TLoop2, setTLoop2] = useSpring(() => ({\r\n    config:{\r\n      duration: 100000,\r\n      // easing:easeCubic,\r\n      // delay:2500,\r\n    },\r\n    from: { \r\n      x: (size.width/widthSpec)*6, \r\n        y: (size.height/heightSpec)*3.6,\r\n      rotation:180,\r\n         opacity: 0.8 },\r\n  }))\r\n\r\n    useEffect(() => {\r\n      const timer = setTimeout(() => {\r\n        setTLoop2({\r\n          x: (size.width/widthSpec)*6, \r\n        y: (size.height/heightSpec)*3.6,\r\n          rotation:430,\r\n        })\r\n        setTNowEffect2(TLoop2)\r\n\r\n      }, 1800);\r\n      return () => clearTimeout(timer);\r\n    }, [])\r\n  const [TNowEffect2,setTNowEffect2]= useState(TriangleA2)\r\n  //** Triangle2 **//\r\n  //** Triangle2 **//\r\n\r\n  //! Triangle3 **//\r\n  //! Triangle3 **//\r\n  const [TriangleA3,setTriangleA3]  = useSpring(()=>({\r\n    delay:1000,\r\n    config:{duration: 800,easing:easeCubic,},\r\n    to: async (next, cancel) => {\r\n      await next({\r\n        x: (size.width/widthSpec)*7, \r\n        y: (size.height/heightSpec)*1.3,\r\n        // shadowBlur:5,\r\n        rotation:150,\r\n        opacity:0.1,\r\n        fill: 'hotpink',\r\n      })\r\n    },\r\n    from: {\r\n      x: (size.width/widthSpec)*3, \r\n        y: (size.height/heightSpec)*4,\r\n        shadowBlur: 0,\r\n        rotation:-100,\r\n        opacity:0, \r\n        fill: 'rgb(10,50,19)',\r\n    },\r\n    \r\n  }))\r\n\r\n  const [TLoop3, setTLoop3] = useSpring(() => ({\r\n    config:{\r\n      duration: 100000,\r\n      // easing:easeCubic,\r\n      // delay:2500,\r\n    },\r\n    from: { \r\n      x: (size.width/widthSpec)*7, \r\n        y: (size.height/heightSpec)*1.3,\r\n      rotation:150,\r\n         opacity: 0.1 },\r\n  }))\r\n\r\n    useEffect(() => {\r\n      const timer = setTimeout(() => {\r\n        setTLoop3({\r\n          x: (size.width/widthSpec)*7, \r\n        y: (size.height/heightSpec)*1.3,\r\n          rotation:470,\r\n        })\r\n        setTNowEffect3(TLoop3)\r\n\r\n      }, 1800);\r\n      return () => clearTimeout(timer);\r\n    }, [])\r\n  const [TNowEffect3,setTNowEffect3]= useState(TriangleA3)\r\n  //** Triangle3 **//\r\n  //** Triangle3 **//\r\n\r\n  //!! Triangle4 **//\r\n  //!! Triangle4 **//\r\n  const [TriangleA4,setTriangleA4]  = useSpring(()=>({\r\n    delay:5000,\r\n    config:{duration: 800,easing:easeCubic,},\r\n    to: async (next, cancel) => {\r\n      await next({\r\n        x: (size.width/widthSpec)*2.7, \r\n        y: (size.height/heightSpec)*1.6,\r\n        // shadowBlur:5,\r\n        rotation:630,\r\n        scaleX:0.5,\r\n        scaleY:0.5,\r\n        opacity:0.7,\r\n        width: 50,\r\n        height:  50\r\n      })\r\n    },\r\n    from: {\r\n      x: (size.width/widthSpec)*3, \r\n        y: (size.height/heightSpec)*1,\r\n        shadowBlur: 0,\r\n        rotation:0,\r\n        scaleX:0,\r\n        scaleY:0,\r\n        opacity:0, \r\n    },\r\n  }))\r\n\r\n  const [TLoop4, setTLoop4] = useSpring(() => ({\r\n    config:{\r\n      duration: 100000,\r\n      // easing:easeCubic,\r\n      // delay:2500,\r\n    },\r\n    from: { \r\n        x: (size.width/widthSpec)*1, \r\n        y: (size.height/heightSpec)*3.5,\r\n        rotation:430,\r\n        scaleX:0.5,\r\n        scaleY:0.5,\r\n        opacity: 0.03 },\r\n  }))\r\n\r\n    useEffect(() => {\r\n      const timer = setTimeout(() => {\r\n        setTLoop4({\r\n          x: (size.width/widthSpec)*1, \r\n          y: (size.height/heightSpec)*3/5,\r\n          scaleX:0.5,\r\n          scaleY:0.5,\r\n          rotation:930,\r\n          opacity: 0.03\r\n        })\r\n        setTNowEffect4(TLoop4)\r\n\r\n      }, 5800);\r\n      return () => clearTimeout(timer);\r\n    }, [])\r\n  const [TNowEffect4,setTNowEffect4]= useState(TriangleA4)\r\n  //** Triangle4 **//\r\n  //** Triangle4 **//\r\n  \r\n\r\n  \r\n\r\n\r\n\r\n\r\n    return(\r\n      // <Stage width={window.innerWidth} height={window.innerHeight} className={\"Konva_canvas\"}>\r\n      <Stage width={size.width}\r\n      height={size.height}\r\n      scaleX={scale}\r\n      scaleY={scale} className={\"Konva_canvas\"}>\r\n        <Layer>\r\n          {/* Background*/}\r\n          {/* Cross line*/}\r\n          {/* <animated.Line points={[0, 0, {widthAR}, {heightAR}]} stroke={\"grey\"} strokeWidth={3} closed={true} draggable/> */}\r\n          <animated.Line {...LineAnimation} points={[0, 0, 1000, 560]} stroke={\"lightgrey\"} strokeWidth={1} closed={true} />\r\n          <animated.Line {...LineAnimation} points={[0, 860, 800, 0]} stroke={\"lightgrey\"} strokeWidth={1} closed={true} />\r\n          {/* Title*/}\r\n          <animated.Text text=\"限量版\" fill={`white`} fontStyle={`bold`} fontSize={150} fontWeight={900} className={\"Konva_title\"}{...title}/>\r\n          <animated.Text text=\"Bidcast Auction\" offsetX={-175} offsetY={30}  fill={`#1E2832`} fontStyle={`bold`} fontSize={14}  className={\"Konva_title\"}{...title}/>\r\n          {/* BG_Triangle1*/}\r\n          <animated.Line {...BGTriNowEffect} offsetX={48} offsetY={101} points={[23, 50, 23, 160, 100, 93]} fill={\"purple\"} stroke={\"black\"} strokeWidth={0} closed={true} />\r\n          <animated.Line {...BGTriangleNowEffect}  offsetX={117} offsetY={131} points={[23, 50, 80, 250, 250, 93]} opacity={1} fill={\"white\"} stroke={\"black\"} strokeWidth={0} closed={true} />\r\n          <animated.Line {...BGTriangleNowEffect}  offsetX={117} offsetY={131} points={[23, 50, 80, 250, 250, 93]}  fill={\"darkBlue\"} stroke={\"black\"} strokeWidth={0} closed={true} />\r\n\r\n          {/* arrow*/}\r\n          <animated.Image  image={arrows} {...arrowNowEffect} />\r\n\r\n\r\n          {/* Product*/}\r\n          <animated.Image  image={pro01} {...nowEffect} />\r\n          {/* Triangle1 */}\r\n          <animated.Line {...TNowEffect1} points={[23, 50, 23, 160, 100, 93]} offsetX={48} offsetY={101} opacity={1} fill={\"white\"} stroke={\"black\"} strokeWidth={0} closed={true} />\r\n          <animated.Line {...TNowEffect1} points={[23, 50, 23, 160, 100, 93]} offsetX={48} offsetY={101} fill={\"hotpink\"} stroke={\"black\"} strokeWidth={0} closed={true} />\r\n          {/* Triangle2 */}\r\n          <animated.Line {...TNowEffect2} points={[23, 50, 23, 130, 80, 93]} offsetX={48} offsetY={101} opacity={1} fill={\"white\"} stroke={\"black\"} strokeWidth={0} closed={true} />\r\n          <animated.Line {...TNowEffect2} points={[23, 50, 23, 130, 80, 93]} offsetX={48} offsetY={101} fill={\"#00D2FF\"} stroke={\"black\"} strokeWidth={0} closed={true} />\r\n          {/* Triangle3 */}\r\n          <animated.Line  {...TNowEffect3} points={[23, 50, 23, 130, 80, 93]} offsetX={48} offsetY={101} opacity={1} fill={\"white\"} stroke={\"black\"} strokeWidth={0} closed={true} />\r\n          <animated.Line  {...TNowEffect3} points={[23, 50, 23, 130, 80, 93]} offsetX={48} offsetY={101} fill={\"purple\"} stroke={\"black\"} strokeWidth={0} closed={true} />\r\n          {/* Triangle4 */}\r\n          {/* <animated.Line  {...TNowEffect4} points={[23, 50, 23, 160, 100, 93]} offsetX={48} offsetY={101} fill={\"blue\"} stroke={\"skyblue\"} strokeWidth={0} closed={true} /> */}\r\n\r\n        </Layer>\r\n      </Stage>\r\n    )\r\n  \r\n}","import \"./Homepage.scss\";\r\nimport { Broadcasting } from \"./Broadcasting\";\r\nimport { ComingAuction } from \"./Incoming-auction\";\r\nimport { Recommendation } from \"./Recommendation\";\r\nimport { SellWithBidcast } from \"./SellWithBidcast\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { HomepageCanvas } from \"./components/HomePageKonva\";\r\n\r\ninterface HomepageProps {\r\n    setIsLoading: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nexport function Homepage(props: HomepageProps) {\r\n    const [loadState, setLoadState] = useState<number>(0);\r\n    useEffect(() => {\r\n        if (loadState === 0) {\r\n            props.setIsLoading(true);\r\n        }\r\n    }, [props, loadState]);\r\n    return (\r\n        <div>\r\n            <section className={\"Konva_container\"}>\r\n                <HomepageCanvas />\r\n            </section>\r\n            <section>\r\n                <Broadcasting />\r\n            </section>\r\n            <section>\r\n                <ComingAuction\r\n                    setIsLoading={props.setIsLoading}\r\n                    loadState={loadState}\r\n                    setLoadState={setLoadState}\r\n                />\r\n            </section>\r\n            <section>\r\n                <Recommendation />\r\n            </section>\r\n            <section>\r\n                <SellWithBidcast />\r\n            </section>\r\n        </div>\r\n    );\r\n}\r\n","import {\r\n    ProSidebar,\r\n    Menu,\r\n    MenuItem,\r\n    SubMenu,\r\n    SidebarHeader,\r\n    SidebarContent,\r\n    SidebarFooter,\r\n} from \"react-pro-sidebar\";\r\nimport \"react-pro-sidebar/dist/css/styles.css\";\r\nimport \"./Profilepage.scss\";\r\nimport {\r\n    FiLogOut,\r\n    FiArrowLeftCircle,\r\n    FiArrowRightCircle,\r\n} from \"react-icons/fi\";\r\nimport { FaList, FaRegHeart } from \"react-icons/fa\";\r\nimport { AiOutlineShoppingCart } from \"react-icons/ai\";\r\nimport { MdAccountBox } from \"react-icons/md\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../store\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { sidebarClick } from \"../../redux/utility/actions\";\r\nimport { logoutThunk } from \"../../redux/user/actions\";\r\nimport { push } from \"connected-react-router\";\r\n\r\nexport function Sidebar() {\r\n    const sidebarCollapse = useSelector(\r\n        (state: RootState) => state.utility.sidebarCollapse\r\n    );\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const sidebarOnClickHandler = () => {\r\n        dispatch(sidebarClick(sidebarCollapse ? false : true));\r\n    };\r\n\r\n    // const user = useSelector((state: RootState) => state.authState.user);\r\n    // const userInfo = JSON.parse(JSON.stringify(user));\r\n    // const ref = useRef(null)\r\n    return (\r\n        <div className=\"sidebar\">\r\n            <ProSidebar collapsed={sidebarCollapse} width=\"220px\">\r\n                <SidebarHeader>\r\n                    {/* <h3 className=\"sidebar_username pt-3\">{userInfo.username}</h3> */}\r\n                    <div\r\n                        className=\"close_menu pb-3\"\r\n                        onClick={sidebarOnClickHandler}\r\n                    >\r\n                        {sidebarCollapse ? (\r\n                            <FiArrowRightCircle />\r\n                        ) : (\r\n                            <FiArrowLeftCircle />\r\n                        )}\r\n                    </div>\r\n                </SidebarHeader>\r\n                <SidebarContent>\r\n                    <Menu iconShape=\"square\">\r\n                        <SubMenu title=\"拍賣資訊\" icon={<FaList />}>\r\n                            <MenuItem>\r\n                                我的直播拍賣\r\n                                <Link to=\"/profilePage/my-live\" />\r\n                            </MenuItem>\r\n                            <MenuItem>\r\n                                我的拍賣商品\r\n                                <Link to=\"/profilePage/my-live-products\" />\r\n                            </MenuItem>\r\n                        </SubMenu>\r\n                        <MenuItem icon={<AiOutlineShoppingCart />}>\r\n                            已投得商品\r\n                            <Link to=\"/profilePage/my-bid-history\" />\r\n                        </MenuItem>\r\n                        <SubMenu title=\"訂閱\" icon={<FaRegHeart />}>\r\n                            <MenuItem>\r\n                                <Link to=\"/profilePage/following\">\r\n                                    訂閱的人\r\n                                </Link>\r\n                            </MenuItem>\r\n                            <MenuItem>\r\n                                <Link to=\"/profilePage/follower\">我的粉絲</Link>\r\n                            </MenuItem>\r\n                        </SubMenu>\r\n                        <MenuItem icon={<MdAccountBox />}>\r\n                            帳戶資料\r\n                            <Link to=\"/profilePage/accountDetails\" />\r\n                        </MenuItem>\r\n                    </Menu>\r\n                </SidebarContent>\r\n                <SidebarFooter>\r\n                    <Menu iconShape=\"square\">\r\n                        <MenuItem icon={<FiLogOut />}>\r\n                            <Link\r\n                                to=\"#\"\r\n                                onClick={(e) => {\r\n                                    e.preventDefault();\r\n                                    dispatch(logoutThunk());\r\n                                    dispatch(push(\"/\"));\r\n                                }}\r\n                                className=\"nav_link\"\r\n                            >\r\n                                登出\r\n                            </Link>\r\n                        </MenuItem>\r\n                    </Menu>\r\n                </SidebarFooter>\r\n            </ProSidebar>\r\n        </div>\r\n    );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/bidcastQR.fadd6ee8.svg\";","\r\nimport { CToast, CToastBody, CToastClose, } from '@coreui/react';\r\n\r\nfunction ToastDemo() {\r\n    \r\n   \r\n  return (\r\n      \r\n    <CToast autohide={true} visible={true} animation={true} className=\"align-items-center\">\r\n  <div className=\"d-flex text-danger w-100\">\r\n    <CToastBody>請在個人頁面更改電話號碼</CToastBody>\r\n    <CToastClose className=\"me-2 m-auto\" />\r\n  </div>\r\n</CToast>\r\n  )\r\n}\r\nexport default ToastDemo;","import { Alert, Card, Col, Image, Row } from \"react-bootstrap\";\r\nimport { SubmitHandler, useForm } from \"react-hook-form\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../store\";\r\nimport \"./AccountDetails.scss\";\r\nimport { useEffect, useState } from \"react\";\r\nimport bidcastQRcode from \"./assets/bidcastQR.svg\";\r\n// import { Alert } from \"reactstrap\";\r\nimport { refreshCurrentUser } from \"../../redux/user/actions\";\r\nimport { CToaster } from \"@coreui/react\";\r\nimport ToastDemo from \"../login/alert\";\r\nimport React from \"react\";\r\nimport { DatePickerIcon, FaClipboard } from \"./component/Fontawsome\";\r\nimport { LoadingDefaultStyle } from \"../loading/loading\";\r\nimport path from \"path\";\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\r\n\r\ntype editInput = {\r\n    username?: string;\r\n    profilePic?: string;\r\n    phoneNumber?: number;\r\n    telegramAccount?: string;\r\n    // telegramChatId?:string,\r\n    aboutMe?: string;\r\n};\r\n\r\nexport function AccountDetails() {\r\n    const dispatch = useDispatch();\r\n    //get user config\r\n    const token = localStorage.getItem(\"token\");\r\n    const user = useSelector((state: RootState) => state.authState.user);\r\n    const userInfo = JSON.parse(JSON.stringify(user));\r\n\r\n    let userImg = userInfo.profile_pic;\r\n    const isAuthenticate = useSelector(\r\n        (state: RootState) => state.user.isAuthenticate\r\n    );\r\n    const [isToastExist, setIsToastExsist] = useState(false);\r\n    const [isAlertChecked, setIsAlertChecked] = useState(false);\r\n    const [toast, addToast] = useState<JSX.Element>(<></>);\r\n    const toaster = React.useRef(null);\r\n    const [alert, setAlert] = useState([]);\r\n\r\n    //     const handleShow = (event:React.MouseEvent) => {\r\n    //     event.stopPropagation();\r\n\r\n    // const handleShow = (event: React.MouseEvent) => {\r\n    //     event.stopPropagation();\r\n    // };\r\n    function AlertListAppend() {\r\n        return (\r\n            <div>\r\n                <Alert className={\"Alert_container\"} color=\"info\">\r\n                    Telegram 帳戶已完成認証，請重新載入頁面\r\n                </Alert>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (typeof userInfo === \"object\") {\r\n            if (\r\n                !isAlertChecked &&\r\n                isAuthenticate &&\r\n                userInfo &&\r\n                typeof userInfo !== \"string\" &&\r\n                userInfo !== undefined &&\r\n                userInfo!.phone_number === \"11111111\"\r\n            ) {\r\n                if (!isToastExist) {\r\n                    setIsAlertChecked(true);\r\n                    addToast(<ToastDemo />);\r\n                    setIsToastExsist(true);\r\n                }\r\n            }\r\n        }\r\n    }, [isAlertChecked, isAuthenticate, userInfo, isToastExist]);\r\n\r\n    const { register, handleSubmit, reset } = useForm<editInput>();\r\n\r\n    // profile photo shown setup\r\n    const [selectedImage, setSelectedImage] = useState<any>();\r\n    const imageChange = (e: any) => {\r\n        if (e.target.files && e.target.files.length > 0) {\r\n            if (\r\n                path.extname(e.target.files[0].name) === \".jpg\" ||\r\n                path.extname(e.target.files[0].name) === \".jpeg\" ||\r\n                path.extname(e.target.files[0].name) === \".png\"\r\n            ) {\r\n                setSelectedImage(e.target.files[0]);\r\n            }\r\n        }\r\n    };\r\n\r\n    //! submit field\r\n    const onSubmit: SubmitHandler<editInput> = async (data) => {\r\n        let n = null;\r\n\r\n        let editProFormData = new FormData();\r\n\r\n        data.username\r\n            ? editProFormData.append(\"username\", data.username)\r\n            : (n = n);\r\n        selectedImage\r\n            ? editProFormData.append(\"profilePic\", selectedImage)\r\n            : (n = n);\r\n        data.phoneNumber\r\n            ? editProFormData.append(\"phoneNumber\", data.phoneNumber.toString())\r\n            : (n = n);\r\n        data.telegramAccount\r\n            ? editProFormData.append(\r\n                  \"telegramAccount\",\r\n                  `@${data.telegramAccount}`\r\n              )\r\n            : (n = n);\r\n        // data.telegramChatId? editProFormData.append('telegramChatId',data.telegramChatId):n=n;\r\n        data.aboutMe\r\n            ? editProFormData.append(\"aboutMe\", data.aboutMe)\r\n            : (n = n);\r\n        editProFormData.append(\"userId\", userInfo.id);\r\n\r\n        const editRes = await fetch(\r\n            `${process.env.REACT_APP_BACKEND_URL}/AccountDetails/editProfile`,\r\n            {\r\n                method: \"PUT\",\r\n                body: editProFormData,\r\n            }\r\n        );\r\n        const editJson = await editRes.json();\r\n\r\n        if (token == null) {\r\n            return;\r\n        }\r\n\r\n        await dispatch(refreshCurrentUser(userInfo.id));\r\n        reset();\r\n        setSelectedImage(\"\");\r\n        // window.location.reload();\r\n\r\n        // dispatch(push(\"/profilePage/accountDetails\"))\r\n    };\r\n\r\n    function CheckLoginShowPhoto() {\r\n        return (\r\n            //if else check login method\r\n            <Image\r\n                src={`${process.env.REACT_APP_BACKEND_URL}/${userInfo.profile_pic}`}\r\n                width=\"80\"\r\n                height=\"80\"\r\n                roundedCircle\r\n                className=\"profile_logo\"\r\n            />\r\n        );\r\n    }\r\n\r\n    const [copyState, setCopyState] = useState(false);\r\n    const onCopy = () => {\r\n        setCopyState(true);\r\n    };\r\n\r\n    //loading Config Template\r\n    const [loadStatus, setLoadStatus] = useState(\"loadingShown\");\r\n    useEffect(() => {\r\n        // if(userImg.search(\r\n        //     /(https:\\/\\/)|(http:\\/\\/)/i\r\n        // ) < 0\r\n        // ){\r\n        //     async function fetchPhoto(){\r\n        //         await fetch(userImg);\r\n        //     }\r\n\r\n        // }\r\n        setTimeout(() => {\r\n            setLoadStatus(\"loadingHide\");\r\n        }, 500);\r\n    }, [userInfo]);\r\n\r\n    return loadStatus === \"loadingShown\" ? (\r\n        <div className={loadStatus}>\r\n            <LoadingDefaultStyle />\r\n        </div>\r\n    ) : (\r\n        <div>\r\n            {toast ? (\r\n                <CToaster\r\n                    ref={toaster}\r\n                    push={toast}\r\n                    placement=\"bottom-end\"\r\n                    id=\"toast\"\r\n                />\r\n            ) : (\r\n                <div> </div>\r\n            )}\r\n            <Row className={\"details_container\"}>\r\n                <Col className={\"Detail_col_Right \"} xs={12} md={4}>\r\n                    <Card className=\"card_body\">\r\n                        <div className=\"card_bg_color\">\r\n                            {userImg !== undefined && (\r\n                                <div className=\"card_absolute_layer d-flex justify-content-center\">\r\n                                    <Image\r\n                                        src={`${\r\n                                            userImg.search(\r\n                                                /(https:\\/\\/)|(http:\\/\\/)/i\r\n                                            ) < 0\r\n                                                ? process.env\r\n                                                      .REACT_APP_BACKEND_URL +\r\n                                                  \"/\" +\r\n                                                  userImg\r\n                                                : userImg\r\n                                        }`}\r\n                                        width=\"80\"\r\n                                        height=\"80\"\r\n                                        roundedCircle\r\n                                        className=\"profile_logo\"\r\n                                        alt=\"propic\"\r\n                                    />\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                        <Card.Body>\r\n                            <Card.Title>{userInfo.username}</Card.Title>\r\n                            {/* <Card.Text >{item.phone_number}</Card.Text> */}\r\n                            {/* <Card.Text>{item.email}</Card.Text> */}\r\n                            <Card.Text className={\"name_card_vice\"}>\r\n                                {userInfo.telegram_is_verified\r\n                                    ? `${userInfo.telegram_acct}`\r\n                                    : \"此用戶並未登記 Telegram 帳號\"}\r\n                            </Card.Text>\r\n                            <Card.Text>\r\n                                {/* <div className={\"card_Description\"}> */}\r\n                                {userInfo.description\r\n                                    ? `「 ${userInfo.description} 」`\r\n                                    : \"「 自我介紹... 」\"}\r\n                                {/* </div> */}\r\n                            </Card.Text>\r\n                        </Card.Body>\r\n                    </Card>\r\n                </Col>\r\n                <Col\r\n                    className={\"Detail_col_Left order-md-first\"}\r\n                    xs={12}\r\n                    md={8}\r\n                >\r\n                    {/* Edit Profile Form */}\r\n                    <div className={\"edit_pro_container editProForm_shown\"}>\r\n                        <div className={\"edit_header\"}>更改帳戶資料</div>\r\n                        <form onSubmit={handleSubmit(onSubmit)}>\r\n                            <div className={\"input_box\"}>\r\n                                <label>帳戶名稱:</label>{\" \"}\r\n                                <input\r\n                                    className={\"input_editProfile\"}\r\n                                    {...register(\"username\")}\r\n                                    placeholder={userInfo.username}\r\n                                />\r\n                            </div>\r\n                            <div className={\"input_box\"}>\r\n                                <label>電郵地址:</label>{\" \"}\r\n                                <input\r\n                                    className={\"input_editProfile_ro\"}\r\n                                    placeholder={userInfo.email}\r\n                                    readOnly\r\n                                />\r\n                            </div>\r\n                            <div className={\"input_box\"}>\r\n                                <label>電話號碼:</label>{\" \"}\r\n                                <input\r\n                                    type=\"number\"\r\n                                    className={\"input_editProfile\"}\r\n                                    {...register(\"phoneNumber\")}\r\n                                    placeholder={\r\n                                        userInfo.phone_number === \"11111111\"\r\n                                            ? \"沒有\"\r\n                                            : userInfo.phone_number\r\n                                            ? userInfo.phone_number\r\n                                            : \"沒有\"\r\n                                    }\r\n                                />\r\n                            </div>\r\n                            <div className={\"input_box_chatId\"}>\r\n                                <label>Telegram 帳戶:</label> <div>@ </div>\r\n                                <input\r\n                                    className={\"input_editProfile\"}\r\n                                    {...register(\"telegramAccount\")}\r\n                                    placeholder={\r\n                                        userInfo.telegram_acct\r\n                                            ? `${userInfo.telegram_acct.substring(\r\n                                                  1\r\n                                              )}`\r\n                                            : \"沒有\"\r\n                                    }\r\n                                />\r\n                                <div\r\n                                    className={\r\n                                        userInfo.telegram_acct\r\n                                            ? userInfo.telegram_is_verified\r\n                                                ? \"chatId_verified\"\r\n                                                : \"chatId_unverified\"\r\n                                            : \"chatId_empty\"\r\n                                    }\r\n                                ></div>\r\n                            </div>\r\n                            {\r\n                                <div className={\"bidcast_bot_Info_container\"}>\r\n                                    <a href=\"https://t.me/Bidcast_bot\">\r\n                                        <img\r\n                                            className={\"bidcast_bot_QR\"}\r\n                                            src={bidcastQRcode}\r\n                                            alt=\"bidcastQRcode\"\r\n                                        ></img>\r\n                                    </a>\r\n                                    <div className={\"bot_info\"}>\r\n                                        <div>\r\n                                            Telegram帳戶認証機器人：「 Bidcast\r\n                                            bot 」\r\n                                        </div>\r\n                                        <ul>\r\n                                            <li>用手機掃描QR Code</li>\r\n                                            <li>\r\n                                                點擊Send Message並打開 Telegram\r\n                                                應用程式\r\n                                            </li>\r\n                                            <li>\r\n                                                在Bidcast bot\r\n                                                聊天室左下角打開menu{\" \"}\r\n                                            </li>\r\n                                            <li>\r\n                                                點擊/verify 並輸入\r\n                                                <CopyToClipboard\r\n                                                    onCopy={onCopy}\r\n                                                    text={\r\n                                                        \"TOKEN_\" +\r\n                                                        (userInfo.id * 100000)\r\n                                                            .toString(16)\r\n                                                            .toUpperCase()\r\n                                                    }\r\n                                                >\r\n                                                    <span\r\n                                                        className={\r\n                                                            \"Acc_Detail_TOKEN\"\r\n                                                        }\r\n                                                    >\r\n                                                        &nbsp;\r\n                                                        {\"TOKEN_\" +\r\n                                                            (\r\n                                                                userInfo.id *\r\n                                                                100000\r\n                                                            )\r\n                                                                .toString(16)\r\n                                                                .toUpperCase()}\r\n                                                        &nbsp;\r\n                                                        <FaClipboard />\r\n                                                    </span>\r\n                                                </CopyToClipboard>\r\n                                                ，即可進行認証\r\n                                            </li>\r\n                                        </ul>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                            {/* <div className={'input_box'}><label>telegram chat id:</label> <input className={\"input_editProfile\"} {...register('telegramChatId')}  /></div> */}\r\n                            <div className={\"input_textarea\"}>\r\n                                <label>關於我 :</label>{\" \"}\r\n                                <textarea\r\n                                    className={\"input_editProfile\"}\r\n                                    maxLength={150}\r\n                                    {...register(\"aboutMe\")}\r\n                                    placeholder={\r\n                                        userInfo.description\r\n                                            ? userInfo.description\r\n                                            : \"自我介紹...\"\r\n                                    }\r\n                                />\r\n                            </div>\r\n                            <div className={\"import_box\"}>\r\n                                <label>更換頭像:</label>{\" \"}\r\n                                <div className={\"profileImport\"}>\r\n                                    <input\r\n                                        type=\"file\"\r\n                                        accept=\"image/*\"\r\n                                        {...register(\"profilePic\")}\r\n                                        onChange={imageChange}\r\n                                    />\r\n                                </div>\r\n                                <div className={\"upload_reminder\"}>\r\n                                    (只接收不高於1MB的JPG/PNG/JPEG 照片)\r\n                                </div>\r\n                            </div>\r\n                            {selectedImage && (\r\n                                <div className={\"proImg_container\"}>\r\n                                    <img\r\n                                        className={\r\n                                            \"resize_upload_proPic proImg_shown\"\r\n                                        }\r\n                                        src={URL.createObjectURL(\r\n                                            selectedImage as any\r\n                                        )}\r\n                                        alt=\"\"\r\n                                    />\r\n                                    <div className={\"file_Info_container\"}>\r\n                                        {/* <div>{selectedImage.name as any}</div> */}\r\n                                        <div>{selectedImage.type as any}</div>\r\n                                        <div>{`${\r\n                                            (\r\n                                                (selectedImage.size as any) /\r\n                                                1000000\r\n                                            )\r\n                                                .toString()\r\n                                                .match(/^\\d+(?:\\.\\d{0,2})?/) +\r\n                                            \" MB\"\r\n                                        }`}</div>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            <input\r\n                                className={\"button_default\"}\r\n                                type=\"submit\"\r\n                                // onClick={handleShow}\r\n                            />\r\n                        </form>\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n        </div>\r\n    );\r\n}\r\n\r\n//\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { Image, Card } from \"react-bootstrap\";\r\nimport { RootState } from \"../../store\";\r\nimport \"./FollowingFollower.scss\";\r\nimport Login from \"../../component/LiveStream/Login\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { fetchSubscribe, fetchUserCardInfo } from \"../../redux/user/actions\";\r\nimport SubscribeButton from \"../../component/common/subscribeButton\";\r\nimport \"./Animation.scss\";\r\n\r\ninterface ProfilePageProps {\r\n    setIsLoading: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nexport function Follower(props: ProfilePageProps) {\r\n    const dispatch = useDispatch();\r\n    const [loadState, setLoadState] = useState<number>(0);\r\n    const isAuthenticate = useSelector(\r\n        (state: RootState) => state.user.isAuthenticate\r\n    );\r\n    const followerList = useSelector(\r\n        (state: RootState) => state.follower.userId\r\n    );\r\n    const followerListLoaded = useSelector(\r\n        (state: RootState) => state.follower.success\r\n    );\r\n    const followerDetails = useSelector(\r\n        (state: RootState) => state.follower.userDetails\r\n    );\r\n    const userId = useSelector((state: RootState) => {\r\n        if (\r\n            typeof state.authState.user !== \"string\" &&\r\n            state.authState.user?.id\r\n        ) {\r\n            return state.authState.user?.id;\r\n        }\r\n        return 0;\r\n    });\r\n    useEffect(() => {\r\n        if (loadState === 0) {\r\n            props.setIsLoading(true);\r\n        }\r\n    }, [loadState, props]);\r\n    useEffect(() => {\r\n        dispatch(fetchSubscribe(true));\r\n    }, [dispatch]);\r\n    useEffect(() => {\r\n        if (followerList.length > 0) {\r\n            dispatch(\r\n                fetchUserCardInfo(\r\n                    followerList,\r\n                    \"follower\",\r\n                    props.setIsLoading,\r\n                    setLoadState\r\n                )\r\n            );\r\n        } else if (followerList.length === 0 && followerListLoaded) {\r\n            props.setIsLoading(false);\r\n            setLoadState((loadState) => loadState + 1);\r\n        }\r\n    }, [dispatch, followerList, props, followerListLoaded]);\r\n\r\n    return (\r\n        <div className=\"follower w-100 me-3 mb-3\">\r\n            {!isAuthenticate ? (\r\n                <Login message={\"請先登入\"} />\r\n            ) : (\r\n                <div className=\"row\">\r\n                    {followerDetails.length !== 0 &&\r\n                        followerDetails.map((item) => (\r\n                            <div\r\n                                className=\"col-lg-3 col-md-4 col-sm-6 col-12 mb-3\"\r\n                                key={item.username}\r\n                            >\r\n                                <Card className=\"card_body\">\r\n                                    <div className=\"card_bg_color\">\r\n                                        {item.propic !== undefined && (\r\n                                            <div className=\"card_absolute_layer d-flex justify-content-center\">\r\n                                                <Image\r\n                                                    src={`${\r\n                                                        item.propic.search(\r\n                                                            /(https:\\/\\/)|(http:\\/\\/)/i\r\n                                                        ) < 0\r\n                                                            ? process.env\r\n                                                                  .REACT_APP_BACKEND_URL +\r\n                                                              \"/\" +\r\n                                                              item.propic\r\n                                                            : item.propic\r\n                                                    }`}\r\n                                                    width=\"80\"\r\n                                                    height=\"80\"\r\n                                                    roundedCircle\r\n                                                    className=\"profile_logo\"\r\n                                                    alt=\"propic\"\r\n                                                />\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                    <Card.Body>\r\n                                        <Card.Title>{item.username}</Card.Title>\r\n                                        {/* <Card.Text >{item.phone_number}</Card.Text> */}\r\n                                        {/* <Card.Text>{item.email}</Card.Text> */}\r\n                                        <Card.Text className={\"name_card_vice\"}>\r\n                                            {item.telegramAcct\r\n                                                ? `${item.telegramAcct}`\r\n                                                : \"此用戶並未登記 Telegram 帳號\"}\r\n                                        </Card.Text>\r\n                                        <Card.Text>\r\n                                            {item.description\r\n                                                ? `「 ${item.description} 」`\r\n                                                : `「 大家好~我是${item.username} 」`}\r\n                                        </Card.Text>\r\n                                        <SubscribeButton\r\n                                            targetId={item.id}\r\n                                            userId={userId}\r\n                                        />\r\n                                    </Card.Body>\r\n                                </Card>\r\n                            </div>\r\n                        ))}\r\n                    {followerDetails.length === 0 && loadState !== 0 && (\r\n                        <div className=\"zero m-3\">你暫時沒有粉絲</div>\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { Image, Card } from \"react-bootstrap\";\r\nimport { RootState } from \"../../store\";\r\nimport \"./FollowingFollower.scss\";\r\nimport Login from \"../../component/LiveStream/Login\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { fetchSubscribe, fetchUserCardInfo } from \"../../redux/user/actions\";\r\nimport SubscribeButton from \"../../component/common/subscribeButton\";\r\nimport \"./Animation.scss\";\r\n\r\ninterface ProfilePageProps {\r\n    setIsLoading: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nexport function Following(props: ProfilePageProps) {\r\n    const dispatch = useDispatch();\r\n    const [loadState, setLoadState] = useState<number>(0);\r\n    const isAuthenticate = useSelector(\r\n        (state: RootState) => state.user.isAuthenticate\r\n    );\r\n    const followingList = useSelector(\r\n        (state: RootState) => state.following.userId\r\n    );\r\n    const followingListLoaded = useSelector(\r\n        (state: RootState) => state.follower.success\r\n    );\r\n    const followingDetails = useSelector(\r\n        (state: RootState) => state.following.userDetails\r\n    );\r\n    const userId = useSelector((state: RootState) => {\r\n        if (\r\n            typeof state.authState.user !== \"string\" &&\r\n            state.authState.user?.id\r\n        ) {\r\n            return state.authState.user?.id;\r\n        }\r\n        return 0;\r\n    });\r\n    useEffect(() => {\r\n        if (loadState === 0) {\r\n            props.setIsLoading(true);\r\n        }\r\n    }, [loadState, props]);\r\n    useEffect(() => {\r\n        dispatch(fetchSubscribe(true));\r\n    }, [dispatch]);\r\n    useEffect(() => {\r\n        if (followingList.length > 0) {\r\n            dispatch(\r\n                fetchUserCardInfo(\r\n                    followingList,\r\n                    \"following\",\r\n                    props.setIsLoading,\r\n                    setLoadState\r\n                )\r\n            );\r\n        } else if (followingList.length === 0 && followingListLoaded) {\r\n            props.setIsLoading(false);\r\n            setLoadState((loadState) => loadState + 1);\r\n        }\r\n    }, [dispatch, followingList, props, followingListLoaded]);\r\n\r\n    return (\r\n        <div className=\"following w-100 me-3 mb-3\">\r\n            {!isAuthenticate ? (\r\n                <Login message={\"請先登入\"} />\r\n            ) : (\r\n                <div className=\"row\">\r\n                    {followingDetails.length !== 0 &&\r\n                        followingDetails.map((item) => (\r\n                            <div\r\n                                className=\"col-lg-3 col-md-4 col-sm-6 col-12 mb-3\"\r\n                                key={item.username}\r\n                            >\r\n                                <Card className=\"card_body\">\r\n                                    <div className=\"card_bg_color\">\r\n                                        {item.propic !== undefined && (\r\n                                            <div className=\"card_absolute_layer d-flex justify-content-center\">\r\n                                                <Image\r\n                                                    src={`${\r\n                                                        item.propic.search(\r\n                                                            /(https:\\/\\/)|(http:\\/\\/)/i\r\n                                                        ) < 0\r\n                                                            ? process.env\r\n                                                                  .REACT_APP_BACKEND_URL +\r\n                                                              \"/\" +\r\n                                                              item.propic\r\n                                                            : item.propic\r\n                                                    }`}\r\n                                                    width=\"80\"\r\n                                                    height=\"80\"\r\n                                                    roundedCircle\r\n                                                    className=\"profile_logo\"\r\n                                                    alt=\"propic\"\r\n                                                />\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                    <Card.Body>\r\n                                        <Card.Title>{item.username}</Card.Title>\r\n                                        {/* <Card.Text >{item.phone_number}</Card.Text> */}\r\n                                        {/* <Card.Text>{item.email}</Card.Text> */}\r\n                                        <Card.Text className={\"name_card_vice\"}>\r\n                                            {item.telegramAcct\r\n                                                ? `${item.telegramAcct}`\r\n                                                : \"此用戶並未登記 Telegram 帳號\"}\r\n                                        </Card.Text>\r\n                                        <Card.Text>\r\n                                            {item.description\r\n                                                ? `「 ${item.description} 」`\r\n                                                : `「 大家好~我是${item.username} 」`}\r\n                                        </Card.Text>\r\n                                        <SubscribeButton\r\n                                            targetId={item.id}\r\n                                            userId={userId}\r\n                                        />\r\n                                    </Card.Body>\r\n                                </Card>\r\n                            </div>\r\n                        ))}\r\n                    {followingDetails.length === 0 && loadState !== 0 && (\r\n                        <div className=\"zero m-3\">你暫時沒有訂閱的人</div>\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import { RootState, RootThunkDispatch } from \"../../store\";\r\n\r\nexport interface MyLive {\r\n    id: number;\r\n    user_id: number;\r\n    title: string;\r\n    image: string;\r\n    starting_time: Date;\r\n    seller_link: string;\r\n    max_viewers?: number;\r\n    is_ended?: boolean;\r\n    is_live?: boolean;\r\n}\r\n\r\nexport interface MyLiveProducts {\r\n    id: number;\r\n    product_name: string;\r\n    seller_id: number;\r\n    min_price: number;\r\n    buy_price: number;\r\n    bid_increment: number;\r\n    buyer_id: number;\r\n    title: string;\r\n    live_id: number;\r\n    username: string;\r\n    email: string;\r\n    phone_number: number;\r\n    current_price: number;\r\n    product_image: string;\r\n    starting_time: Date;\r\n    telegram_acct: string;\r\n}\r\n\r\nexport function loadMyLive(myLive: MyLive[]) {\r\n    return {\r\n        type: \"@@myLive/LOAD_MY_LIVE\" as const,\r\n        myLive,\r\n    };\r\n}\r\n\r\nexport function loadMyLiveProducts(myLiveProducts: MyLiveProducts[]) {\r\n    return {\r\n        type: \"@@myLive/LOAD_MY_LIVE_PRODUCTS\" as const,\r\n        myLiveProducts,\r\n    };\r\n}\r\n\r\nexport function loadLiveStatus(liveId: MyLive[]) {\r\n    return {\r\n        type: \"@@myLive/LOAD_LIVE_STATUS\" as const,\r\n        liveId,\r\n    }\r\n}\r\n\r\nexport function loadOpenLiveStatus(myLiveId: MyLive[]) {\r\n    return {\r\n        type: \"@@myLive/LOAD_OPEN_LIVE_STATUS\" as const,\r\n        myLiveId,\r\n    }\r\n}\r\n\r\nexport function loadSoldProducts(myLiveProducts: MyLiveProducts[]) {\r\n    return {\r\n        type: \"@@myLive/LOAD_SOLD_PRODUCTS\" as const,\r\n        myLiveProducts,\r\n    }\r\n}\r\n\r\nexport type LoadMyLiveActions = ReturnType<typeof loadMyLive>\r\n    | ReturnType<typeof loadMyLiveProducts>\r\n    | ReturnType<typeof loadLiveStatus>\r\n    | ReturnType<typeof loadOpenLiveStatus>\r\n    | ReturnType<typeof loadSoldProducts>\r\n\r\n\r\nexport function fetchMyLive() {\r\n    return async (dispatch: RootThunkDispatch, getState: () => RootState) => {\r\n        try {\r\n            const res = await fetch(\r\n                `${process.env.REACT_APP_BACKEND_URL}/profilePage/myLive`\r\n            );\r\n\r\n            const json = await res.json();\r\n\r\n            if (json) {\r\n                dispatch(loadMyLive(json.data.results.rows));\r\n            } else {\r\n                dispatch(loadMyLive([]));\r\n            }\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n}\r\nexport function fetchSoldProducts(\r\n    setIsLoading: React.Dispatch<React.SetStateAction<boolean>>,\r\n    setLoadState: React.Dispatch<React.SetStateAction<number>>\r\n) {\r\n    return async (dispatch: RootThunkDispatch, getState: () => RootState) => {\r\n        try {\r\n            const res = await fetch(\r\n                `${process.env.REACT_APP_BACKEND_URL}/profilePage/mySoldHistory`\r\n            );\r\n\r\n            const json = await res.json();\r\n\r\n            if (json) {\r\n                dispatch(loadSoldProducts(json.data.results.rows));\r\n            } else {\r\n                dispatch(loadSoldProducts([]));\r\n            }\r\n            setIsLoading(false);\r\n            setLoadState((loadState) => loadState + 1);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n}\r\n\r\nexport function fetchMyLiveProducts(\r\n    setIsLoading: React.Dispatch<React.SetStateAction<boolean>>,\r\n    setLoadState: React.Dispatch<React.SetStateAction<number>>\r\n) {\r\n    return async (dispatch: RootThunkDispatch, getState: () => RootState) => {\r\n        try {\r\n            const res = await fetch(\r\n                `${process.env.REACT_APP_BACKEND_URL}/profilePage/myLiveProducts`\r\n            );\r\n\r\n            const json = await res.json();\r\n\r\n            if (json) {\r\n                dispatch(loadMyLiveProducts(json.data.results.rows));\r\n            } else {\r\n                dispatch(loadMyLiveProducts([]));\r\n            }\r\n            setIsLoading(false);\r\n            setLoadState((loadState) => loadState + 1);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n}\r\n\r\nexport function updateLiveStatus(liveId: number) {\r\n    return async (dispatch: RootThunkDispatch, getState: () => RootState) => {\r\n        try {\r\n            const res = await fetch(\r\n                `${process.env.REACT_APP_BACKEND_URL}/profilePage/liveIsEnded`, {\r\n                method: 'PUT',\r\n                headers: {\r\n                    \"Content-Type\": \"application/json; charset=utf-8\",\r\n\r\n                },\r\n                body: JSON.stringify({ liveId })\r\n            }\r\n            )\r\n            const json = await res.json()\r\n            if (json.success) {\r\n                dispatch(loadLiveStatus(json.data.results))\r\n            }\r\n\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n\r\n        }\r\n    }\r\n}\r\n\r\nexport function updateOpenLiveStatus(myLiveId: number) {\r\n    return async (dispatch: RootThunkDispatch, getState: () => RootState) => {\r\n        try {\r\n\r\n            const res = await fetch(\r\n\r\n                `${process.env.REACT_APP_BACKEND_URL}/profilePage/openMyLive`, {\r\n                method: 'PUT',\r\n                headers: {\r\n                    \"Content-Type\": \"application/json; charset=utf-8\",\r\n\r\n                },\r\n                body: JSON.stringify({ myLiveId })\r\n            }\r\n            )\r\n\r\n            const json = await res.json()\r\n            if (json.success) {\r\n\r\n                dispatch(loadOpenLiveStatus(json.data.results))\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n\r\n        }\r\n    }\r\n}\r\n","import { Button, Card, Container, Image } from \"react-bootstrap\";\r\nimport { push } from \"connected-react-router\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../store\";\r\nimport { useEffect, useState } from \"react\";\r\nimport {\r\n    fetchMyLive,\r\n    updateLiveStatus,\r\n    updateOpenLiveStatus,\r\n} from \"../../redux/myLiveProducts/action\";\r\nimport moment from \"moment\";\r\nimport \"./Animation.scss\";\r\nimport \"./MyLive.scss\";\r\n\r\nexport function MyLive() {\r\n    const dispatch = useDispatch();\r\n\r\n    const lives = useSelector((state: RootState) =>\r\n        Object.values(state.myLive.myLive)\r\n    );\r\n\r\n    const user = useSelector((state: RootState) => state.authState.user);\r\n    const userInfo = JSON.parse(JSON.stringify(user));\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchMyLive());\r\n    }, [dispatch]);\r\n\r\n    const [liveId, setLiveId] = useState(0);\r\n\r\n    useEffect(() => {\r\n        dispatch(updateLiveStatus(liveId));\r\n    }, [dispatch, liveId]);\r\n\r\n    return (\r\n        <div className=\"myLive ps-3\">\r\n            <Container className=\"m-0\">\r\n                <h2 className=\"pt-3\">我的直播</h2>\r\n            </Container>\r\n            <Container className=\"my_live_container pt-3 m-0\">\r\n                <div className=\"row w-100\">\r\n                    {lives.map(\r\n                        (live) =>\r\n                            live.user_id === userInfo.id && (\r\n                                <div\r\n                                    className=\"col-lg-3 col-md-4 col-sm-6 col-12 mb-3\"\r\n                                    key={live.id}\r\n                                >\r\n                                    <Card\r\n                                        className=\"my_live_product_card_body w-100 h-100\"\r\n                                        style={{ width: \"16rem\" }}\r\n                                    >\r\n                                        <div className=\"card_bg_color2\">\r\n                                            <div className=\"card_absolute_layer d-flex justify-content-center\">\r\n                                                <Image\r\n                                                    className=\"my_live_products\"\r\n                                                    src={`${process.env.REACT_APP_BACKEND_URL}/${live.image}`}\r\n                                                    fluid\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                        <Card.Body className=\"my_bid_card_container\">\r\n                                            <Card.Title>\r\n                                                {live.title}\r\n                                            </Card.Title>\r\n                                            <Card.Text>\r\n                                                {moment(\r\n                                                    live.starting_time\r\n                                                ).format(\r\n                                                    \"YYYY-MM-DD hh:mm:ss a\"\r\n                                                )}\r\n                                            </Card.Text>\r\n\r\n                                            {live.is_ended ? (\r\n                                                <div className=\"w-100\">\r\n                                                    <Card.Text>\r\n                                                        觀看人數：{\" \"}\r\n                                                        {live.max_viewers}\r\n                                                    </Card.Text>\r\n                                                    <Button\r\n                                                        variant=\"outline-dark\"\r\n                                                        className=\"bid_button ms-3\"\r\n                                                        disabled\r\n                                                    >\r\n                                                        直播完結\r\n                                                    </Button>\r\n                                                </div>\r\n                                            ) : (\r\n                                                <div className=\"d-flex justify-content-around w-100\">\r\n                                                    <Button\r\n                                                        variant=\"outline-dark\"\r\n                                                        className=\"bid_button\"\r\n                                                        onClick={() => {\r\n                                                            dispatch(\r\n                                                                updateOpenLiveStatus(\r\n                                                                    live.id\r\n                                                                )\r\n                                                            );\r\n                                                            dispatch(\r\n                                                                push(\r\n                                                                    `/liveStreamingSeller?token=${live.seller_link}`\r\n                                                                )\r\n                                                            );\r\n                                                        }}\r\n                                                    >\r\n                                                        開始直播\r\n                                                    </Button>\r\n                                                    <Button\r\n                                                        variant=\"outline-dark\"\r\n                                                        className=\"bid_button\"\r\n                                                        onClick={() => {\r\n                                                            setLiveId(live.id);\r\n                                                        }}\r\n                                                    >\r\n                                                        完成直播\r\n                                                    </Button>\r\n                                                </div>\r\n                                            )}\r\n                                        </Card.Body>\r\n                                    </Card>\r\n                                </div>\r\n                            )\r\n                    )}\r\n                </div>\r\n            </Container>\r\n        </div>\r\n    );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { Accordion, Container, Table } from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { fetchSoldProducts } from \"../../redux/myLiveProducts/action\";\r\nimport { RootState } from \"../../store\";\r\nimport { MyLiveProducts } from \"../../redux/myLiveProducts/action\";\r\nimport \"./Animation.scss\";\r\nimport \"./MyLiveProducts.scss\";\r\n\r\ninterface MyLiveProductsProps {\r\n    setIsLoading: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nexport function MyLiveProductsComponent(props: MyLiveProductsProps) {\r\n    const [loadState, setLoadState] = useState<number>(0);\r\n    const myLiveProducts = useSelector((state: RootState) =>\r\n        Object.values(state.myLive.myLiveProducts)\r\n    );\r\n    let myLiveProductsSorted: MyLiveProducts[] = myLiveProducts.sort(\r\n        (item1, item2) => item2.live_id - item1.live_id\r\n    );\r\n    let myLiveProductsArr: MyLiveProducts[][] = [];\r\n    let ind = 0;\r\n\r\n    while (ind < myLiveProductsSorted.length) {\r\n        if (myLiveProductsArr.length === 0) {\r\n            myLiveProductsArr.push([]);\r\n            if (myLiveProductsSorted[ind] !== undefined) {\r\n                myLiveProductsArr[0].push(myLiveProductsSorted[ind]);\r\n                ind++;\r\n            }\r\n        } else {\r\n            if (\r\n                myLiveProductsArr[myLiveProductsArr.length - 1][0].id &&\r\n                myLiveProductsSorted[ind].live_id ===\r\n                    myLiveProductsArr[myLiveProductsArr.length - 1][0].live_id\r\n            ) {\r\n                myLiveProductsArr[myLiveProductsArr.length - 1].push(\r\n                    myLiveProductsSorted[ind]\r\n                );\r\n                ind++;\r\n            } else {\r\n                myLiveProductsArr.push([]);\r\n                myLiveProductsArr[myLiveProductsArr.length - 1].push(\r\n                    myLiveProductsSorted[ind]\r\n                );\r\n                ind++;\r\n            }\r\n        }\r\n    }\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        if (loadState === 0) {\r\n            props.setIsLoading(true);\r\n        }\r\n    }, [loadState, props]);\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchSoldProducts(props.setIsLoading, setLoadState));\r\n    }, [dispatch, props]);\r\n\r\n    const user = useSelector((state: RootState) => state.authState.user);\r\n    const userInfo = JSON.parse(JSON.stringify(user));\r\n\r\n    return (\r\n        <div className=\"myLiveProducts ps-3\">\r\n            <Container>\r\n                <h2 className=\"pt-3\">我拍賣的商品</h2>\r\n            </Container>\r\n            <Container className=\"my_live_products_container pt-3\">\r\n                <Accordion defaultActiveKey=\"0\" flush>\r\n                    {myLiveProductsArr.map(\r\n                        (myLiveProductArr, index) =>\r\n                            myLiveProductArr[0].seller_id === userInfo.id && (\r\n                                <Accordion.Item\r\n                                    eventKey={`${index}`}\r\n                                    key={index}\r\n                                >\r\n                                    <Accordion.Header>\r\n                                        直播名稱： {myLiveProductArr[0].title}\r\n                                    </Accordion.Header>\r\n                                    <Accordion.Body>\r\n                                        <Table responsive=\"md\">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th>#</th>\r\n                                                    <th>商品名稱</th>\r\n                                                    <th>成交價</th>\r\n                                                    <th>買家</th>\r\n                                                    <th>買家電郵</th>\r\n                                                    <th>買家電話</th>\r\n                                                    <th>買家TG帳號</th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            {myLiveProductArr.map(\r\n                                                (product, index) => (\r\n                                                    <tbody\r\n                                                        key={\r\n                                                            product.product_name\r\n                                                        }\r\n                                                    >\r\n                                                        <tr>\r\n                                                            <td>{`${\r\n                                                                index + 1\r\n                                                            }`}</td>\r\n                                                            <td>\r\n                                                                {\r\n                                                                    product.product_name\r\n                                                                }\r\n                                                            </td>\r\n                                                            {product.buyer_id !==\r\n                                                                null &&\r\n                                                                product.buyer_id !==\r\n                                                                    product.seller_id && (\r\n                                                                    <td>\r\n                                                                        {\r\n                                                                            product.current_price\r\n                                                                        }\r\n                                                                    </td>\r\n                                                                )}\r\n\r\n                                                            {product.buyer_id !==\r\n                                                                null &&\r\n                                                                product.buyer_id !==\r\n                                                                    product.seller_id && (\r\n                                                                    <td>\r\n                                                                        {\r\n                                                                            product.username\r\n                                                                        }\r\n                                                                    </td>\r\n                                                                )}\r\n                                                            {product.buyer_id !==\r\n                                                                null &&\r\n                                                                product.buyer_id !==\r\n                                                                    product.seller_id && (\r\n                                                                    <td>\r\n                                                                        {\r\n                                                                            product.email\r\n                                                                        }\r\n                                                                    </td>\r\n                                                                )}\r\n                                                            {product.buyer_id !==\r\n                                                                null &&\r\n                                                                product.buyer_id !==\r\n                                                                    product.seller_id && (\r\n                                                                    <td>\r\n                                                                        {\r\n                                                                            product.phone_number\r\n                                                                        }\r\n                                                                    </td>\r\n                                                                )}\r\n                                                            {product.buyer_id !==\r\n                                                                null &&\r\n                                                                product.buyer_id !==\r\n                                                                    product.seller_id && (\r\n                                                                    <td>\r\n                                                                        {\r\n                                                                            product.telegram_acct\r\n                                                                        }\r\n                                                                    </td>\r\n                                                                )}\r\n                                                        </tr>\r\n                                                    </tbody>\r\n                                                )\r\n                                            )}\r\n                                        </Table>\r\n                                    </Accordion.Body>\r\n                                </Accordion.Item>\r\n                            )\r\n                    )}\r\n                </Accordion>\r\n            </Container>\r\n        </div>\r\n    );\r\n}\r\n","import moment from \"moment\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Card, Container, Image } from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { fetchMyLiveProducts } from \"../../redux/myLiveProducts/action\";\r\nimport { RootState } from \"../../store\";\r\nimport \"./MyBidHistory.scss\";\r\nimport \"./Animation.scss\";\r\n\r\ninterface MyBidHistoryProps {\r\n    setIsLoading: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nexport function MyBidHistory(props: MyBidHistoryProps) {\r\n    const [loadState, setLoadState] = useState<number>(0);\r\n    const myBidHistories = useSelector((state: RootState) =>\r\n        Object.values(state.myLive.myLiveProducts)\r\n    );\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        if (loadState === 0) {\r\n            props.setIsLoading(true);\r\n        }\r\n    }, [loadState, props]);\r\n    useEffect(() => {\r\n        dispatch(fetchMyLiveProducts(props.setIsLoading, setLoadState));\r\n    }, [dispatch, props]);\r\n\r\n    const user = useSelector((state: RootState) => state.authState.user);\r\n    const userInfo = JSON.parse(JSON.stringify(user));\r\n\r\n    return (\r\n        <div className=\"myBidHistory ps-3\">\r\n            <Container>\r\n                <h2 className=\"pt-3\">成功投到的商品</h2>\r\n            </Container>\r\n            <Container className=\"my_live_container pt-3\">\r\n                <div className=\"row\">\r\n                    {myBidHistories.map(\r\n                        (myBidHistory) =>\r\n                            myBidHistory.buyer_id !== null &&\r\n                            myBidHistory.buyer_id === userInfo.id &&\r\n                            myBidHistory.seller_id !== userInfo.id && (\r\n                                <div className=\"col-lg-3 col-md-4 col-sm-6 col-12 mb-3\">\r\n                                    <Card\r\n                                        className=\"my_live_product_card_body mb-3 h-100\"\r\n                                        style={{ width: \"16rem\" }}\r\n                                        key={myBidHistory.id}\r\n                                    >\r\n                                        <div className=\"card_bg_color2\">\r\n                                            <div className=\"card_absolute_layer d-flex justify-content-center\">\r\n                                                <Image\r\n                                                    className=\"my_live_products\"\r\n                                                    src={`${\r\n                                                        myBidHistory.product_image.search(\r\n                                                            /(https:\\/\\/)|(http:\\/\\/)/i\r\n                                                        ) < 0\r\n                                                            ? process.env\r\n                                                                  .REACT_APP_BACKEND_URL +\r\n                                                              \"/\" +\r\n                                                              myBidHistory.product_image\r\n                                                            : myBidHistory.product_image\r\n                                                    }`}\r\n                                                    fluid\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                        <Card.Body className=\"my_bid_card_container px-3\">\r\n                                            <Card.Title>\r\n                                                產品名稱：{\" \"}\r\n                                                {myBidHistory.product_name}\r\n                                            </Card.Title>\r\n                                            <Card.Text>\r\n                                                拍賣日期：{\" \"}\r\n                                                {moment(\r\n                                                    myBidHistory.starting_time\r\n                                                ).format(\"YYYY-MM-DD\")}\r\n                                            </Card.Text>\r\n                                            <Card.Text>\r\n                                                成交價格：{\" \"}\r\n                                                {myBidHistory.current_price}\r\n                                            </Card.Text>\r\n                                            <Card.Text>\r\n                                                賣家電郵： {myBidHistory.email}\r\n                                            </Card.Text>\r\n                                            <Card.Text>\r\n                                                賣家電話：{\" \"}\r\n                                                {myBidHistory.phone_number}\r\n                                            </Card.Text>\r\n                                            <Card.Text>\r\n                                                賣家Telegram帳戶：{\" \"}\r\n                                                {myBidHistory.telegram_acct}\r\n                                            </Card.Text>\r\n                                            <Card.Text>\r\n                                                由 {myBidHistory.username} 主辦\r\n                                            </Card.Text>\r\n                                        </Card.Body>\r\n                                    </Card>\r\n                                </div>\r\n                            )\r\n                    )}\r\n                </div>\r\n            </Container>\r\n        </div>\r\n    );\r\n}\r\n","import { Sidebar } from \"./Sidebar\";\r\nimport \"./Profilepage.scss\";\r\nimport { AccountDetails } from \"./AccountDetails\";\r\nimport { Follower } from \"./Follower\";\r\nimport { Following } from \"./Following\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport { MyLive } from \"./MyLive\";\r\nimport { MyLiveProductsComponent } from \"./MyLiveProducts\";\r\nimport { MyBidHistory } from \"./MyBidHistory\";\r\n\r\n// import { useState } from \"react\";\r\n// import { Col, Container, Row } from \"react-bootstrap\";\r\ninterface ProfilePageProps {\r\n    setIsLoading: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nexport function ProfilePage(props: ProfilePageProps) {\r\n    return (\r\n        <div className=\"profile_page\">\r\n            <Sidebar />\r\n            <Switch>\r\n                <Route path=\"/profilePage/follower\">\r\n                    <Follower setIsLoading={props.setIsLoading} />\r\n                </Route>\r\n                <Route path=\"/profilePage/following\">\r\n                    <Following setIsLoading={props.setIsLoading} />\r\n                </Route>\r\n                <Route path=\"/profilePage/accountDetails\">\r\n                    <AccountDetails />\r\n                </Route>\r\n                <Route path=\"/profilePage/my-live-products\">\r\n                    <MyLiveProductsComponent\r\n                        setIsLoading={props.setIsLoading}\r\n                    />\r\n                </Route>\r\n                <Route path=\"/profilePage/my-live\">\r\n                    <MyLive />\r\n                </Route>\r\n                <Route path=\"/profilePage/my-bid-history\">\r\n                    <MyBidHistory setIsLoading={props.setIsLoading} />\r\n                </Route>\r\n            </Switch>\r\n        </div>\r\n    );\r\n}\r\n","import {\r\n    ButtonGroup,\r\n    Container,\r\n    Dropdown,\r\n    DropdownButton,\r\n    Image,\r\n    Col,\r\n} from \"react-bootstrap\";\r\nimport \"./CategoryResult.scss\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSlidersH } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../store\";\r\nimport moment from \"moment\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\n\r\nexport function SearchResults() {\r\n    const searchingResults = useSelector(\r\n        (state: RootState) => state.searchProduct.productList\r\n    );\r\n\r\n    const [sortingMethod, setSortingMethod] = useState(\"2\");\r\n\r\n    return (\r\n        <div className=\"category_page\">\r\n            <Container>\r\n                <ButtonGroup\r\n                    aria-label=\"Basic example\"\r\n                    className=\"pt-3 button_group\"\r\n                >\r\n                    <div>\r\n                        <FontAwesomeIcon\r\n                            icon={faSlidersH}\r\n                            className=\"filter_icon\"\r\n                        />\r\n                        篩選器：{\" \"}\r\n                    </div>\r\n                    <DropdownButton\r\n                        as={ButtonGroup}\r\n                        title=\"拍賣日期\"\r\n                        id=\"bg-nested-dropdown\"\r\n                    >\r\n                        <Dropdown.Item\r\n                            eventKey=\"1\"\r\n                            onClick={() => setSortingMethod(\"2\")}\r\n                        >\r\n                            由遠至近\r\n                        </Dropdown.Item>\r\n                        <Dropdown.Item\r\n                            eventKey=\"2\"\r\n                            onClick={() => {\r\n                                setSortingMethod(\"1\");\r\n                            }}\r\n                        >\r\n                            由近至遠\r\n                        </Dropdown.Item>\r\n                    </DropdownButton>\r\n                    <DropdownButton\r\n                        as={ButtonGroup}\r\n                        title=\"底價\"\r\n                        id=\"bg-nested-dropdown\"\r\n                    >\r\n                        <Dropdown.Item\r\n                            eventKey=\"3\"\r\n                            onClick={() => {\r\n                                setSortingMethod(\"4\");\r\n                            }}\r\n                        >\r\n                            由高至低\r\n                        </Dropdown.Item>\r\n                        <Dropdown.Item\r\n                            eventKey=\"4\"\r\n                            onClick={() => {\r\n                                setSortingMethod(\"3\");\r\n                            }}\r\n                        >\r\n                            由低至高\r\n                        </Dropdown.Item>\r\n                    </DropdownButton>\r\n                </ButtonGroup>\r\n                <hr />\r\n\r\n                {searchingResults &&\r\n                    (sortingMethod === \"1\"\r\n                        ? [...searchingResults].sort((a, b) => {\r\n                              if (\r\n                                  new Date(Date.parse(a.starting_time)) >\r\n                                  new Date(Date.parse(b.starting_time))\r\n                              ) {\r\n                                  return 1;\r\n                              }\r\n                              if (\r\n                                  new Date(Date.parse(a.starting_time)) <\r\n                                  new Date(Date.parse(b.starting_time))\r\n                              ) {\r\n                                  return -1;\r\n                              }\r\n                              return 0;\r\n                          })\r\n                        : sortingMethod === \"2\"\r\n                        ? [...searchingResults].sort((a, b) => {\r\n                              if (\r\n                                  new Date(Date.parse(a.starting_time)) >\r\n                                  new Date(Date.parse(b.starting_time))\r\n                              ) {\r\n                                  return -1;\r\n                              }\r\n                              if (\r\n                                  new Date(Date.parse(a.starting_time)) <\r\n                                  new Date(Date.parse(b.starting_time))\r\n                              ) {\r\n                                  return 1;\r\n                              }\r\n                              return 0;\r\n                          })\r\n                        : sortingMethod === \"3\"\r\n                        ? [...searchingResults].sort((a, b) => {\r\n                              if (a.min_price > b.min_price) {\r\n                                  return 1;\r\n                              }\r\n                              if (a.min_price < b.min_price) {\r\n                                  return -1;\r\n                              }\r\n                              return 0;\r\n                          })\r\n                        : [...searchingResults].sort((a, b) => {\r\n                              if (a.min_price > b.min_price) {\r\n                                  return -1;\r\n                              }\r\n                              if (a.min_price < b.min_price) {\r\n                                  return 1;\r\n                              }\r\n                              return 0;\r\n                          })\r\n                    ).map((searchingResult) => (\r\n                        <div\r\n                            className=\"category_items_container pe-3\"\r\n                            key={searchingResult.id}\r\n                        >\r\n                            <Col\r\n                                xs={6}\r\n                                md={4}\r\n                                className=\"category_img_container\"\r\n                            >\r\n                                <Link\r\n                                    to={`/liveStreaming?room=${searchingResult.buyer_link}`}\r\n                                >\r\n                                    <Image\r\n                                        key={searchingResult.id}\r\n                                        src={`${process.env.REACT_APP_BACKEND_URL}/${searchingResult.product_image}`}\r\n                                        fluid\r\n                                    />\r\n                                </Link>\r\n                            </Col>\r\n                            <div className=\"description_container\">\r\n                                <Link\r\n                                    className=\"product_name_link\"\r\n                                    to={`/liveStreaming?room=${searchingResult.buyer_link}`}\r\n                                >\r\n                                    <h3>{searchingResult.product_name}</h3>\r\n                                </Link>\r\n                                <h6>底價： {searchingResult.min_price}</h6>\r\n                                <h6>即買價： {searchingResult.buy_price}</h6>\r\n                                <h6>\r\n                                    拍賣日期：\r\n                                    {moment(\r\n                                        searchingResult.starting_time\r\n                                    ).format(\"YYYY-MM-DD hh:mm:ss a\")}\r\n                                </h6>\r\n                                <h6>拍賣主： {searchingResult.username}</h6>\r\n                                <p className=\"products_description\">\r\n                                    商品簡介： {searchingResult.description}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n            </Container>\r\n        </div>\r\n    );\r\n}\r\n","import {\r\n    ButtonGroup,\r\n    Container,\r\n    Dropdown,\r\n    DropdownButton,\r\n    Image,\r\n    Col,\r\n} from \"react-bootstrap\";\r\nimport \"./CategoryResult.scss\";\r\nimport moment from \"moment\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSlidersH } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../store\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\n\r\nexport function CategoriesFilter() {\r\n    const filterProducts = useSelector(\r\n        (state: RootState) => state.searchProduct.categories\r\n    );\r\n\r\n    const [sortingMethod, setSortingMethod] = useState(\"2\");\r\n\r\n    return (\r\n        <div className=\"category_page\">\r\n            <Container>\r\n                <ButtonGroup\r\n                    aria-label=\"Basic example\"\r\n                    className=\"pt-3 button_group\"\r\n                >\r\n                    <div>\r\n                        <FontAwesomeIcon\r\n                            icon={faSlidersH}\r\n                            className=\"filter_icon\"\r\n                        />\r\n                        篩選器：{\" \"}\r\n                    </div>\r\n                    <DropdownButton\r\n                        as={ButtonGroup}\r\n                        title=\"拍賣日期\"\r\n                        id=\"bg-nested-dropdown\"\r\n                    >\r\n                        <Dropdown.Item\r\n                            eventKey=\"1\"\r\n                            onClick={() => setSortingMethod(\"2\")}\r\n                        >\r\n                            由遠至近\r\n                        </Dropdown.Item>\r\n                        <Dropdown.Item\r\n                            eventKey=\"2\"\r\n                            onClick={() => setSortingMethod(\"1\")}\r\n                        >\r\n                            由近至遠\r\n                        </Dropdown.Item>\r\n                    </DropdownButton>\r\n                    <DropdownButton\r\n                        as={ButtonGroup}\r\n                        title=\"底價\"\r\n                        id=\"bg-nested-dropdown\"\r\n                    >\r\n                        <Dropdown.Item\r\n                            eventKey=\"3\"\r\n                            onClick={() => setSortingMethod(\"4\")}\r\n                        >\r\n                            由高至低\r\n                        </Dropdown.Item>\r\n                        <Dropdown.Item\r\n                            eventKey=\"4\"\r\n                            onClick={() => setSortingMethod(\"3\")}\r\n                        >\r\n                            由低至高\r\n                        </Dropdown.Item>\r\n                    </DropdownButton>\r\n                </ButtonGroup>\r\n                <hr />\r\n\r\n                {filterProducts &&\r\n                    (sortingMethod === \"1\"\r\n                        ? [...filterProducts].sort((a, b) => {\r\n                              if (\r\n                                  new Date(Date.parse(a.starting_time)) >\r\n                                  new Date(Date.parse(b.starting_time))\r\n                              ) {\r\n                                  return 1;\r\n                              }\r\n                              if (\r\n                                  new Date(Date.parse(a.starting_time)) <\r\n                                  new Date(Date.parse(b.starting_time))\r\n                              ) {\r\n                                  return -1;\r\n                              }\r\n                              return 0;\r\n                          })\r\n                        : sortingMethod === \"2\"\r\n                        ? [...filterProducts].sort((a, b) => {\r\n                              if (\r\n                                  new Date(Date.parse(a.starting_time)) >\r\n                                  new Date(Date.parse(b.starting_time))\r\n                              ) {\r\n                                  return -1;\r\n                              }\r\n                              if (\r\n                                  new Date(Date.parse(a.starting_time)) <\r\n                                  new Date(Date.parse(b.starting_time))\r\n                              ) {\r\n                                  return 1;\r\n                              }\r\n                              return 0;\r\n                          })\r\n                        : sortingMethod === \"3\"\r\n                        ? [...filterProducts].sort((a, b) => {\r\n                              if (a.min_price > b.min_price) {\r\n                                  return 1;\r\n                              }\r\n                              if (a.min_price < b.min_price) {\r\n                                  return -1;\r\n                              }\r\n                              return 0;\r\n                          })\r\n                        : [...filterProducts].sort((a, b) => {\r\n                              if (a.min_price > b.min_price) {\r\n                                  return -1;\r\n                              }\r\n                              if (a.min_price < b.min_price) {\r\n                                  return 1;\r\n                              }\r\n                              return 0;\r\n                          })\r\n                    ).map((filterProduct) => (\r\n                        <div\r\n                            className=\"category_items_container pe-3\"\r\n                            key={filterProduct.id}\r\n                        >\r\n                            <Col\r\n                                xs={6}\r\n                                md={4}\r\n                                className=\"category_img_container\"\r\n                            >\r\n                                <Link\r\n                                    to={`/liveStreaming?room=${filterProduct.buyer_link}`}\r\n                                >\r\n                                    <Image\r\n                                        key={filterProduct.id}\r\n                                        src={`${process.env.REACT_APP_BACKEND_URL}/${filterProduct.product_image}`}\r\n                                        fluid\r\n                                    />\r\n                                </Link>\r\n                            </Col>\r\n                            <div className=\"description_container\">\r\n                                <Link\r\n                                    className=\"product_name_link\"\r\n                                    to={`/liveStreaming?room=${filterProduct.buyer_link}`}\r\n                                >\r\n                                    <h3>{filterProduct.product_name}</h3>\r\n                                </Link>\r\n                                <h6>底價： {filterProduct.min_price}</h6>\r\n                                <h6>即買價： {filterProduct.buy_price}</h6>\r\n                                <h6>\r\n                                    拍賣日期：\r\n                                    {moment(filterProduct.starting_time).format(\r\n                                        \"YYYY-MM-DD hh:mm:ss a\"\r\n                                    )}\r\n                                </h6>\r\n                                <h6>拍賣主： {filterProduct.username}</h6>\r\n                                <p className=\"products_description\">\r\n                                    商品簡介： {filterProduct.description}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n            </Container>\r\n        </div>\r\n    );\r\n}\r\n","import {\r\n    ButtonGroup,\r\n    Container,\r\n    Dropdown,\r\n    DropdownButton,\r\n    Image,\r\n    Col,\r\n} from \"react-bootstrap\";\r\nimport \"./CategoryResult.scss\";\r\nimport moment from \"moment\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSlidersH } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../store\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { fetchProductsForFilter } from \"../../redux/searchResult/action\";\r\nimport { push } from \"connected-react-router\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport function FilterProducts() {\r\n    const dispatch = useDispatch();\r\n\r\n    const [orderCommand, setOrderCommand] = useState(\" \");\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchProductsForFilter(orderCommand));\r\n    }, [dispatch, orderCommand]);\r\n\r\n    const products = useSelector((state: RootState) =>\r\n        Object.values(state.searchProduct.productFilter)\r\n    );\r\n\r\n    return (\r\n        <div className=\"category_page\">\r\n            <Container>\r\n                <ButtonGroup\r\n                    aria-label=\"Basic example\"\r\n                    className=\"pt-3 button_group\"\r\n                >\r\n                    <div>\r\n                        <FontAwesomeIcon\r\n                            icon={faSlidersH}\r\n                            className=\"filter_icon\"\r\n                        />\r\n                        篩選器：{\" \"}\r\n                    </div>\r\n                    <DropdownButton\r\n                        as={ButtonGroup}\r\n                        title=\"拍賣日期\"\r\n                        id=\"bg-nested-dropdown\"\r\n                    >\r\n                        <Dropdown.Item\r\n                            eventKey=\"1\"\r\n                            onClick={() => {\r\n                                setOrderCommand(\"DateNewToOld\");\r\n                                dispatch(\r\n                                    push(`/filteredProducts?DateOldToNew`)\r\n                                );\r\n                            }}\r\n                        >\r\n                            由遠至近\r\n                        </Dropdown.Item>\r\n\r\n                        <Dropdown.Item\r\n                            eventKey=\"2\"\r\n                            onClick={() => {\r\n                                setOrderCommand(\"DateOldToNew\");\r\n                                dispatch(\r\n                                    push(`/filteredProducts?DateOldToNew`)\r\n                                );\r\n                            }}\r\n                        >\r\n                            由近至遠\r\n                        </Dropdown.Item>\r\n                    </DropdownButton>\r\n                    <DropdownButton\r\n                        as={ButtonGroup}\r\n                        title=\"底價\"\r\n                        id=\"bg-nested-dropdown\"\r\n                    >\r\n                        <Dropdown.Item\r\n                            eventKey=\"1\"\r\n                            onClick={() => {\r\n                                setOrderCommand(\"PriceH2L\");\r\n                                dispatch(push(`/filteredProducts?PriceH2L`));\r\n                            }}\r\n                        >\r\n                            由高至低\r\n                        </Dropdown.Item>\r\n                        <Dropdown.Item\r\n                            eventKey=\"2\"\r\n                            onClick={() => {\r\n                                setOrderCommand(\"PriceL2H\");\r\n                                dispatch(push(`/filteredProducts?PriceL2H`));\r\n                            }}\r\n                        >\r\n                            由低至高\r\n                        </Dropdown.Item>\r\n                    </DropdownButton>\r\n                </ButtonGroup>\r\n                <hr />\r\n\r\n                {products &&\r\n                    products.map((product) => (\r\n                        <div\r\n                            className=\"category_items_container pe-3\"\r\n                            key={product.id}\r\n                        >\r\n                            <Col\r\n                                xs={6}\r\n                                md={4}\r\n                                className=\"category_img_container\"\r\n                            >\r\n                                <Link\r\n                                    to={`/liveStreaming?room=${product.buyer_link}`}\r\n                                >\r\n                                    <Image\r\n                                        key={product.id}\r\n                                        src={`${process.env.REACT_APP_BACKEND_URL}/${product.product_image}`}\r\n                                        fluid\r\n                                    />\r\n                                </Link>\r\n                            </Col>\r\n                            <div className=\"description_container\">\r\n                                <Link\r\n                                    className=\"product_name_link\"\r\n                                    to={`/liveStreaming?room=${product.buyer_link}`}\r\n                                >\r\n                                    <h3>{product.product_name}</h3>\r\n                                </Link>\r\n                                <h6>底價： {product.min_price}</h6>\r\n                                <h6>即買價： {product.buy_price}</h6>\r\n                                <h6>\r\n                                    拍賣日期：\r\n                                    {moment(product.starting_time).format(\r\n                                        \"YYYY-MM-DD hh:mm:ss a\"\r\n                                    )}\r\n                                </h6>\r\n                                <h6>拍賣主： {product.username}</h6>\r\n                                <p className=\"products_description\">\r\n                                    商品簡介： {product.description}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n            </Container>\r\n        </div>\r\n    );\r\n}\r\n","import \"./adblock.scss\";\r\nimport bidcast_logo from \"./icon2p.png\";\r\n\r\nexport function Adblock() {\r\n    return (\r\n        <div className=\"adblock w-100 d-flex justify-content-center align-items-center flex-column my-5\">\r\n            <img\r\n                className=\"w-50\"\r\n                src=\"https://i.imgflip.com/5ru9jw.jpg\"\r\n                alt=\"404\"\r\n            />\r\n            <div className=\"text-center my-3\">\r\n                由於Adblock過於強大, 有可能把直播內容當成廣告截斷 <br />\r\n                請先把Adblock關閉。\r\n            </div>\r\n            <img\r\n                className=\"logo w-25 rounded mb-3\"\r\n                src={bidcast_logo}\r\n                alt=\"logo\"\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Adblock;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYYAAABQCAMAAAAqTiJRAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAv1QTFRFAAAAGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzGygzSmXSlwAAAP90Uk5TAAEGToOpq6ief3VcOxkCBSCQkb343YdXZ32gqnZogVoxClTh+c0TJQQIDxcrpiNi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\"","import React, { useEffect, useState, useRef } from \"react\";\r\nimport \"react-custom-scroll/dist/customScroll.css\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"@fortawesome/fontawesome-free/css/all.css\";\r\nimport \"./App.scss\";\r\nimport LiveStream from \"./pages/LiveStream/LiveStream\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport { LoginPage } from \"./pages/login/LoginPage\";\r\nimport { HomePageNavbar } from \"./pages/homepage/Navbar\";\r\nimport { Footer } from \"./pages/homepage/Footer\";\r\nimport { CreateBids } from \"./pages/createbids/CreateBids\";\r\nimport LiveStreamSeller from \"./pages/LiveStream/LiveStreamSeller\";\r\nimport { Homepage } from \"./pages/homepage/Homepage\";\r\nimport { ProfilePage } from \"./pages/Profile-Page/Profilepage\";\r\nimport { SearchResults } from \"./pages/categories/SearchResult\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { checkCurrentUser } from \"./redux/user/actions\";\r\nimport { useAdBlockDetector } from \"adblock-detector-hook\";\r\nimport { RootState } from \"./store\";\r\nimport { CategoriesFilter } from \"./pages/categories/CategoriesFilter\";\r\nimport { FilterProducts } from \"./pages/categories/FilterProducts\";\r\nimport { menuIconClick } from \"./redux/utility/actions\";\r\nimport { LoadingDefaultStyle } from \"./pages/loading/loading\";\r\nimport Four0Four from \"./pages/four0Four/four0Four\";\r\nimport Adblock from \"./pages/adblock/adblock\";\r\nimport ScrollRestoration from \"react-scroll-restoration\";\r\n\r\nfunction App() {\r\n    const dispatch = useDispatch();\r\n    const [isAlertChecked, setIsAlertChecked] = useState(false);\r\n    const userInfo = useSelector((state: RootState) => state.authState.user);\r\n    const isAuthenticate = useSelector(\r\n        (state: RootState) => state.user.isAuthenticate\r\n    );\r\n    const menuCollapse = useSelector(\r\n        (state: RootState) => state.utility.menuCollapse\r\n    );\r\n    const appRef = useRef<HTMLDivElement>(null);\r\n    const [navbarRef, setNavbarRef] = useState<HTMLDivElement>();\r\n    const [isLoading, setIsLoading] = useState<boolean>(false);\r\n\r\n    useEffect(() => {\r\n        const closeMenu = (e: MouseEvent) => {\r\n            if (\r\n                !menuCollapse &&\r\n                navbarRef &&\r\n                e.clientY > navbarRef.getBoundingClientRect().height\r\n            ) {\r\n                dispatch(menuIconClick(menuCollapse, true));\r\n            }\r\n        };\r\n        if (appRef && appRef.current) {\r\n            appRef.current.addEventListener(\"click\", closeMenu);\r\n            return () => {\r\n                if (appRef && appRef.current) {\r\n                    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n                    appRef.current.removeEventListener(\"click\", closeMenu);\r\n                }\r\n            };\r\n        }\r\n    }, [dispatch, menuCollapse, navbarRef]);\r\n\r\n    // const history = useHistory();\r\n    // const toaster = React.useRef() as React.MutableRefObject<HTMLInputElement>;\r\n\r\n    useEffect(() => {\r\n        if (!isAlertChecked) {\r\n            dispatch(checkCurrentUser());\r\n\r\n            setIsAlertChecked(true);\r\n        }\r\n        // (dispatch(push('/profilePage/accountDetails')))\r\n        // //    ( isAlertChecked(`請到個人頁面更改電話號碼`))\r\n    }, [dispatch, isAlertChecked, userInfo, isAuthenticate]);\r\n\r\n    const { detected } = useAdBlockDetector();\r\n    <div>AdBlocker Detected: {JSON.stringify(detected)}</div>;\r\n\r\n    const dummy = useSelector((state: RootState) => state.liveStream.dummy);\r\n\r\n    return (\r\n        <div className=\"App\" ref={appRef}>\r\n            {/* {} */}\r\n            {detected ? (\r\n                <Adblock />\r\n            ) : (\r\n                <>\r\n                    {isLoading && (\r\n                        <div className=\"d-flex\">\r\n                            <div className=\"back_layer\"></div>\r\n                            <div className=\"absolute_layer\">\r\n                                <LoadingDefaultStyle />\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    <HomePageNavbar setNavbarRef={setNavbarRef} />\r\n                    <ScrollRestoration />\r\n                    <Switch>\r\n                        {/* <Route path=\"/\" ><Homepage /></Route> */}\r\n                        <Route path=\"/\" exact>\r\n                            <Homepage setIsLoading={setIsLoading} />\r\n                        </Route>\r\n                        <Route path=\"/createBids\">\r\n                            <CreateBids />\r\n                        </Route>\r\n                        <Route path=\"/liveStreaming\" key={dummy}>\r\n                            <LiveStream setIsLoading={setIsLoading} />\r\n                        </Route>\r\n                        <Route path=\"/liveStreamingSeller\">\r\n                            <LiveStreamSeller setIsLoading={setIsLoading} />\r\n                        </Route>\r\n                        <Route path=\"/searchResult\">\r\n                            <SearchResults />\r\n                        </Route>\r\n                        <Route path=\"/categoryResult\">\r\n                            <CategoriesFilter />\r\n                        </Route>\r\n                        <Route path=\"/filteredProducts\">\r\n                            <FilterProducts />\r\n                        </Route>\r\n                        <Route path=\"/profilePage\">\r\n                            <ProfilePage setIsLoading={setIsLoading} />\r\n                        </Route>\r\n                        <Route path=\"/loginPage\">\r\n                            <LoginPage />\r\n                        </Route>\r\n                        <Route path=\"/\">\r\n                            <Four0Four />\r\n                        </Route>\r\n                    </Switch>\r\n                    <Footer />\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.scss\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { Provider } from \"react-redux\";\r\nimport {store,history} from './store'\r\nimport { ConnectedRouter } from \"connected-react-router\";\r\n\r\n\r\n\r\n\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <Provider store={store}>\r\n            <ConnectedRouter history={history}>\r\n           \r\n                <App />\r\n                \r\n            </ConnectedRouter>\r\n        </Provider>\r\n    </React.StrictMode>,\r\n    document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}